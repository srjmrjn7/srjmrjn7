import{r as s,j as c}from"./index-CVcNbIs1.js";import{p as tn}from"./pdf-2vJvRhdA.js";import{w as _}from"./warning-B2jWFNBf.js";import{u as rn}from"./index-VHgGGu6K.js";import{A as on,m as sn}from"./proxy-DpCDqZyM.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./___vite-browser-external_commonjs-proxy-CwTsVdoa.js";import"./index-C8zOzmke.js";import"./index-Chjiymov.js";import"./tslib.es6-DL2BruWv.js";const X=tn;var M=function(e,n,r){if(r||arguments.length===2)for(var t=0,o=n.length,i;t<o;t++)(i||!(t in n))&&(i||(i=Array.prototype.slice.call(n,0,t)),i[t]=n[t]);return e.concat(i||Array.prototype.slice.call(n))},an=["onCopy","onCut","onPaste"],cn=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],un=["onFocus","onBlur"],ln=["onInput","onInvalid","onReset","onSubmit"],fn=["onLoad","onError"],dn=["onKeyDown","onKeyPress","onKeyUp"],pn=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],gn=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],hn=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],mn=["onSelect"],En=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],yn=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],vn=["onScroll"],Sn=["onWheel"],xn=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Pn=["onTransitionEnd"],wn=["onToggle"],Rn=["onChange"],bn=M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M([],an,!0),cn,!0),un,!0),ln,!0),fn,!0),dn,!0),pn,!0),gn,!0),hn,!0),mn,!0),En,!0),yn,!0),vn,!0),Sn,!0),xn,!0),Pn,!0),Rn,!0),wn,!0);function Ne(e,n){var r={};return bn.forEach(function(t){var o=e[t];o&&(n?r[t]=(function(i){return o(i,n(t))}):r[t]=o)}),r}function le(e){var n=!1,r=new Promise(function(t,o){e.then(function(i){return!n&&t(i)}).catch(function(i){return!n&&o(i)})});return{promise:r,cancel:function(){n=!0}}}function Me(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=Me(e[n]))&&(t&&(t+=" "),t+=r)}else for(r in e)e[r]&&(t&&(t+=" "),t+=r);return t}function ve(){for(var e,n,r=0,t="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=Me(e))&&(t&&(t+=" "),t+=n);return t}var Ln="Invariant failed";function v(e,n){if(!e)throw new Error(Ln)}var be=Object.prototype.hasOwnProperty;function Le(e,n,r){for(r of e.keys())if(ce(r,n))return r}function ce(e,n){var r,t,o;if(e===n)return!0;if(e&&n&&(r=e.constructor)===n.constructor){if(r===Date)return e.getTime()===n.getTime();if(r===RegExp)return e.toString()===n.toString();if(r===Array){if((t=e.length)===n.length)for(;t--&&ce(e[t],n[t]););return t===-1}if(r===Set){if(e.size!==n.size)return!1;for(t of e)if(o=t,o&&typeof o=="object"&&(o=Le(n,o),!o)||!n.has(o))return!1;return!0}if(r===Map){if(e.size!==n.size)return!1;for(t of e)if(o=t[0],o&&typeof o=="object"&&(o=Le(n,o),!o)||!ce(t[1],n.get(o)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),n=new Uint8Array(n);else if(r===DataView){if((t=e.byteLength)===n.byteLength)for(;t--&&e.getInt8(t)===n.getInt8(t););return t===-1}if(ArrayBuffer.isView(e)){if((t=e.byteLength)===n.byteLength)for(;t--&&e[t]===n[t];);return t===-1}if(!r||typeof e=="object"){t=0;for(r in e)if(be.call(e,r)&&++t&&!be.call(n,r)||!(r in n)||!ce(e[r],n[r]))return!1;return Object.keys(n).length===t}}return e!==e&&n!==n}const _e=s.createContext(null);function ue({children:e,type:n}){return c.jsx("div",{className:`react-pdf__message react-pdf__message--${n}`,children:e})}const Tn="noopener noreferrer nofollow";class Cn{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(n){this.pdfDocument=n}setViewer(n){this.pdfViewer=n}setExternalLinkRel(n){this.externalLinkRel=n}setExternalLinkTarget(n){this.externalLinkTarget=n}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return v(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(n){v(this.pdfViewer),this.pdfViewer.currentPageNumber=n}get rotation(){return 0}set rotation(n){}goToDestination(n){return new Promise(r=>{v(this.pdfDocument),v(n),typeof n=="string"?this.pdfDocument.getDestination(n).then(r):Array.isArray(n)?r(n):n.then(r)}).then(r=>{v(Array.isArray(r));const t=r[0];new Promise(o=>{v(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then(i=>{o(i)}).catch(()=>{v(!1)}):typeof t=="number"?o(t):v(!1)}).then(o=>{const i=o+1;v(this.pdfViewer),v(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:r,pageIndex:o,pageNumber:i})})})}navigateTo(n){this.goToDestination(n)}goToPage(n){const r=n-1;v(this.pdfViewer),v(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:r,pageNumber:n})}addLinkAttributes(n,r,t){n.href=r,n.rel=this.externalLinkRel||Tn,n.target=t?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Te={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Se=typeof document<"u",Fe=Se&&window.location.protocol==="file:";function jn(e){return typeof e<"u"}function re(e){return jn(e)&&e!==null}function kn(e){return typeof e=="string"}function Dn(e){return e instanceof ArrayBuffer}function An(e){return v(Se),e instanceof Blob}function Re(e){return kn(e)&&/^data:/.test(e)}function Ce(e){v(Re(e));const[n="",r=""]=e.split(",");return n.split(";").indexOf("base64")!==-1?atob(r):unescape(r)}function On(){return Se&&window.devicePixelRatio||1}const Ge="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function je(){_(!Fe,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Ge}`)}function Nn(){_(!Fe,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Ge}`)}function ee(e){e&&e.cancel&&e.cancel()}function ye(e,n){return Object.defineProperty(e,"width",{get(){return this.view[2]*n},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*n},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function Ve(e){return e.name==="RenderingCancelledException"}function Mn(e){return new Promise((n,r)=>{const t=new FileReader;t.onload=()=>{if(!t.result)return r(new Error("Error while reading a file."));n(t.result)},t.onerror=o=>{if(!o.target)return r(new Error("Error while reading a file."));const{error:i}=o.target;if(!i)return r(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},t.readAsArrayBuffer(e)})}function _n(e,n){switch(n.type){case"RESOLVE":return{value:n.value,error:void 0};case"REJECT":return{value:!1,error:n.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function oe(){return s.useReducer(_n,{value:void 0,error:void 0})}var Fn=function(e,n,r,t){function o(i){return i instanceof r?i:new r(function(u){u(i)})}return new(r||(r=Promise))(function(i,u){function T(d){try{f(t.next(d))}catch(S){u(S)}}function a(d){try{f(t.throw(d))}catch(S){u(S)}}function f(d){d.done?i(d.value):o(d.value).then(T,a)}f((t=t.apply(e,n||[])).next())})},ke=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const{PDFDataRangeTransport:Gn}=X,Vn=(e,n)=>{switch(n){case Te.NEED_PASSWORD:{const r=prompt("Enter the password to open this PDF file.");e(r);break}case Te.INCORRECT_PASSWORD:{const r=prompt("Invalid password. Please try again.");e(r);break}}};function De(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const In=s.forwardRef(function(n,r){var{children:t,className:o,error:i="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:T,file:a,inputRef:f,imageResourcesPath:d,loading:S="Loading PDF…",noData:E="No PDF file specified.",onItemClick:g,onLoadError:m,onLoadProgress:y,onLoadSuccess:x,onPassword:b=Vn,onSourceError:k,onSourceSuccess:L,options:w,renderMode:h,rotate:D}=n,I=ke(n,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,A]=oe(),{value:F,error:p}=W,[$,C]=oe(),{value:R,error:G}=$,O=s.useRef(new Cn),N=s.useRef([]),U=s.useRef(void 0),z=s.useRef(void 0);a&&a!==U.current&&De(a)&&(_(!ce(a,U.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),U.current=a),w&&w!==z.current&&(_(!ce(w,z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),z.current=w);const l=s.useRef({scrollPageIntoView:P=>{const{dest:H,pageNumber:K,pageIndex:Q=K-1}=P;if(g){g({dest:H,pageIndex:Q,pageNumber:K});return}const Z=N.current[Q];if(Z){Z.scrollIntoView();return}_(!1,`An internal link leading to page ${K} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});s.useImperativeHandle(r,()=>({linkService:O,pages:N,viewer:l}),[]);function V(){L&&L()}function J(){p&&(_(!1,p.toString()),k&&k(p))}function fe(){A({type:"RESET"})}s.useEffect(fe,[a,A]);const ne=s.useCallback(()=>Fn(this,void 0,void 0,function*(){if(!a)return null;if(typeof a=="string")return Re(a)?{data:Ce(a)}:(je(),{url:a});if(a instanceof Gn)return{range:a};if(Dn(a))return{data:a};if(Se&&An(a))return{data:yield Mn(a)};if(v(typeof a=="object"),v(De(a)),"url"in a&&typeof a.url=="string"){if(Re(a.url)){const{url:P}=a,H=ke(a,["url"]),K=Ce(P);return Object.assign({data:K},H)}je()}return a}),[a]);s.useEffect(()=>{const P=le(ne());return P.promise.then(H=>{A({type:"RESOLVE",value:H})}).catch(H=>{A({type:"REJECT",error:H})}),()=>{ee(P)}},[ne,A]),s.useEffect(()=>{if(!(typeof F>"u")){if(F===!1){J();return}V()}},[F]);function de(){R&&(x&&x(R),N.current=new Array(R.numPages),O.current.setDocument(R))}function se(){G&&(_(!1,G.toString()),m&&m(G))}function me(){C({type:"RESET"})}s.useEffect(me,[C,F]);function Pe(){if(!F)return;const P=Object.assign(Object.assign({},w),{isEvalSupported:!1}),H=Object.assign(Object.assign({},F),P),K=X.getDocument(H);y&&(K.onProgress=y),b&&(K.onPassword=b);const Q=K;return Q.promise.then(Z=>{C({type:"RESOLVE",value:Z})}).catch(Z=>{Q.destroyed||C({type:"REJECT",error:Z})}),()=>{Q.destroy()}}s.useEffect(Pe,[w,C,F]),s.useEffect(()=>{if(!(typeof R>"u")){if(R===!1){se();return}de()}},[R]);function te(){O.current.setViewer(l.current),O.current.setExternalLinkRel(u),O.current.setExternalLinkTarget(T)}s.useEffect(te,[u,T]);function j(P,H){N.current[P]=H}function pe(P){delete N.current[P]}const ge=s.useMemo(()=>({imageResourcesPath:d,linkService:O.current,onItemClick:g,pdf:R,registerPage:j,renderMode:h,rotate:D,unregisterPage:pe}),[d,g,R,h,D]),B=s.useMemo(()=>Ne(I,()=>R),[I,R]);function Y(){return c.jsx(_e.Provider,{value:ge,children:t})}function q(){return a?R==null?c.jsx(ue,{type:"loading",children:typeof S=="function"?S():S}):R===!1?c.jsx(ue,{type:"error",children:typeof i=="function"?i():i}):Y():c.jsx(ue,{type:"no-data",children:typeof E=="function"?E():E})}return c.jsx("div",Object.assign({className:ve("react-pdf__Document",o),ref:f,style:{"--scale-factor":"1"}},B,{children:q()}))});function Ie(){return s.useContext(_e)}function $e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.filter(Boolean);if(r.length<=1){var t=r[0];return t||null}return function(i){r.forEach(function(u){typeof u=="function"?u(i):u&&(u.current=i)})}}const Be=s.createContext(null),Ue={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},$n=/^H(\d+)$/;function Bn(e){return e in Ue}function xe(e){return"children"in e}function He(e){return xe(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function Un(e){const n={};if(xe(e)){const{role:r}=e,t=r.match($n);if(t)n.role="heading",n["aria-level"]=Number(t[1]);else if(Bn(r)){const o=Ue[r];o&&(n.role=o)}}return n}function We(e){const n={};if(xe(e)){if(e.alt!==void 0&&(n["aria-label"]=e.alt),e.lang!==void 0&&(n.lang=e.lang),He(e)){const[r]=e.children;if(r){const t=We(r);return Object.assign(Object.assign({},n),t)}}}else"id"in e&&(n["aria-owns"]=e.id);return n}function Hn(e){return e?Object.assign(Object.assign({},Un(e)),We(e)):null}function ze({className:e,node:n}){const r=s.useMemo(()=>Hn(n),[n]),t=s.useMemo(()=>!xe(n)||He(n)?null:n.children.map((o,i)=>c.jsx(ze,{node:o},i)),[n]);return c.jsx("span",Object.assign({className:e},r,{children:t}))}function he(){return s.useContext(Be)}function Wn(){const e=he();v(e);const{onGetStructTreeError:n,onGetStructTreeSuccess:r}=e,[t,o]=oe(),{value:i,error:u}=t,{customTextRenderer:T,page:a}=e;function f(){i&&r&&r(i)}function d(){u&&(_(!1,u.toString()),n&&n(u))}function S(){o({type:"RESET"})}s.useEffect(S,[o,a]);function E(){if(T||!a)return;const g=le(a.getStructTree()),m=g;return g.promise.then(y=>{o({type:"RESOLVE",value:y})}).catch(y=>{o({type:"REJECT",error:y})}),()=>ee(m)}return s.useEffect(E,[T,a,o]),s.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}f()}},[i]),i?c.jsx(ze,{className:"react-pdf__Page__structTree structTree",node:i}):null}const Ae=X.AnnotationMode;function zn(e){const n=he();v(n);const r=Object.assign(Object.assign({},n),e),{_className:t,canvasBackground:o,devicePixelRatio:i=On(),onRenderError:u,onRenderSuccess:T,page:a,renderForms:f,renderTextLayer:d,rotate:S,scale:E}=r,{canvasRef:g}=e;v(a);const m=s.useRef(null);function y(){a&&T&&T(ye(a,E))}function x(h){Ve(h)||(_(!1,h.toString()),u&&u(h))}const b=s.useMemo(()=>a.getViewport({scale:E*i,rotation:S}),[i,a,S,E]),k=s.useMemo(()=>a.getViewport({scale:E,rotation:S}),[a,S,E]);function L(){if(!a)return;a.cleanup();const{current:h}=m;if(!h)return;h.width=b.width,h.height=b.height,h.style.width=`${Math.floor(k.width)}px`,h.style.height=`${Math.floor(k.height)}px`,h.style.visibility="hidden";const D={annotationMode:f?Ae.ENABLE_FORMS:Ae.ENABLE,canvasContext:h.getContext("2d",{alpha:!1}),viewport:b};o&&(D.background=o);const I=a.render(D),W=I;return I.promise.then(()=>{h.style.visibility="",y()}).catch(x),()=>ee(W)}s.useEffect(L,[o,m,i,a,f,b,k]);const w=s.useCallback(()=>{const{current:h}=m;h&&(h.width=0,h.height=0)},[m]);return s.useEffect(()=>w,[w]),c.jsx("canvas",{className:`${t}__canvas`,dir:"ltr",ref:$e(g,m),style:{display:"block",userSelect:"none"},children:d?c.jsx(Wn,{}):null})}function Jn(){const e=he();v(e);const{_className:n,onRenderSuccess:r,onRenderError:t,page:o,rotate:i,scale:u}=e;v(o);const[T,a]=oe(),{value:f,error:d}=T;function S(){o&&r&&r(ye(o,u))}function E(){d&&(Ve(d)||(_(!1,d.toString()),t&&t(d)))}const g=s.useMemo(()=>o.getViewport({scale:u,rotation:i}),[o,i,u]);function m(){a({type:"RESET"})}s.useEffect(m,[o,a,g]);function y(){if(!o)return;const L=le(o.getOperatorList());return L.promise.then(w=>{new X.SVGGraphics(o.commonObjs,o.objs).getSVG(w,g).then(D=>{if(!(D instanceof SVGElement))throw new Error("getSVG returned unexpected result.");a({type:"RESOLVE",value:D})}).catch(D=>{a({type:"REJECT",error:D})})}).catch(w=>{a({type:"REJECT",error:w})}),()=>ee(L)}s.useEffect(y,[o,a,g]),s.useEffect(()=>{if(f!==void 0){if(f===!1){E();return}S()}},[f]);function x(L){if(!L||!f)return;L.firstElementChild||L.appendChild(f);const{width:w,height:h}=g;f.setAttribute("width",`${w}`),f.setAttribute("height",`${h}`)}const{width:b,height:k}=g;return c.jsx("div",{className:`${n}__svg`,ref:L=>x(L),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:b,height:k,userSelect:"none"}})}function Kn(e){return"str"in e}function Yn(){const e=he();v(e);const{customTextRenderer:n,onGetTextError:r,onGetTextSuccess:t,onRenderTextLayerError:o,onRenderTextLayerSuccess:i,page:u,pageIndex:T,pageNumber:a,rotate:f,scale:d}=e;v(u);const[S,E]=oe(),{value:g,error:m}=S,y=s.useRef(null),x=s.useRef(void 0);_(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){g&&t&&t(g)}function k(){m&&(_(!1,m.toString()),r&&r(m))}function L(){E({type:"RESET"})}s.useEffect(L,[u,E]);function w(){if(!u)return;const p=le(u.getTextContent()),$=p;return p.promise.then(C=>{E({type:"RESOLVE",value:C})}).catch(C=>{E({type:"REJECT",error:C})}),()=>ee($)}s.useEffect(w,[u,E]),s.useEffect(()=>{if(g!==void 0){if(g===!1){k();return}b()}},[g]);const h=s.useCallback(()=>{i&&i()},[i]),D=s.useCallback(p=>{_(!1,p.toString()),o&&o(p)},[o]);function I(){const p=x.current;p&&p.classList.add("active")}function W(){const p=x.current;p&&p.classList.remove("active")}const A=s.useMemo(()=>u.getViewport({scale:d,rotation:f}),[u,f,d]);function F(){if(!u||!g)return;const{current:p}=y;if(!p)return;p.innerHTML="";const $=u.streamTextContent({includeMarkedContent:!0}),C={container:p,textContentSource:$,viewport:A},R=X.renderTextLayer(C),G=R;return R.promise.then(()=>{const O=document.createElement("div");O.className="endOfContent",p.append(O),x.current=O;const N=p.querySelectorAll('[role="presentation"]');if(n){let U=0;g.items.forEach((z,l)=>{if(!Kn(z))return;const V=N[U];if(!V)return;const J=n(Object.assign({pageIndex:T,pageNumber:a,itemIndex:l},z));V.innerHTML=J,U+=z.str&&z.hasEOL?2:1})}h()}).catch(D),()=>ee(G)}return s.useLayoutEffect(F,[n,D,h,u,T,a,g,A]),c.jsx("div",{className:ve("react-pdf__Page__textContent","textLayer"),onMouseUp:W,onMouseDown:I,ref:y})}function qn(){const e=Ie(),n=he();v(n);const r=Object.assign(Object.assign({},e),n),{imageResourcesPath:t,linkService:o,onGetAnnotationsError:i,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:T,onRenderAnnotationLayerSuccess:a,page:f,pdf:d,renderForms:S,rotate:E,scale:g=1}=r;v(d),v(f),v(o);const[m,y]=oe(),{value:x,error:b}=m,k=s.useRef(null);_(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){x&&u&&u(x)}function w(){b&&(_(!1,b.toString()),i&&i(b))}function h(){y({type:"RESET"})}s.useEffect(h,[y,f]);function D(){if(!f)return;const p=le(f.getAnnotations()),$=p;return p.promise.then(C=>{y({type:"RESOLVE",value:C})}).catch(C=>{y({type:"REJECT",error:C})}),()=>{ee($)}}s.useEffect(D,[y,f,S]),s.useEffect(()=>{if(x!==void 0){if(x===!1){w();return}L()}},[x]);function I(){a&&a()}function W(p){_(!1,`${p}`),T&&T(p)}const A=s.useMemo(()=>f.getViewport({scale:g,rotation:E}),[f,E,g]);function F(){if(!d||!f||!o||!x)return;const{current:p}=k;if(!p)return;const $=A.clone({dontFlip:!0}),C={accessibilityManager:null,annotationCanvasMap:null,div:p,l10n:null,page:f,viewport:$},R={annotations:x,annotationStorage:d.annotationStorage,div:p,downloadManager:null,imageResourcesPath:t,linkService:o,page:f,renderForms:S,viewport:$};p.innerHTML="";try{new X.AnnotationLayer(C).render(R),I()}catch(G){W(G)}return()=>{}}return s.useEffect(F,[x,t,o,f,S,A]),c.jsx("div",{className:ve("react-pdf__Page__annotations","annotationLayer"),ref:k})}var Xn=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const Oe=1;function Qn(e){const n=Ie(),r=Object.assign(Object.assign({},n),e),{_className:t="react-pdf__Page",_enableRegisterUnregisterPage:o=!0,canvasBackground:i,canvasRef:u,children:T,className:a,customRenderer:f,customTextRenderer:d,devicePixelRatio:S,error:E="Failed to load the page.",height:g,inputRef:m,loading:y="Loading page…",noData:x="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:k,onGetStructTreeError:L,onGetStructTreeSuccess:w,onGetTextError:h,onGetTextSuccess:D,onLoadError:I,onLoadSuccess:W,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:F,onRenderError:p,onRenderSuccess:$,onRenderTextLayerError:C,onRenderTextLayerSuccess:R,pageIndex:G,pageNumber:O,pdf:N,registerPage:U,renderAnnotationLayer:z=!0,renderForms:l=!1,renderMode:V="canvas",renderTextLayer:J=!0,rotate:fe,scale:ne=Oe,unregisterPage:de,width:se}=r,me=Xn(r,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Pe,te]=oe(),{value:j,error:pe}=Pe,ge=s.useRef(null);v(N);const B=re(O)?O-1:G??null,Y=O??(re(G)?G+1:null),q=fe??(j?j.rotate:null),P=s.useMemo(()=>{if(!j)return null;let ie=1;const we=ne??Oe;if(se||g){const ae=j.getViewport({scale:1,rotation:q});se?ie=se/ae.width:g&&(ie=g/ae.height)}return we*ie},[g,j,q,ne,se]);function H(){return()=>{re(B)&&o&&de&&de(B)}}s.useEffect(H,[o,N,B,de]);function K(){if(W){if(!j||!P)return;W(ye(j,P))}if(o&&U){if(!re(B)||!ge.current)return;U(B,ge.current)}}function Q(){pe&&(_(!1,pe.toString()),I&&I(pe))}function Z(){te({type:"RESET"})}s.useEffect(Z,[te,N,B]);function Je(){if(!N||!Y)return;const ie=le(N.getPage(Y)),we=ie;return ie.promise.then(ae=>{te({type:"RESOLVE",value:ae})}).catch(ae=>{te({type:"REJECT",error:ae})}),()=>ee(we)}s.useEffect(Je,[te,N,B,Y,U]),s.useEffect(()=>{if(j!==void 0){if(j===!1){Q();return}K()}},[j,P]);const Ke=s.useMemo(()=>j&&re(B)&&Y&&re(q)&&re(P)?{_className:t,canvasBackground:i,customTextRenderer:d,devicePixelRatio:S,onGetAnnotationsError:b,onGetAnnotationsSuccess:k,onGetStructTreeError:L,onGetStructTreeSuccess:w,onGetTextError:h,onGetTextSuccess:D,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:F,onRenderError:p,onRenderSuccess:$,onRenderTextLayerError:C,onRenderTextLayerSuccess:R,page:j,pageIndex:B,pageNumber:Y,renderForms:l,renderTextLayer:J,rotate:q,scale:P}:null,[t,i,d,S,b,k,L,w,h,D,A,F,p,$,C,R,j,B,Y,l,J,q,P]),Ye=s.useMemo(()=>Ne(me,()=>j&&(P?ye(j,P):void 0)),[me,j,P]),Ee=`${B}@${P}/${q}`,qe=`${B}/${q}`;function Xe(){switch(V){case"custom":return v(f),c.jsx(f,{},`${Ee}_custom`);case"none":return null;case"svg":return c.jsx(Jn,{},`${qe}_svg`);case"canvas":default:return c.jsx(zn,{canvasRef:u},`${Ee}_canvas`)}}function Qe(){return J?c.jsx(Yn,{},`${Ee}_text`):null}function Ze(){return z?c.jsx(qn,{},`${Ee}_annotations`):null}function en(){return c.jsxs(Be.Provider,{value:Ke,children:[Xe(),Qe(),Ze(),T]})}function nn(){return Y?N===null||j===void 0||j===null?c.jsx(ue,{type:"loading",children:typeof y=="function"?y():y}):N===!1||j===!1?c.jsx(ue,{type:"error",children:typeof E=="function"?E():E}):en():c.jsx(ue,{type:"no-data",children:typeof x=="function"?x():x})}return c.jsx("div",Object.assign({className:ve(t,a),"data-page-number":Y,ref:$e(m,ge),style:{"--scale-factor":`${P}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ye,{children:nn()}))}Nn();X.GlobalWorkerOptions.workerSrc="pdf.worker.js";X.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${X.version}/pdf.worker.min.js`;const ut=()=>{const[e,n]=s.useState(1),[r,t]=s.useState(1),[o,i]=s.useState(!1),[u,T]=s.useState("right"),[a,f]=s.useState(null),[d,S]=s.useState(null),[E,g]=s.useState({}),[m,y]=s.useState(1),[x,b]=s.useState({x:0,y:0}),[k,L]=s.useState(!1),[w,h]=s.useState({x:0,y:0}),D=s.useRef(null),I=s.useRef(null);s.useEffect(()=>{if(d&&r){const l={...E,[d]:r};g(l)}},[r,d]),s.useEffect(()=>{if(d&&e){const l=E[d]||1;t(Math.min(l,e))}},[d,e]);const W=({numPages:l})=>{n(l)},A=l=>{o||(i(!0),T(l),setTimeout(()=>{t(V=>l==="right"?Math.min(V+1,e):Math.max(V-1,1)),setTimeout(()=>i(!1),300)},300))},F=s.useCallback(l=>{const V=l[0];if(V&&V.type==="application/pdf"){const J=URL.createObjectURL(V);f(V),S(J),y(1),b({x:0,y:0})}},[]),{getRootProps:p,getInputProps:$,isDragActive:C}=rn({onDrop:F,accept:{"application/pdf":[]},maxFiles:1}),R=l=>{l.key==="ArrowRight"&&A("right"),l.key==="ArrowLeft"&&A("left")},G=l=>{if(l.ctrlKey){l.preventDefault();const V=-l.deltaY,J=Math.min(Math.max(.5,m+V*.001),2);y(J)}},O=l=>{m>1&&(L(!0),h({x:l.clientX-x.x,y:l.clientY-x.y}))},N=l=>{k&&b({x:l.clientX-w.x,y:l.clientY-w.y})},U=()=>{L(!1)};s.useEffect(()=>{window.addEventListener("keydown",R);const l=I.current;return l&&l.addEventListener("wheel",G,{passive:!1}),()=>{window.removeEventListener("keydown",R),l&&l.removeEventListener("wheel",G)}},[e,r,m]);const z={flipRight:{rotateY:180,originX:0,transition:{duration:.6,ease:[.16,1,.3,1]}},flipLeft:{rotateY:-180,originX:1,transition:{duration:.6,ease:[.16,1,.3,1]}},normal:{rotateY:0,transition:{duration:.6,ease:[.16,1,.3,1]}}};return c.jsx(c.Fragment,{children:c.jsxs("div",{ref:D,className:"flipbook-container container",onMouseMove:N,onMouseUp:U,onMouseLeave:U,children:[c.jsx("h1",{className:"content-title",children:"Flipbook PDF Viewer"}),d?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flipbook-header",children:[c.jsx("div",{className:"file-info",children:(a==null?void 0:a.name)||"PDF Document"}),c.jsxs("div",{className:"zoom-controls",children:[c.jsx("button",{onClick:()=>{y(l=>Math.max(.5,l-.1)),b({x:0,y:0})},className:"zoom-button",disabled:m<=.5,children:"-"}),c.jsxs("span",{className:"zoom-level",children:[Math.round(m*100),"%"]}),c.jsx("button",{onClick:()=>y(l=>Math.min(2,l+.1)),className:"zoom-button",disabled:m>=2,children:"+"}),m!==1&&c.jsx("button",{onClick:()=>{y(1),b({x:0,y:0})},className:"zoom-reset-button",children:"Reset"})]}),c.jsxs("div",{className:"flipbook-controls",children:[c.jsx("button",{onClick:()=>A("left"),disabled:r<=1||o,className:"flipbook-button flipbook-button-prev",children:"Previous"}),c.jsxs("span",{className:"flipbook-page-counter",children:["Page ",r," of ",e||"--"]}),c.jsx("button",{onClick:()=>A("right"),disabled:r>=e||o,className:"flipbook-button flipbook-button-next",children:"Next"})]}),c.jsx("button",{onClick:()=>{f(null),S(null),t(1),n(1)},className:"flipbook-button flipbook-button-close",children:"Close PDF"})]}),c.jsx("div",{ref:I,className:"flipbook-viewport",onMouseDown:O,style:{cursor:k?"grabbing":m>1?"grab":"default"},children:c.jsx("div",{className:"zoom-container",style:{transform:`translate(${x.x}px, ${x.y}px) scale(${m})`,transformOrigin:"center center"},children:c.jsx(on,{mode:"wait",children:c.jsx(sn.div,{initial:u==="right"?"flipRight":"flipLeft",animate:"normal",exit:u==="right"?"flipRight":"flipLeft",variants:z,className:"flipbook-page-motion",style:{transformOrigin:u==="right"?"left center":"right center",pointerEvents:k?"none":"auto"},children:c.jsx(In,{file:d,onLoadSuccess:W,loading:c.jsx("div",{className:"flipbook-loading",children:"Loading PDF..."}),children:c.jsx(Qn,{pageNumber:r,width:null,className:"flipbook-page",loading:c.jsxs("div",{className:"flipbook-loading",children:["Loading page ",r,"..."]}),renderTextLayer:!0,renderAnnotationLayer:!0,dpi:"600"})})},r)})})})]}):c.jsx("div",{className:"drop-zone-wrapper",children:c.jsxs("div",{...p(),className:"dropzone",children:[c.jsx("input",{...$()}),c.jsx("div",{className:"drop-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-box-arrow-down",viewBox:"0 0 16 16",children:[c.jsx("path",{fillRule:"evenodd",d:"M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"}),c.jsx("path",{fillRule:"evenodd",d:"M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"})]})}),c.jsx("div",{className:"file-selector-container",children:C?c.jsx("p",{children:"Drop the PDF file here..."}):c.jsx(c.Fragment,{children:c.jsx("p",{children:"Drag & drop a PDF file here, or click to select"})})})]})})]})})};export{ut as default};
