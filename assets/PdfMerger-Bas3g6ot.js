import{r as i,j as e}from"./index-CVcNbIs1.js";import{u as D}from"./index-VHgGGu6K.js";import{a as F}from"./index-ngrFHoWO.js";import{X as w}from"./x-G1KRF1nH.js";import"./index-C8zOzmke.js";import"./index-Chjiymov.js";import"./tslib.es6-DL2BruWv.js";import"./createLucideIcon-Ctnp8qhN.js";const E=()=>{const[a,d]=i.useState([]),[p,m]=i.useState(!1),[N,r]=i.useState(null),[P,o]=i.useState(!1),f=i.useCallback(t=>{r(null),o(!1);const s=t.filter(l=>l.type==="application/pdf");s.length<t.length&&r("Only PDF files are allowed"),s.length>0&&d(l=>[...l,...s])},[]),{getRootProps:u,getInputProps:x,isDragActive:h}=D({onDrop:f,accept:{"application/pdf":[".pdf"]},multiple:!0}),g=t=>{d(s=>s.filter((l,c)=>c!==t))},j=async()=>{var t,s;if(a.length<2){r("Please select at least 2 PDF files");return}m(!0),r(null),o(!1);try{const l=new FormData;a.forEach(b=>l.append("pdfs[]",b));const c=await F.post("https://api.prosysvps.com/api/pdf-merge",l,{headers:{"Content-Type":"multipart/form-data"},responseType:"blob"}),v=window.URL.createObjectURL(new Blob([c.data])),n=document.createElement("a");n.href=v,n.setAttribute("download","merged.pdf"),document.body.appendChild(n),n.click(),n.remove(),o(!0)}catch(l){r(((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to merge PDFs")}finally{m(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"container",children:[e.jsx("h1",{className:"content-title",children:"PDF Merger"}),e.jsxs("div",{className:"pdf-merger-container",children:[e.jsxs("div",{...u(),className:`dropzone ${h?"active":""}`,children:[e.jsx("input",{...x()}),e.jsx("div",{className:"drop-icon",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-box-arrow-down",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"}),e.jsx("path",{fillRule:"evenodd",d:"M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"})]})}),e.jsxs("div",{className:"dropzone-content",children:[h?e.jsx("p",{children:"Drop the PDF files here..."}):e.jsx("p",{children:"Drag & drop PDF files here, or click to select files"}),e.jsx("p",{className:"dropzone-hint",children:"(Select at least 2 PDF files)"})]})]}),a.length>0&&e.jsxs("div",{className:"file-list",children:[e.jsx("h3",{children:"Selected Files:"}),e.jsx("ul",{children:a.map((t,s)=>e.jsxs("li",{className:"file-item",children:[e.jsx("span",{className:"file-name",children:t.name}),e.jsxs("span",{className:"file-size",children:[(t.size/1024).toFixed(2)," KB"]}),e.jsx("button",{type:"button",className:"remove-btn",onClick:()=>g(s),children:e.jsx(w,{size:16})})]},s))})]}),a.length>=2&&e.jsx("div",{className:"flex justify-content-center",children:e.jsx("button",{type:"button",onClick:j,disabled:p,className:"merge-btn btn",children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner"}),"Merging..."]}):"Merge & Download PDFs"})})]})]})})};export{E as default};
