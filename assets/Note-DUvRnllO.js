import{r as u,j as t}from"./index-CVcNbIs1.js";import{c as $}from"./createLucideIcon-Ctnp8qhN.js";import{S as L}from"./search-I6-gGki7.js";import{z as y}from"./index-2roNfZMn.js";/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],E=$("tag",k),C=u.createContext({notes:[],activeNote:null,filteredNotes:[],createNewNote:()=>{},updateNote:()=>{},deleteNote:()=>{},togglePin:()=>{},setActiveNote:()=>{},getAllTags:()=>[],selectedTag:"all",setSelectedTag:()=>{}}),P=(e,c)=>{const[o,g]=u.useState(()=>{try{const l=window.localStorage.getItem(e);return l?JSON.parse(l):c}catch(l){return console.error(l),c}});return[o,l=>{try{const n=l instanceof Function?l(o):l;g(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(n){console.error(n)}}]},z="_sidebar_1gjbf_1",H="_newNoteButton_1gjbf_9",O="_section_1gjbf_33",U="_sectionTitle_1gjbf_41",M="_navButton_1gjbf_57",V="_active_1gjbf_85",F="_notesAction_1gjbf_161",v={sidebar:z,newNoteButton:H,section:O,sectionTitle:U,navButton:M,active:V,notesAction:F},J=()=>{const{createNewNote:e,selectedTag:c,setSelectedTag:o,getAllTags:g}=u.useContext(C);return t.jsxs("div",{className:v.sidebar,children:[t.jsxs("div",{className:v.notesAction,children:[t.jsx("a",{className:v.newNoteButton,onClick:e,children:"Add Note"}),t.jsx("div",{className:v.section,children:t.jsx("a",{className:`${v.navButton} ${c==="all"?v.active:""}`,onClick:()=>o("all"),children:"All Notes"})})]}),t.jsxs("div",{className:v.section,children:[t.jsx("h4",{className:v.sectionTitle,children:"Tags"}),g().map(r=>t.jsxs("a",{className:`${v.navButton} ${c===r?v.active:""}`,onClick:()=>o(r),children:[t.jsx(E,{size:"14"})," ",r]},r))]})]})},K="_noteList_1uvn8_1",Q="_noteItem_1uvn8_9",R="_active_1uvn8_37",q="_noteHeader_1uvn8_45",W="_noteTitle_1uvn8_61",G="_pinButton_1uvn8_77",X="_pinned_1uvn8_91",Y="_noteDate_1uvn8_99",Z="_tagsContainer_1uvn8_109",tt="_tag_1uvn8_109",et="_deleteButton_1uvn8_139",nt="_emptyState_1uvn8_157",_={noteList:K,noteItem:Q,active:R,noteHeader:q,noteTitle:W,pinButton:G,pinned:X,noteDate:Y,tagsContainer:Z,tag:tt,deleteButton:et,emptyState:nt},st=()=>{const{filteredNotes:e,activeNote:c,setActiveNote:o,deleteNote:g,togglePin:r}=u.useContext(C),l=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t.jsx("div",{className:_.noteList,children:e.length===0?t.jsx("div",{className:_.emptyState,children:"No notes found"}):e.map(n=>{var x;return t.jsxs("div",{className:`${_.noteItem} ${c===n.id?_.active:""}`,onClick:()=>o(n.id),children:[t.jsxs("div",{className:_.noteHeader,children:[t.jsx("h3",{className:_.noteTitle,children:n.title}),t.jsx("button",{className:`${_.pinButton} ${n.pinned?_.pinned:""}`,onClick:m=>{m.stopPropagation(),r(n.id)},children:n.pinned?"★":"☆"})]}),t.jsx("p",{className:_.noteDate,children:l(n.updatedAt)}),((x=n.tags)==null?void 0:x.length)>0&&t.jsx("div",{className:_.tagsContainer,children:n.tags.map(m=>t.jsx("span",{className:_.tag,children:m},m))}),t.jsx("button",{className:_.deleteButton,onClick:m=>{m.stopPropagation(),g(n.id)},children:"Delete"})]},n.id)})})},ot="_editor_12y6o_1",at="_emptyEditor_12y6o_15",ct="_titleInput_12y6o_31",it="_contentInput_12y6o_45",rt="_tagsSection_12y6o_73",lt="_tagsContainer_12y6o_81",dt="_tag_12y6o_73",ut="_removeTag_12y6o_113",gt="_tagInputContainer_12y6o_131",pt="_tagInput_12y6o_131",_t="_tagSuggestions_12y6o_151",mt="_suggestionItem_12y6o_183",p={editor:ot,emptyEditor:at,titleInput:ct,contentInput:it,tagsSection:rt,tagsContainer:lt,tag:dt,removeTag:ut,tagInputContainer:gt,tagInput:pt,tagSuggestions:_t,suggestionItem:mt},ht=()=>{const{activeNote:e,notes:c,updateNote:o,getAllTags:g}=u.useContext(C),[r,l]=u.useState(""),[n,x]=u.useState(""),[m,I]=u.useState([]),[T,j]=u.useState(!1),h=c.find(s=>s.id===e)||{};u.useEffect(()=>{e&&h.content&&l(typeof h.content=="string"?h.content:"")},[e,h]);const w=s=>{o(e,{title:s.target.value})},B=s=>{const d=s.target.value;l(d),o(e,{content:d})},a=s=>{const d=s.target.value;if(x(d),d){const b=g().filter(D=>D.toLowerCase().includes(d.toLowerCase()));I(b),j(!0)}else j(!1)},i=s=>{const d=typeof s=="string"?s.trim():n.trim();if(!d)return;if((h.tags||[]).includes(d)){x(""),j(!1);return}const f=[...h.tags||[],d];o(e,{tags:f}),x(""),j(!1)},N=s=>{const d=(h.tags||[]).filter(f=>f!==s);o(e,{tags:d})},S=s=>{s.key==="Enter"&&n.trim()&&(s.preventDefault(),i())};return e?t.jsxs("div",{className:p.editor,children:[t.jsx("input",{type:"text",className:p.titleInput,value:h.title||"",onChange:w,placeholder:"Note title"}),t.jsxs("div",{className:p.tagsSection,children:[t.jsx("div",{className:p.tagsContainer,children:(h.tags||[]).map(s=>t.jsxs("span",{className:p.tag,children:[s,t.jsx("button",{className:p.removeTag,onClick:()=>N(s),"aria-label":`Remove tag ${s}`,children:"×"})]},s))}),t.jsxs("div",{className:p.tagInputContainer,children:[t.jsx("input",{type:"text",value:n,onChange:a,onKeyDown:S,onBlur:()=>setTimeout(()=>j(!1),200),placeholder:"Add a tag (press Enter)",className:p.tagInput}),T&&t.jsx("ul",{className:p.tagSuggestions,children:m.length>0?m.map(s=>t.jsx("li",{onMouseDown:()=>i(s),className:p.suggestionItem,children:s},s)):t.jsxs("li",{onMouseDown:()=>i(),className:p.suggestionItem,children:['Create new tag: "',n,'"']})})]})]}),t.jsx("textarea",{className:p.contentInput,value:r,onChange:B,placeholder:"Write your note here..."})]}):t.jsx("div",{className:p.emptyEditor,children:t.jsx("p",{children:"Select or create a note to begin"})})},Nt="_searchBar_1y9es_1",vt="_searchIcon_1y9es_13",xt="_searchInput_1y9es_27",A={searchBar:Nt,searchIcon:vt,searchInput:xt},jt=({searchQuery:e,setSearchQuery:c})=>t.jsxs("div",{className:A.searchBar,children:[t.jsx(L,{className:A.searchIcon,size:"14"}),t.jsx("input",{type:"text",value:e,onChange:o=>c(o.target.value),placeholder:"Search notes...",className:A.searchInput})]}),Tt=()=>{const[e,c]=P("notes",[]),[o,g]=u.useState(null),[r,l]=u.useState(""),[n,x]=u.useState("all"),m=u.useCallback(St((a,i)=>{y.success("Note Updated",{position:"top-right"})},1e3),[]),I=e.filter(a=>{var S,s,d;const i=((S=a.title)==null?void 0:S.toLowerCase().includes(r.toLowerCase()))||((s=a.content)==null?void 0:s.toLowerCase().includes(r.toLowerCase())),N=n==="all"||((d=a.tags)==null?void 0:d.includes(n));return i&&N}),T=()=>{const a={id:Date.now().toString(),title:"Untitled Note",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tags:[],pinned:!1};c([a,...e]),g(a.id),y.success("New Note Created",{position:"top-right"})},j=(a,i)=>{c(e.map(N=>N.id===a?{...N,...i,updatedAt:new Date().toISOString()}:N)),m(a,i)},h=a=>{c(e.filter(i=>i.id!==a)),o===a&&g(e.length>1?e[0].id:null),y.success("Note Deleted",{position:"top-right"})},w=a=>{c(e.map(i=>i.id===a?{...i,pinned:!i.pinned}:i)),y.success("Note Pinned",{position:"top-right"})},B=()=>{const a=new Set;return e.forEach(i=>{var N;(N=i.tags)==null||N.forEach(S=>a.add(S))}),Array.from(a)};return t.jsx(t.Fragment,{children:t.jsx(C.Provider,{value:{notes:e,activeNote:o,filteredNotes:I,createNewNote:T,updateNote:j,deleteNote:h,togglePin:w,setActiveNote:g,getAllTags:B,selectedTag:n,setSelectedTag:x},children:t.jsxs("div",{className:"note-app-container container",children:[t.jsx("div",{className:"sidebar-container",children:t.jsx(J,{})}),t.jsxs("div",{className:"main-content",children:[t.jsx(jt,{searchQuery:r,setSearchQuery:l}),t.jsxs("div",{className:"notes-section",children:[t.jsx("div",{className:"note-list-container",children:t.jsx(st,{})}),t.jsx("div",{className:"note-editor-container",children:t.jsx(ht,{})})]})]})]})})})};function St(e,c){let o;return function(...g){const r=this;clearTimeout(o),o=setTimeout(()=>e.apply(r,g),c)}}export{Tt as default};
