import{g as S,r as j,j as o}from"./index-CVcNbIs1.js";import{u as F}from"./index-VHgGGu6K.js";import"./index-C8zOzmke.js";import"./index-Chjiymov.js";import"./tslib.es6-DL2BruWv.js";var P={exports:{}},z;function N(){return z||(z=1,(()=>{var f={d:(r,c)=>{for(var s in c)f.o(c,s)&&!f.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:c[s]})},o:(r,c)=>Object.prototype.hasOwnProperty.call(r,c),r:r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})}},y={};function w(r,c){for(var s=0;s<c.length;s++){var e=c[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}f.r(y),f.d(y,{default:()=>R});var x=(function(){function r(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,r)}var c,s;return c=r,s=[{key:"changeHeightWidth",value:function(e,n,t,i,l,u){return t>i&&(e=Math.round(e*i/t),t=i),e>n&&(t=Math.round(t*n/e),e=n),l&&t<l&&(e=Math.round(e*l/t),t=l),u&&e<u&&(t=Math.round(t*u/e),e=u),{height:e,width:t}}},{key:"resizeAndRotateImage",value:function(e,n,t,i,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,v=h/100,d=document.createElement("canvas"),b=e.width,m=e.height,p=this.changeHeightWidth(m,t,b,n,i,l);!a||a!==90&&a!==270?(d.width=p.width,d.height=p.height):(d.width=p.height,d.height=p.width),b=p.width,m=p.height;var g=d.getContext("2d");return g.fillStyle="rgba(0, 0, 0, 0)",g.fillRect(0,0,b,m),g.imageSmoothingEnabled&&g.imageSmoothingQuality&&(g.imageSmoothingQuality="high"),a&&(g.rotate(a*Math.PI/180),a===90?g.translate(0,-d.width):a===180?g.translate(-d.width,-d.height):a===270?g.translate(-d.height,0):a!==0&&a!==360||g.translate(0,0)),g.drawImage(e,0,0,b,m),d.toDataURL("image/".concat(u),v)}},{key:"b64toByteArrays",value:function(e,n){for(var t=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),i=[],l=0;l<t.length;l+=512){for(var u=t.slice(l,l+512),h=new Array(u.length),a=0;a<u.length;a++)h[a]=u.charCodeAt(a);var v=new Uint8Array(h);i.push(v)}return i}},{key:"b64toBlob",value:function(e,n){var t=this.b64toByteArrays(e,n);return new Blob(t,{type:n,lastModified:new Date})}},{key:"b64toFile",value:function(e,n,t){var i=this.b64toByteArrays(e,t);return new File(i,n,{type:t,lastModified:new Date})}},{key:"createResizedImage",value:function(e,n,t,i,l,u,h){var a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",v=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,b=new FileReader;if(!e)throw Error("File Not Found!");if(e.type&&!e.type.includes("image"))throw Error("File Is NOT Image!");b.readAsDataURL(e),b.onload=function(){var m=new Image;m.src=b.result,m.onload=function(){var p=r.resizeAndRotateImage(m,n,t,v,d,i,l,u),g="image/".concat(i);switch(a){case"blob":var E=r.b64toBlob(p,g);h(E);break;case"base64":h(p);break;case"file":var I=e.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(i.toString()),k=r.b64toFile(p,I,g);h(k);break;default:h(p)}}},b.onerror=function(m){throw Error(m)}}}],s&&w(c,s),r})();const R={imageFileResizer:function(r,c,s,e,n,t,i,l,u,h){return x.createResizedImage(r,c,s,e,n,t,i,l,u,h)}};P.exports=y})()),P.exports}var A=N();const C=S(A),U=()=>{const[f,y]=j.useState(null),[w,x]=j.useState(null),[R,r]=j.useState(null),[c,s]=j.useState("JPEG"),e=j.useCallback(a=>{const v=a[0];if(v){const d=v.name.split(".").pop().toUpperCase();if(!["JPEG","JPG","PNG","WEBP"].includes(d)){alert("Invalid file format. Please select a JPEG, PNG, or WEBP image.");return}r(v),s(d==="JPG"?"JPEG":d);const m=URL.createObjectURL(v);y(m)}},[]),{getRootProps:n,getInputProps:t,isDragActive:i}=F({onDrop:e,accept:{"image/*":[]},multiple:!1});j.useEffect(()=>()=>{f&&URL.revokeObjectURL(f)},[f]);const l=()=>{if(!R){alert("Please select an image first!");return}C.imageFileResizer(R,800,800,c,80,0,a=>{x(a)},"base64")},u=()=>{if(!w){alert("Please resize the image first!");return}const a=document.createElement("a");a.href=w,a.download=`resized_image.${c.toLowerCase()}`,document.body.appendChild(a),a.click(),document.body.removeChild(a)},h=()=>{x(null),y(null),r(null),s("JPEG")};return o.jsx(o.Fragment,{children:o.jsxs("section",{className:"container",children:[o.jsx("h1",{className:"content-title",children:"Image Resize"}),o.jsxs("div",{className:"drop-zone-wrapper",children:[o.jsxs("div",{...n(),className:"dropzone",children:[o.jsx("input",{...t()}),o.jsx("div",{className:"drop-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-box-arrow-down",viewBox:"0 0 16 16",children:[o.jsx("path",{fillRule:"evenodd",d:"M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"}),o.jsx("path",{fillRule:"evenodd",d:"M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"})]})}),i?o.jsx("p",{children:"Almost there! Drop the file here to upload..."}):o.jsx("p",{children:"Drag & Drop an image here, or click to select one"})]}),f&&o.jsxs("div",{className:"preview-container",children:[o.jsx("img",{src:w||f,alt:"Image Resize",className:"preview-img"}),o.jsx("button",{className:"close-btn",onClick:h,children:"Ã—"})]}),o.jsx("div",{className:"flex justify-content-center",children:w?o.jsx("button",{className:"action-btn",onClick:u,children:"Download Resized Image"}):o.jsx("button",{onClick:l,className:"action-btn",children:"Resize"})})]})]})})};export{U as default};
