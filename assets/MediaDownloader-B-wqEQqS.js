import{r as p,j as e}from"./index-CVcNbIs1.js";import{T as x}from"./ThemeableSelect-BAkb02Mq.js";import{Y as j,F as k,I}from"./youtube-Cz-KXORu.js";import{c as g}from"./createLucideIcon-Ctnp8qhN.js";import"./slicedToArray-DOD8vD1W.js";import"./defineProperty-DWm6lKFB.js";import"./toConsumableArray-CFt2I6r5.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./memoize-one.esm-BHZvq9gn.js";import"./globalStore-ByoUXurI.js";/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R=g("circle-check",P);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],N=g("music",A),U=({onSubmit:n})=>{const[d,h]=p.useState(""),[c,w]=p.useState("youtubevid"),v=t=>{t.preventDefault(),n({url:d,platform:c})},b=t=>{const y=t.value;w(y)},m=[{label:"YouTube",value:"youtubevid"},{label:"YouTube (music)",value:"youtube"},{label:"Facebook",value:"facebook"},{label:"TikTok",value:"tiktok"},{label:"Dailymotion",value:"dailymotion"},{label:"SoundCloud",value:"soundcloud"},{label:"Instagram",value:"instagram"}];return e.jsxs("form",{onSubmit:v,className:"download-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"url",children:"Media URL"}),e.jsx("input",{type:"url",id:"url",value:d,onChange:t=>h(t.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"platform",children:"Platform"}),e.jsx(x,{id:"media-platform",value:m.filter(t=>t.value===c),onChange:b,className:"media-platform-select",options:m,formatOptionLabel:t=>e.jsxs("div",{className:"media-platform-option",children:[["youtube","youtubevid"].includes(t.value)&&e.jsx(e.Fragment,{children:e.jsx(j,{size:16})})||t.value=="facebook"&&e.jsx(e.Fragment,{children:e.jsx(k,{size:16})})||t.value=="tiktok"&&e.jsx(e.Fragment,{children:e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})})||t.value=="dailymotion"&&e.jsx(e.Fragment,{children:e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M21.823 7.327a11.928 11.928 0 0 0-2.606-3.814 12.126 12.126 0 0 0-3.866-2.57A12.246 12.246 0 0 0 10.617 0H1.831a.602.602 0 0 0-.609.603v3.764c0 .162.064.312.179.426l4.164 4.123a.612.612 0 0 0 .439.177h4.56c.806 0 1.56.313 2.125.88.557.559.856 1.296.843 2.075-.029 1.571-1.343 2.849-2.931 2.849h-6.74a.613.613 0 0 0-.432.176.619.619 0 0 0-.178.427v3.764c0 .162.063.312.178.427l4.139 4.099a.647.647 0 0 0 .476.21h2.572a12.276 12.276 0 0 0 4.733-.945 12.145 12.145 0 0 0 3.866-2.571 11.959 11.959 0 0 0 2.607-3.813c.633-1.479.956-3.051.956-4.67 0-1.619-.321-3.19-.956-4.669l.001-.005ZM2.441 4.118V1.982l2.945 2.755.001 2.297-2.946-2.916Zm4.975 17.813-2.945-2.917v-2.137l2.945 2.755v2.299Zm-2.004-5.832h5.19c2.248 0 4.107-1.807 4.147-4.03a4.027 4.027 0 0 0-1.192-2.937 4.203 4.203 0 0 0-2.996-1.239H6.606V5.216h3.996c1.831 0 3.553.706 4.849 1.986a6.724 6.724 0 0 1-.152 9.736 6.875 6.875 0 0 1-4.697 1.84H8.275L5.412 16.1v-.001Zm15.289.1a10.753 10.753 0 0 1-2.345 3.431 10.91 10.91 0 0 1-3.48 2.314 11.018 11.018 0 0 1-4.26.847H8.633v-2.814h1.916c2.145 0 4.161-.802 5.675-2.254a7.88 7.88 0 0 0 2.451-5.728c0-2.177-.87-4.21-2.451-5.728-1.514-1.454-3.528-2.254-5.675-2.254h-4.16L3.383 1.202h7.234c1.479 0 2.911.285 4.259.847a10.957 10.957 0 0 1 3.48 2.313 10.769 10.769 0 0 1 2.345 3.432c.571 1.33.86 2.743.86 4.202 0 1.46-.289 2.873-.86 4.203Z"})})})||t.value=="soundcloud"&&e.jsx(e.Fragment,{children:e.jsx(N,{size:16})})||t.value=="instagram"&&e.jsx(e.Fragment,{children:e.jsx(I,{size:16})}),e.jsx("span",{children:t.label})]})})]}),e.jsx("button",{type:"submit",className:"download-button",children:"Download"})]})},F=({data:n})=>e.jsx("div",{className:"results-container",children:e.jsxs("div",{className:"success-message",children:[e.jsx(R,{className:"success-icon"}),e.jsxs("div",{children:["Download complete! If it didn't start automatically, ",e.jsx("a",{href:n.downloadUrl,className:"download-link",target:"_blank",children:"click here"}),"."]})]})});function z(){const[n,d]=p.useState(null),[h,c]=p.useState(null),[w,v]=p.useState(!1),b=(l,o)=>({youtubevid:{url:"https://yt-api.p.rapidapi.com/dl",params:{id:m(o)},headers:{"X-RapidAPI-Key":"e678774728mshd05104da2f13e44p108da9jsn81a793c3dca1","X-RapidAPI-Host":"yt-api.p.rapidapi.com"}},youtube:{url:"https://youtube-mp36.p.rapidapi.com/dl",params:{id:m(o)},headers:{"X-RapidAPI-Key":"e678774728mshd05104da2f13e44p108da9jsn81a793c3dca1","X-RapidAPI-Host":"youtube-mp36.p.rapidapi.com"}},tiktok:{url:"https://tiktok-video-no-watermark2.p.rapidapi.com/",params:{url:o,hd:"1"},headers:{"X-RapidAPI-Key":"e678774728mshd05104da2f13e44p108da9jsn81a793c3dca1","X-RapidAPI-Host":"tiktok-video-no-watermark2.p.rapidapi.com"}},facebook:{url:"https://facebook-reel-and-video-downloader.p.rapidapi.com/app/main.php",params:{url:o},headers:{"X-RapidAPI-Key":"e678774728mshd05104da2f13e44p108da9jsn81a793c3dca1","X-RapidAPI-Host":"facebook-reel-and-video-downloader.p.rapidapi.com"}},dailymotion:{url:"https://dailymotion-video-downloader.p.rapidapi.com/info",params:{url:o},headers:{"X-RapidAPI-Key":"e678774728mshd05104da2f13e44p108da9jsn81a793c3dca1","X-RapidAPI-Host":"dailymotion-video-downloader.p.rapidapi.com"}},soundcloud:{url:"https://soundcloud-downloader.p.rapidapi.com/download",params:{track_url:o},headers:{"X-RapidAPI-Key":"e678774728mshd05104da2f13e44p108da9jsn81a793c3dca1","X-RapidAPI-Host":"soundcloud-downloader.p.rapidapi.com"}},instagram:{url:"https://instagram-downloader-download-instagram-reels-videos.p.rapidapi.com/post.php",params:{url:o},headers:{"X-RapidAPI-Key":"e678774728mshd05104da2f13e44p108da9jsn81a793c3dca1","X-RapidAPI-Host":"instagram-downloader-download-instagram-reels-videos.p.rapidapi.com"}}})[l]||null,m=l=>{const o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,s=l.match(o);return s&&s[2].length===11?s[2]:null},t=async l=>{v(!0),c(null),d(null);try{const o=b(l.platform,l.url);if(!o)throw new Error("Unsupported platform");const s=new URLSearchParams(o.params).toString(),a=`${o.url}?${s}`,i=await fetch(a,{method:"GET",headers:o.headers}),r=await i.json();if(!i.ok||r.status==="fail")throw new Error(r.message||"Download failed");const f=y(l.platform,r);if(d(f),f.downloadUrl){const u=document.createElement("a");u.href=f.downloadUrl,u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)}}catch(o){c(o.message)}finally{v(!1)}},y=(l,o)=>{const s={youtubevid:a=>({title:a.title,downloadUrl:a.adaptiveFormats[0].url,thumbnail:a.thumbnail[0].url}),youtube:a=>({title:a.title,downloadUrl:a.link,thumbnail:a.thumb}),tiktok:a=>({title:a.data.title,downloadUrl:a.data.play,thumbnail:a.data.cover}),facebook:a=>{var i,r;return{title:(i=a.meta)==null?void 0:i.title,downloadUrl:a.links["Download High Quality"]||a.links["Download Low Quality"],thumbnail:(r=a.meta)==null?void 0:r.image}},dailymotion:a=>({title:a.title,downloadUrl:a.url,thumbnail:a.thumbnail}),soundcloud:a=>({title:a.title,downloadUrl:a.downloadUrl,thumbnail:a.artwork_url}),instagram:a=>{var i,r;return{title:a.title||"Instagram Video",downloadUrl:(i=a==null?void 0:a.data[0])==null?void 0:i.download,thumbnail:(r=a==null?void 0:a.data[0])==null?void 0:r.thumbnail}}};return s[l]?s[l](o):o};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app-container container",children:[e.jsx("h1",{className:"content-title",children:"Media Downloader"}),e.jsxs("div",{className:"app-main",children:[e.jsx(U,{onSubmit:t}),w&&e.jsx("div",{className:"loading-indicator",children:"Processing your download..."}),h&&e.jsx("div",{className:"error-message",children:h}),n&&e.jsx(F,{data:n})]})]})})}export{z as default};
