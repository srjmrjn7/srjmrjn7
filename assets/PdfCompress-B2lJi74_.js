import{r,j as e}from"./index-CVcNbIs1.js";import{a as j}from"./index-ngrFHoWO.js";import{u as v}from"./index-VHgGGu6K.js";import{z as d}from"./index-2roNfZMn.js";import"./index-C8zOzmke.js";import"./index-Chjiymov.js";import"./tslib.es6-DL2BruWv.js";function A(){const[o,a]=r.useState(null),[n,l]=r.useState(!1),m=r.useCallback(s=>{s&&s.length>0&&a(s[0])},[]),{getRootProps:h,getInputProps:f,isDragActive:u}=v({onDrop:m,accept:{"application/pdf":[".pdf"]},multiple:!1}),x=async s=>{if(s.preventDefault(),!o){d.error("Please select a PDF file to upload.",{position:"top-right"});return}const i=new FormData;i.append("pdf_file",o),l(!0);try{const p=await j.post("https://api.prosysvps.com/api/compress-pdf",i,{responseType:"blob",headers:{"Content-Type":"multipart/form-data"}}),c=window.URL.createObjectURL(new Blob([p.data])),t=document.createElement("a");t.href=c,t.setAttribute("download",`compressed_${Date.now()}.pdf`),document.body.appendChild(t),t.click(),t.parentNode.removeChild(t),window.URL.revokeObjectURL(c),a(null)}catch{d.error("An error occurred.",{position:"top-right"})}finally{l(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"container",children:[e.jsx("h1",{className:"content-title",children:"PDF Compress"}),e.jsxs("div",{className:"drop-zone-wrapper",children:[e.jsxs("div",{...h(),className:"dropzone",children:[e.jsx("input",{...f()}),e.jsx("div",{className:"drop-icon",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-box-arrow-down",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"}),e.jsx("path",{fillRule:"evenodd",d:"M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"})]})}),o?e.jsxs("p",{children:["Selected File: ",o.name]}):u?e.jsx("p",{children:"Almost there! Drop the file here to upload..."}):e.jsx("p",{children:"Drag & Drop a file here, or click to select one"})]}),e.jsx("div",{className:"flex justify-content-center",children:e.jsx("button",{type:"button",className:"btn",onClick:x,disabled:n||!o,style:{marginTop:"10px"},children:n?"Compressing...":"Compress & Download"})})]})]})})}export{A as default};
