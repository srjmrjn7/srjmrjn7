import{c as Fe,g as Gt,r as tt,j as Ze}from"./index-CVcNbIs1.js";import{u as Ht}from"./index-VHgGGu6K.js";import{F as jt}from"./FileSaver.min-CL8nKYbZ.js";import{c as rt}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./index-C8zOzmke.js";import"./index-Chjiymov.js";import"./tslib.es6-DL2BruWv.js";var at={exports:{}},At;function zt(){return At||(At=1,(function(Ne,xe){if((typeof Ie>"u"||!Ie)&&typeof self<"u")var Ie=self;(function(M){Ne.exports=M()})(function(){return(function(){function M(H,w,E){function g(l,a){if(!w[l]){if(!H[l]){var i=typeof rt=="function"&&rt;if(!a&&i)return i(l,!0);if(u)return u(l,!0);var t=new Error("Cannot find module '"+l+"'");throw t.code="MODULE_NOT_FOUND",t}var e=w[l]={exports:{}};H[l][0].call(e.exports,function(s){var f=H[l][1][s];return g(f||s)},e,e.exports,M,H,w,E)}return w[l].exports}for(var u=typeof rt=="function"&&rt,p=0;p<E.length;p++)g(E[p]);return g}return M})()({1:[function(M,H,w){function E(g){if(Array.isArray(g))return g}H.exports=E},{}],2:[function(M,H,w){function E(g){if(Array.isArray(g)){for(var u=0,p=new Array(g.length);u<g.length;u++)p[u]=g[u];return p}}H.exports=E},{}],3:[function(M,H,w){function E(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}H.exports=E},{}],4:[function(M,H,w){function E(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}H.exports=E},{}],5:[function(M,H,w){var E=M("./setPrototypeOf");function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(p,l,a){return g()?H.exports=u=Reflect.construct:H.exports=u=function(t,e,s){var f=[null];f.push.apply(f,e);var n=Function.bind.apply(t,f),o=new n;return s&&E(o,s.prototype),o},u.apply(null,arguments)}H.exports=u},{"./setPrototypeOf":18}],6:[function(M,H,w){function E(u,p){for(var l=0;l<p.length;l++){var a=p[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}function g(u,p,l){return p&&E(u.prototype,p),l&&E(u,l),u}H.exports=g},{}],7:[function(M,H,w){function E(g,u,p){return u in g?Object.defineProperty(g,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):g[u]=p,g}H.exports=E},{}],8:[function(M,H,w){function E(){return H.exports=E=Object.assign||function(g){for(var u=1;u<arguments.length;u++){var p=arguments[u];for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&(g[l]=p[l])}return g},E.apply(this,arguments)}H.exports=E},{}],9:[function(M,H,w){function E(g){return H.exports=E=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},E(g)}H.exports=E},{}],10:[function(M,H,w){var E=M("./setPrototypeOf");function g(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),p&&E(u,p)}H.exports=g},{"./setPrototypeOf":18}],11:[function(M,H,w){function E(g){return g&&g.__esModule?g:{default:g}}H.exports=E},{}],12:[function(M,H,w){var E=M("../helpers/typeof");function g(){if(typeof WeakMap!="function")return null;var p=new WeakMap;return g=function(){return p},p}function u(p){if(p&&p.__esModule)return p;if(p===null||E(p)!=="object"&&typeof p!="function")return{default:p};var l=g();if(l&&l.has(p))return l.get(p);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in p)if(Object.prototype.hasOwnProperty.call(p,t)){var e=i?Object.getOwnPropertyDescriptor(p,t):null;e&&(e.get||e.set)?Object.defineProperty(a,t,e):a[t]=p[t]}return a.default=p,l&&l.set(p,a),a}H.exports=u},{"../helpers/typeof":21}],13:[function(M,H,w){function E(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}H.exports=E},{}],14:[function(M,H,w){function E(g,u){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var p=[],l=!0,a=!1,i=void 0;try{for(var t=g[Symbol.iterator](),e;!(l=(e=t.next()).done)&&(p.push(e.value),!(u&&p.length===u));l=!0);}catch(s){a=!0,i=s}finally{try{!l&&t.return!=null&&t.return()}finally{if(a)throw i}}return p}}H.exports=E},{}],15:[function(M,H,w){function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}H.exports=E},{}],16:[function(M,H,w){function E(){throw new TypeError("Invalid attempt to spread non-iterable instance")}H.exports=E},{}],17:[function(M,H,w){var E=M("../helpers/typeof"),g=M("./assertThisInitialized");function u(p,l){return l&&(E(l)==="object"||typeof l=="function")?l:g(p)}H.exports=u},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(M,H,w){function E(g,u){return H.exports=E=Object.setPrototypeOf||function(l,a){return l.__proto__=a,l},E(g,u)}H.exports=E},{}],19:[function(M,H,w){var E=M("./arrayWithHoles"),g=M("./iterableToArrayLimit"),u=M("./nonIterableRest");function p(l,a){return E(l)||g(l,a)||u()}H.exports=p},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(M,H,w){var E=M("./arrayWithoutHoles"),g=M("./iterableToArray"),u=M("./nonIterableSpread");function p(l){return E(l)||g(l)||u()}H.exports=p},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(M,H,w){function E(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(l){return typeof l}:E=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},E(u)}function g(u){return typeof Symbol=="function"&&E(Symbol.iterator)==="symbol"?H.exports=g=function(l){return E(l)}:H.exports=g=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":E(l)},g(u)}H.exports=g},{}],22:[function(M,H,w){H.exports=M("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(M,H,w){var E=M("./src/converter");function g(u,p){var l=new E(u,p);return function(a){return l.convert(a)}}g.BIN="01",g.OCT="01234567",g.DEC="0123456789",g.HEX="0123456789abcdef",H.exports=g},{"./src/converter":24}],24:[function(M,H,w){function E(g,u){if(!g||!u||!g.length||!u.length)throw new Error("Bad alphabet");this.srcAlphabet=g,this.dstAlphabet=u}E.prototype.convert=function(g){var u,p,l,a={},i=this.srcAlphabet.length,t=this.dstAlphabet.length,e=g.length,s=typeof g=="string"?"":[];if(!this.isValid(g))throw new Error('Number "'+g+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return g;for(u=0;u<e;u++)a[u]=this.srcAlphabet.indexOf(g[u]);do{for(p=0,l=0,u=0;u<e;u++)p=p*i+a[u],p>=t?(a[l++]=parseInt(p/t,10),p=p%t):l>0&&(a[l++]=0);e=l,s=this.dstAlphabet.slice(p,p+1).concat(s)}while(l!==0);return s},E.prototype.isValid=function(g){for(var u=0;u<g.length;++u)if(this.srcAlphabet.indexOf(g[u])===-1)return!1;return!0},H.exports=E},{}],25:[function(M,H,w){(function(E){var g=M("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function u(k,O){if(k===O)return 0;for(var D=k.length,W=O.length,q=0,te=Math.min(D,W);q<te;++q)if(k[q]!==O[q]){D=k[q],W=O[q];break}return D<W?-1:W<D?1:0}function p(k){return E.Buffer&&typeof E.Buffer.isBuffer=="function"?E.Buffer.isBuffer(k):!!(k!=null&&k._isBuffer)}var l=M("util/"),a=Object.prototype.hasOwnProperty,i=Array.prototype.slice,t=(function(){return(function(){}).name==="foo"})();function e(k){return Object.prototype.toString.call(k)}function s(k){return p(k)||typeof E.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(k):k?!!(k instanceof DataView||k.buffer&&k.buffer instanceof ArrayBuffer):!1}var f=H.exports=v,n=/\s*function\s+([^\(\s]*)\s*/;function o(k){if(l.isFunction(k)){if(t)return k.name;var O=k.toString(),D=O.match(n);return D&&D[1]}}f.AssertionError=function(O){this.name="AssertionError",this.actual=O.actual,this.expected=O.expected,this.operator=O.operator,O.message?(this.message=O.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var D=O.stackStartFunction||d;if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var W=new Error;if(W.stack){var q=W.stack,te=o(D),K=q.indexOf(`
`+te);if(K>=0){var F=q.indexOf(`
`,K+1);q=q.substring(F+1)}this.stack=q}}},l.inherits(f.AssertionError,Error);function r(k,O){return typeof k=="string"?k.length<O?k:k.slice(0,O):k}function h(k){if(t||!l.isFunction(k))return l.inspect(k);var O=o(k),D=O?": "+O:"";return"[Function"+D+"]"}function c(k){return r(h(k.actual),128)+" "+k.operator+" "+r(h(k.expected),128)}function d(k,O,D,W,q){throw new f.AssertionError({message:D,actual:k,expected:O,operator:W,stackStartFunction:q})}f.fail=d;function v(k,O){k||d(k,!0,O,"==",f.ok)}f.ok=v,f.equal=function(O,D,W){O!=D&&d(O,D,W,"==",f.equal)},f.notEqual=function(O,D,W){O==D&&d(O,D,W,"!=",f.notEqual)},f.deepEqual=function(O,D,W){_(O,D,!1)||d(O,D,W,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(O,D,W){_(O,D,!0)||d(O,D,W,"deepStrictEqual",f.deepStrictEqual)};function _(k,O,D,W){if(k===O)return!0;if(p(k)&&p(O))return u(k,O)===0;if(l.isDate(k)&&l.isDate(O))return k.getTime()===O.getTime();if(l.isRegExp(k)&&l.isRegExp(O))return k.source===O.source&&k.global===O.global&&k.multiline===O.multiline&&k.lastIndex===O.lastIndex&&k.ignoreCase===O.ignoreCase;if((k===null||typeof k!="object")&&(O===null||typeof O!="object"))return D?k===O:k==O;if(s(k)&&s(O)&&e(k)===e(O)&&!(k instanceof Float32Array||k instanceof Float64Array))return u(new Uint8Array(k.buffer),new Uint8Array(O.buffer))===0;if(p(k)!==p(O))return!1;W=W||{actual:[],expected:[]};var q=W.actual.indexOf(k);return q!==-1&&q===W.expected.indexOf(O)?!0:(W.actual.push(k),W.expected.push(O),y(k,O,D,W))}function b(k){return Object.prototype.toString.call(k)=="[object Arguments]"}function y(k,O,D,W){if(k==null||O===null||O===void 0)return!1;if(l.isPrimitive(k)||l.isPrimitive(O))return k===O;if(D&&Object.getPrototypeOf(k)!==Object.getPrototypeOf(O))return!1;var q=b(k),te=b(O);if(q&&!te||!q&&te)return!1;if(q)return k=i.call(k),O=i.call(O),_(k,O,D);var K=z(k),F=z(O),Y,j;if(K.length!==F.length)return!1;for(K.sort(),F.sort(),j=K.length-1;j>=0;j--)if(K[j]!==F[j])return!1;for(j=K.length-1;j>=0;j--)if(Y=K[j],!_(k[Y],O[Y],D,W))return!1;return!0}f.notDeepEqual=function(O,D,W){_(O,D,!1)&&d(O,D,W,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=S;function S(k,O,D){_(k,O,!0)&&d(k,O,D,"notDeepStrictEqual",S)}f.strictEqual=function(O,D,W){O!==D&&d(O,D,W,"===",f.strictEqual)},f.notStrictEqual=function(O,D,W){O===D&&d(O,D,W,"!==",f.notStrictEqual)};function R(k,O){if(!k||!O)return!1;if(Object.prototype.toString.call(O)=="[object RegExp]")return O.test(k);try{if(k instanceof O)return!0}catch{}return Error.isPrototypeOf(O)?!1:O.call({},k)===!0}function L(k){var O;try{k()}catch(D){O=D}return O}function T(k,O,D,W){var q;if(typeof O!="function")throw new TypeError('"block" argument must be a function');typeof D=="string"&&(W=D,D=null),q=L(O),W=(D&&D.name?" ("+D.name+").":".")+(W?" "+W:"."),k&&!q&&d(q,D,"Missing expected exception"+W);var te=typeof W=="string",K=!k&&l.isError(q),F=!k&&q&&!D;if((K&&te&&R(q,D)||F)&&d(q,D,"Got unwanted exception"+W),k&&q&&D&&!R(q,D)||!k&&q)throw q}f.throws=function(k,O,D){T(!0,k,O,D)},f.doesNotThrow=function(k,O,D){T(!1,k,O,D)},f.ifError=function(k){if(k)throw k};function x(k,O){k||d(k,!0,O,"==",x)}f.strict=g(x,f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var z=Object.keys||function(k){var O=[];for(var D in k)a.call(k,D)&&O.push(D);return O}}).call(this,typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{"object-assign":84,"util/":28}],26:[function(M,H,w){typeof Object.create=="function"?H.exports=function(g,u){g.super_=u,g.prototype=Object.create(u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}})}:H.exports=function(g,u){g.super_=u;var p=function(){};p.prototype=u.prototype,g.prototype=new p,g.prototype.constructor=g}},{}],27:[function(M,H,w){H.exports=function(g){return g&&typeof g=="object"&&typeof g.copy=="function"&&typeof g.fill=="function"&&typeof g.readUInt8=="function"}},{}],28:[function(M,H,w){(function(E,g){var u=/%[sdj%]/g;w.format=function(F){if(!y(F)){for(var Y=[],j=0;j<arguments.length;j++)Y.push(a(arguments[j]));return Y.join(" ")}for(var j=1,Q=arguments,re=Q.length,se=String(F).replace(u,function(fe){if(fe==="%%")return"%";if(j>=re)return fe;switch(fe){case"%s":return String(Q[j++]);case"%d":return Number(Q[j++]);case"%j":try{return JSON.stringify(Q[j++])}catch{return"[Circular]"}default:return fe}}),le=Q[j];j<re;le=Q[++j])v(le)||!T(le)?se+=" "+le:se+=" "+a(le);return se},w.deprecate=function(F,Y){if(R(g.process))return function(){return w.deprecate(F,Y).apply(this,arguments)};if(E.noDeprecation===!0)return F;var j=!1;function Q(){if(!j){if(E.throwDeprecation)throw new Error(Y);E.traceDeprecation?console.trace(Y):console.error(Y),j=!0}return F.apply(this,arguments)}return Q};var p={},l;w.debuglog=function(F){if(R(l)&&(l=E.env.NODE_DEBUG||""),F=F.toUpperCase(),!p[F])if(new RegExp("\\b"+F+"\\b","i").test(l)){var Y=E.pid;p[F]=function(){var j=w.format.apply(w,arguments);console.error("%s %d: %s",F,Y,j)}}else p[F]=function(){};return p[F]};function a(F,Y){var j={seen:[],stylize:t};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),d(Y)?j.showHidden=Y:Y&&w._extend(j,Y),R(j.showHidden)&&(j.showHidden=!1),R(j.depth)&&(j.depth=2),R(j.colors)&&(j.colors=!1),R(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=i),s(j,F,j.depth)}w.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function i(F,Y){var j=a.styles[Y];return j?"\x1B["+a.colors[j][0]+"m"+F+"\x1B["+a.colors[j][1]+"m":F}function t(F,Y){return F}function e(F){var Y={};return F.forEach(function(j,Q){Y[j]=!0}),Y}function s(F,Y,j){if(F.customInspect&&Y&&k(Y.inspect)&&Y.inspect!==w.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var Q=Y.inspect(j,F);return y(Q)||(Q=s(F,Q,j)),Q}var re=f(F,Y);if(re)return re;var se=Object.keys(Y),le=e(se);if(F.showHidden&&(se=Object.getOwnPropertyNames(Y)),z(Y)&&(se.indexOf("message")>=0||se.indexOf("description")>=0))return n(Y);if(se.length===0){if(k(Y)){var fe=Y.name?": "+Y.name:"";return F.stylize("[Function"+fe+"]","special")}if(L(Y))return F.stylize(RegExp.prototype.toString.call(Y),"regexp");if(x(Y))return F.stylize(Date.prototype.toString.call(Y),"date");if(z(Y))return n(Y)}var ve="",ne=!1,ie=["{","}"];if(c(Y)&&(ne=!0,ie=["[","]"]),k(Y)){var V=Y.name?": "+Y.name:"";ve=" [Function"+V+"]"}if(L(Y)&&(ve=" "+RegExp.prototype.toString.call(Y)),x(Y)&&(ve=" "+Date.prototype.toUTCString.call(Y)),z(Y)&&(ve=" "+n(Y)),se.length===0&&(!ne||Y.length==0))return ie[0]+ve+ie[1];if(j<0)return L(Y)?F.stylize(RegExp.prototype.toString.call(Y),"regexp"):F.stylize("[Object]","special");F.seen.push(Y);var ee;return ne?ee=o(F,Y,j,le,se):ee=se.map(function($){return r(F,Y,j,le,$,ne)}),F.seen.pop(),h(ee,ve,ie)}function f(F,Y){if(R(Y))return F.stylize("undefined","undefined");if(y(Y)){var j="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(j,"string")}if(b(Y))return F.stylize(""+Y,"number");if(d(Y))return F.stylize(""+Y,"boolean");if(v(Y))return F.stylize("null","null")}function n(F){return"["+Error.prototype.toString.call(F)+"]"}function o(F,Y,j,Q,re){for(var se=[],le=0,fe=Y.length;le<fe;++le)K(Y,String(le))?se.push(r(F,Y,j,Q,String(le),!0)):se.push("");return re.forEach(function(ve){ve.match(/^\d+$/)||se.push(r(F,Y,j,Q,ve,!0))}),se}function r(F,Y,j,Q,re,se){var le,fe,ve;if(ve=Object.getOwnPropertyDescriptor(Y,re)||{value:Y[re]},ve.get?ve.set?fe=F.stylize("[Getter/Setter]","special"):fe=F.stylize("[Getter]","special"):ve.set&&(fe=F.stylize("[Setter]","special")),K(Q,re)||(le="["+re+"]"),fe||(F.seen.indexOf(ve.value)<0?(v(j)?fe=s(F,ve.value,null):fe=s(F,ve.value,j-1),fe.indexOf(`
`)>-1&&(se?fe=fe.split(`
`).map(function(ne){return"  "+ne}).join(`
`).substr(2):fe=`
`+fe.split(`
`).map(function(ne){return"   "+ne}).join(`
`))):fe=F.stylize("[Circular]","special")),R(le)){if(se&&re.match(/^\d+$/))return fe;le=JSON.stringify(""+re),le.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(le=le.substr(1,le.length-2),le=F.stylize(le,"name")):(le=le.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),le=F.stylize(le,"string"))}return le+": "+fe}function h(F,Y,j){var Q=F.reduce(function(re,se){return se.indexOf(`
`)>=0,re+se.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?j[0]+(Y===""?"":Y+`
 `)+" "+F.join(`,
  `)+" "+j[1]:j[0]+Y+" "+F.join(", ")+" "+j[1]}function c(F){return Array.isArray(F)}w.isArray=c;function d(F){return typeof F=="boolean"}w.isBoolean=d;function v(F){return F===null}w.isNull=v;function _(F){return F==null}w.isNullOrUndefined=_;function b(F){return typeof F=="number"}w.isNumber=b;function y(F){return typeof F=="string"}w.isString=y;function S(F){return typeof F=="symbol"}w.isSymbol=S;function R(F){return F===void 0}w.isUndefined=R;function L(F){return T(F)&&D(F)==="[object RegExp]"}w.isRegExp=L;function T(F){return typeof F=="object"&&F!==null}w.isObject=T;function x(F){return T(F)&&D(F)==="[object Date]"}w.isDate=x;function z(F){return T(F)&&(D(F)==="[object Error]"||F instanceof Error)}w.isError=z;function k(F){return typeof F=="function"}w.isFunction=k;function O(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}w.isPrimitive=O,w.isBuffer=M("./support/isBuffer");function D(F){return Object.prototype.toString.call(F)}function W(F){return F<10?"0"+F.toString(10):F.toString(10)}var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function te(){var F=new Date,Y=[W(F.getHours()),W(F.getMinutes()),W(F.getSeconds())].join(":");return[F.getDate(),q[F.getMonth()],Y].join(" ")}w.log=function(){console.log("%s - %s",te(),w.format.apply(w,arguments))},w.inherits=M("inherits"),w._extend=function(F,Y){if(!Y||!T(Y))return F;for(var j=Object.keys(Y),Q=j.length;Q--;)F[j[Q]]=Y[j[Q]];return F};function K(F,Y){return Object.prototype.hasOwnProperty.call(F,Y)}}).call(this,M("_process"),typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(M,H,w){w.byteLength=t,w.toByteArray=s,w.fromByteArray=o;for(var E=[],g=[],u=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,a=p.length;l<a;++l)E[l]=p[l],g[p.charCodeAt(l)]=l;g[45]=62,g[95]=63;function i(r){var h=r.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=r.indexOf("=");c===-1&&(c=h);var d=c===h?0:4-c%4;return[c,d]}function t(r){var h=i(r),c=h[0],d=h[1];return(c+d)*3/4-d}function e(r,h,c){return(h+c)*3/4-c}function s(r){var h,c=i(r),d=c[0],v=c[1],_=new u(e(r,d,v)),b=0,y=v>0?d-4:d,S;for(S=0;S<y;S+=4)h=g[r.charCodeAt(S)]<<18|g[r.charCodeAt(S+1)]<<12|g[r.charCodeAt(S+2)]<<6|g[r.charCodeAt(S+3)],_[b++]=h>>16&255,_[b++]=h>>8&255,_[b++]=h&255;return v===2&&(h=g[r.charCodeAt(S)]<<2|g[r.charCodeAt(S+1)]>>4,_[b++]=h&255),v===1&&(h=g[r.charCodeAt(S)]<<10|g[r.charCodeAt(S+1)]<<4|g[r.charCodeAt(S+2)]>>2,_[b++]=h>>8&255,_[b++]=h&255),_}function f(r){return E[r>>18&63]+E[r>>12&63]+E[r>>6&63]+E[r&63]}function n(r,h,c){for(var d,v=[],_=h;_<c;_+=3)d=(r[_]<<16&16711680)+(r[_+1]<<8&65280)+(r[_+2]&255),v.push(f(d));return v.join("")}function o(r){for(var h,c=r.length,d=c%3,v=[],_=16383,b=0,y=c-d;b<y;b+=_)v.push(n(r,b,b+_>y?y:b+_));return d===1?(h=r[c-1],v.push(E[h>>2]+E[h<<4&63]+"==")):d===2&&(h=(r[c-2]<<8)+r[c-1],v.push(E[h>>10]+E[h>>4&63]+E[h<<2&63]+"=")),v.join("")}},{}],30:[function(M,H,w){var E=M("./lib/encoder"),g=M("./lib/decoder");H.exports={encode:E,decode:g}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(M,H,w){(function(E){function g(u,p){if(this.pos=0,this.buffer=u,this.is_with_alpha=!!p,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}g.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var u=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(u);for(var p=0;p<u;p++){var l=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.palette[p]={red:i,green:a,blue:l,quad:t}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},g.prototype.parseRGBA=function(){var u="bit"+this.bitPP,p=this.width*this.height*4;this.data=new E(p),this[u]()},g.prototype.bit1=function(){for(var u=Math.ceil(this.width/8),p=u%4,l=this.height>=0?this.height-1:-this.height,l=this.height-1;l>=0;l--){for(var a=this.bottom_up?l:this.height-1-l,i=0;i<u;i++)for(var t=this.buffer.readUInt8(this.pos++),e=a*this.width*4+i*8*4,s=0;s<8&&i*8+s<this.width;s++){var f=this.palette[t>>7-s&1];this.data[e+s*4]=0,this.data[e+s*4+1]=f.blue,this.data[e+s*4+2]=f.green,this.data[e+s*4+3]=f.red}p!=0&&(this.pos+=4-p)}},g.prototype.bit4=function(){if(this.compress==2){let v=function(_){var b=this.palette[_];this.data[u]=0,this.data[u+1]=b.blue,this.data[u+2]=b.green,this.data[u+3]=b.red,u+=4};this.data.fill(255);for(var u=0,p=this.bottom_up?this.height-1:0,l=!1;u<this.data.length;){var a=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(a==0)if(i==0){this.bottom_up?p--:p++,u=p*this.width*4,l=!1;continue}else{if(i==1)break;if(i==2){var t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++);this.bottom_up?p-=e:p+=e,u+=e*this.width*4+t*4}else{for(var s=this.buffer.readUInt8(this.pos++),f=0;f<i;f++)l?v.call(this,s&15):v.call(this,(s&240)>>4),f&1&&f+1<i&&(s=this.buffer.readUInt8(this.pos++)),l=!l;(i+1>>1&1)==1&&this.pos++}}else for(var f=0;f<a;f++)l?v.call(this,i&15):v.call(this,(i&240)>>4),l=!l}}else for(var n=Math.ceil(this.width/2),o=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<n;t++){var i=this.buffer.readUInt8(this.pos++),u=r*this.width*4+t*2*4,h=i>>4,c=i&15,d=this.palette[h];if(this.data[u]=0,this.data[u+1]=d.blue,this.data[u+2]=d.green,this.data[u+3]=d.red,t*2+1>=this.width)break;d=this.palette[c],this.data[u+4]=0,this.data[u+4+1]=d.blue,this.data[u+4+2]=d.green,this.data[u+4+3]=d.red}o!=0&&(this.pos+=4-o)}},g.prototype.bit8=function(){if(this.compress==1){let r=function(h){var c=this.palette[h];this.data[u]=0,this.data[u+1]=c.blue,this.data[u+2]=c.green,this.data[u+3]=c.red,u+=4};this.data.fill(255);for(var u=0,p=this.bottom_up?this.height-1:0;u<this.data.length;){var l=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);if(l==0)if(a==0){this.bottom_up?p--:p++,u=p*this.width*4;continue}else{if(a==1)break;if(a==2){var i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?p-=t:p+=t,u+=t*this.width*4+i*4}else{for(var e=0;e<a;e++){var s=this.buffer.readUInt8(this.pos++);r.call(this,s)}a&!0&&this.pos++}}else for(var e=0;e<l;e++)r.call(this,a)}}else for(var f=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.buffer.readUInt8(this.pos++),u=n*this.width*4+i*4;if(a<this.palette.length){var o=this.palette[a];this.data[u]=0,this.data[u+1]=o.blue,this.data[u+2]=o.green,this.data[u+3]=o.red}else this.data[u]=0,this.data[u+1]=255,this.data[u+2]=255,this.data[u+3]=255}f!=0&&(this.pos+=4-f)}},g.prototype.bit15=function(){for(var u=this.width%3,p=parseInt("11111",2),l=p,a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(e&l)/l*255|0,f=(e>>5&l)/l*255|0,n=(e>>10&l)/l*255|0,o=e>>15?255:0,r=i*this.width*4+t*4;this.data[r]=o,this.data[r+1]=s,this.data[r+2]=f,this.data[r+3]=n}this.pos+=u}},g.prototype.bit16=function(){var u=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var p=[0,0,0],l=0;l<16;l++)this.maskRed>>l&1&&p[0]++,this.maskGreen>>l&1&&p[1]++,this.maskBlue>>l&1&&p[2]++;p[1]+=p[0],p[2]+=p[1],p[0]=8-p[0],p[1]-=8,p[2]-=8;for(var a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(e&this.maskBlue)<<p[0],f=(e&this.maskGreen)>>p[1],n=(e&this.maskRed)>>p[2],o=i*this.width*4+t*4;this.data[o]=0,this.data[o+1]=s,this.data[o+2]=f,this.data[o+3]=n}this.pos+=u}},g.prototype.bit24=function(){for(var u=this.height-1;u>=0;u--){for(var p=this.bottom_up?u:this.height-1-u,l=0;l<this.width;l++){var a=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=p*this.width*4+l*4;this.data[e]=0,this.data[e+1]=a,this.data[e+2]=i,this.data[e+3]=t}this.pos+=this.width%4}},g.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var u=this.height-1;u>=0;u--)for(var p=this.bottom_up?u:this.height-1-u,l=0;l<this.width;l++){var a=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),s=p*this.width*4+l*4;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=t,this.data[s+3]=e}}else for(var u=this.height-1;u>=0;u--)for(var p=this.bottom_up?u:this.height-1-u,l=0;l<this.width;l++){var i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=p*this.width*4+l*4;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=t,this.data[s+3]=e}},g.prototype.getData=function(){return this.data},H.exports=function(u){var p=new g(u);return p}}).call(this,M("buffer").Buffer)},{buffer:48}],32:[function(M,H,w){(function(E){function g(u){this.buffer=u.data,this.width=u.width,this.height=u.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}g.prototype.encode=function(){var u=new E(this.offset+this.rgbSize);this.pos=0,u.write(this.flag,this.pos,2),this.pos+=2,u.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,u.writeUInt32LE(this.reserved,this.pos),this.pos+=4,u.writeUInt32LE(this.offset,this.pos),this.pos+=4,u.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,u.writeUInt32LE(this.width,this.pos),this.pos+=4,u.writeInt32LE(-this.height,this.pos),this.pos+=4,u.writeUInt16LE(this.planes,this.pos),this.pos+=2,u.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,u.writeUInt32LE(this.compress,this.pos),this.pos+=4,u.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,u.writeUInt32LE(this.hr,this.pos),this.pos+=4,u.writeUInt32LE(this.vr,this.pos),this.pos+=4,u.writeUInt32LE(this.colors,this.pos),this.pos+=4,u.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var p=0,l=3*this.width+this.extraBytes,a=0;a<this.height;a++){for(var i=0;i<this.width;i++){var t=this.pos+a*l+i*3;p++,u[t]=this.buffer[p++],u[t+1]=this.buffer[p++],u[t+2]=this.buffer[p++]}if(this.extraBytes>0){var e=this.pos+a*l+this.width*3;u.fill(0,e,e+this.extraBytes)}}return u},H.exports=function(u,p){var l=new g(u),a=l.encode();return{data:a,width:u.width,height:u.height}}}).call(this,M("buffer").Buffer)},{buffer:48}],33:[function(M,H,w){},{}],34:[function(M,H,w){(function(E,g){var u=M("assert"),p=M("pako/lib/zlib/zstream"),l=M("pako/lib/zlib/deflate.js"),a=M("pako/lib/zlib/inflate.js"),i=M("pako/lib/zlib/constants");for(var t in i)w[t]=i[t];w.NONE=0,w.DEFLATE=1,w.INFLATE=2,w.GZIP=3,w.GUNZIP=4,w.DEFLATERAW=5,w.INFLATERAW=6,w.UNZIP=7;var e=31,s=139;function f(n){if(typeof n!="number"||n<w.DEFLATE||n>w.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=n,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}f.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,u(this.init_done,"close before init"),u(this.mode<=w.UNZIP),this.mode===w.DEFLATE||this.mode===w.GZIP||this.mode===w.DEFLATERAW?l.deflateEnd(this.strm):(this.mode===w.INFLATE||this.mode===w.GUNZIP||this.mode===w.INFLATERAW||this.mode===w.UNZIP)&&a.inflateEnd(this.strm),this.mode=w.NONE,this.dictionary=null},f.prototype.write=function(n,o,r,h,c,d,v){return this._write(!0,n,o,r,h,c,d,v)},f.prototype.writeSync=function(n,o,r,h,c,d,v){return this._write(!1,n,o,r,h,c,d,v)},f.prototype._write=function(n,o,r,h,c,d,v,_){if(u.equal(arguments.length,8),u(this.init_done,"write before init"),u(this.mode!==w.NONE,"already finalized"),u.equal(!1,this.write_in_progress,"write already in progress"),u.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,u.equal(!1,o===void 0,"must provide flush value"),this.write_in_progress=!0,o!==w.Z_NO_FLUSH&&o!==w.Z_PARTIAL_FLUSH&&o!==w.Z_SYNC_FLUSH&&o!==w.Z_FULL_FLUSH&&o!==w.Z_FINISH&&o!==w.Z_BLOCK)throw new Error("Invalid flush value");if(r==null&&(r=g.alloc(0),c=0,h=0),this.strm.avail_in=c,this.strm.input=r,this.strm.next_in=h,this.strm.avail_out=_,this.strm.output=d,this.strm.next_out=v,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var b=this;return E.nextTick(function(){b._process(),b._after()}),this},f.prototype._afterSync=function(){var n=this.strm.avail_out,o=this.strm.avail_in;return this.write_in_progress=!1,[o,n]},f.prototype._process=function(){var n=null;switch(this.mode){case w.DEFLATE:case w.GZIP:case w.DEFLATERAW:this.err=l.deflate(this.strm,this.flush);break;case w.UNZIP:switch(this.strm.avail_in>0&&(n=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(n===null)break;if(this.strm.input[n]===e){if(this.gzip_id_bytes_read=1,n++,this.strm.avail_in===1)break}else{this.mode=w.INFLATE;break}case 1:if(n===null)break;this.strm.input[n]===s?(this.gzip_id_bytes_read=2,this.mode=w.GUNZIP):this.mode=w.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case w.INFLATE:case w.GUNZIP:case w.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===w.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===w.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===w.Z_DATA_ERROR&&(this.err=w.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===w.GUNZIP&&this.err===w.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case w.Z_OK:case w.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===w.Z_FINISH)return this._error("unexpected end of file"),!1;break;case w.Z_STREAM_END:break;case w.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var n=this.strm.avail_out,o=this.strm.avail_in;this.write_in_progress=!1,this.callback(o,n),this.pending_close&&this.close()}},f.prototype._error=function(n){this.strm.msg&&(n=this.strm.msg),this.onerror(n,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(n,o,r,h,c){u(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),u(n>=8&&n<=15,"invalid windowBits"),u(o>=-1&&o<=9,"invalid compression level"),u(r>=1&&r<=9,"invalid memlevel"),u(h===w.Z_FILTERED||h===w.Z_HUFFMAN_ONLY||h===w.Z_RLE||h===w.Z_FIXED||h===w.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(o,n,r,h,c),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(n,o,r,h,c){switch(this.level=n,this.windowBits=o,this.memLevel=r,this.strategy=h,this.flush=w.Z_NO_FLUSH,this.err=w.Z_OK,(this.mode===w.GZIP||this.mode===w.GUNZIP)&&(this.windowBits+=16),this.mode===w.UNZIP&&(this.windowBits+=32),(this.mode===w.DEFLATERAW||this.mode===w.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new p,this.mode){case w.DEFLATE:case w.GZIP:case w.DEFLATERAW:this.err=l.deflateInit2(this.strm,this.level,w.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case w.INFLATE:case w.GUNZIP:case w.INFLATERAW:case w.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==w.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=w.Z_OK,this.mode){case w.DEFLATE:case w.DEFLATERAW:this.err=l.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==w.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=w.Z_OK,this.mode){case w.DEFLATE:case w.DEFLATERAW:case w.GZIP:this.err=l.deflateReset(this.strm);break;case w.INFLATE:case w.INFLATERAW:case w.GUNZIP:this.err=a.inflateReset(this.strm);break}this.err!==w.Z_OK&&this._error("Failed to reset stream")},w.Zlib=f}).call(this,M("_process"),M("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(M,H,w){(function(E){var g=M("buffer").Buffer,u=M("stream").Transform,p=M("./binding"),l=M("util"),a=M("assert").ok,i=M("buffer").kMaxLength,t="Cannot create final Buffer. It would be larger than 0x"+i.toString(16)+" bytes";p.Z_MIN_WINDOWBITS=8,p.Z_MAX_WINDOWBITS=15,p.Z_DEFAULT_WINDOWBITS=15,p.Z_MIN_CHUNK=64,p.Z_MAX_CHUNK=1/0,p.Z_DEFAULT_CHUNK=16*1024,p.Z_MIN_MEMLEVEL=1,p.Z_MAX_MEMLEVEL=9,p.Z_DEFAULT_MEMLEVEL=8,p.Z_MIN_LEVEL=-1,p.Z_MAX_LEVEL=9,p.Z_DEFAULT_LEVEL=p.Z_DEFAULT_COMPRESSION;for(var e=Object.keys(p),s=0;s<e.length;s++){var f=e[s];f.match(/^Z/)&&Object.defineProperty(w,f,{enumerable:!0,value:p[f],writable:!1})}for(var n={Z_OK:p.Z_OK,Z_STREAM_END:p.Z_STREAM_END,Z_NEED_DICT:p.Z_NEED_DICT,Z_ERRNO:p.Z_ERRNO,Z_STREAM_ERROR:p.Z_STREAM_ERROR,Z_DATA_ERROR:p.Z_DATA_ERROR,Z_MEM_ERROR:p.Z_MEM_ERROR,Z_BUF_ERROR:p.Z_BUF_ERROR,Z_VERSION_ERROR:p.Z_VERSION_ERROR},o=Object.keys(n),r=0;r<o.length;r++){var h=o[r];n[n[h]]=h}Object.defineProperty(w,"codes",{enumerable:!0,value:Object.freeze(n),writable:!1}),w.Deflate=v,w.Inflate=_,w.Gzip=b,w.Gunzip=y,w.DeflateRaw=S,w.InflateRaw=R,w.Unzip=L,w.createDeflate=function(O){return new v(O)},w.createInflate=function(O){return new _(O)},w.createDeflateRaw=function(O){return new S(O)},w.createInflateRaw=function(O){return new R(O)},w.createGzip=function(O){return new b(O)},w.createGunzip=function(O){return new y(O)},w.createUnzip=function(O){return new L(O)},w.deflate=function(O,D,W){return typeof D=="function"&&(W=D,D={}),c(new v(D),O,W)},w.deflateSync=function(O,D){return d(new v(D),O)},w.gzip=function(O,D,W){return typeof D=="function"&&(W=D,D={}),c(new b(D),O,W)},w.gzipSync=function(O,D){return d(new b(D),O)},w.deflateRaw=function(O,D,W){return typeof D=="function"&&(W=D,D={}),c(new S(D),O,W)},w.deflateRawSync=function(O,D){return d(new S(D),O)},w.unzip=function(O,D,W){return typeof D=="function"&&(W=D,D={}),c(new L(D),O,W)},w.unzipSync=function(O,D){return d(new L(D),O)},w.inflate=function(O,D,W){return typeof D=="function"&&(W=D,D={}),c(new _(D),O,W)},w.inflateSync=function(O,D){return d(new _(D),O)},w.gunzip=function(O,D,W){return typeof D=="function"&&(W=D,D={}),c(new y(D),O,W)},w.gunzipSync=function(O,D){return d(new y(D),O)},w.inflateRaw=function(O,D,W){return typeof D=="function"&&(W=D,D={}),c(new R(D),O,W)},w.inflateRawSync=function(O,D){return d(new R(D),O)};function c(O,D,W){var q=[],te=0;O.on("error",F),O.on("end",Y),O.end(D),K();function K(){for(var j;(j=O.read())!==null;)q.push(j),te+=j.length;O.once("readable",K)}function F(j){O.removeListener("end",Y),O.removeListener("readable",K),W(j)}function Y(){var j,Q=null;te>=i?Q=new RangeError(t):j=g.concat(q,te),q=[],O.close(),W(Q,j)}}function d(O,D){if(typeof D=="string"&&(D=g.from(D)),!g.isBuffer(D))throw new TypeError("Not a string or buffer");var W=O._finishFlushFlag;return O._processChunk(D,W)}function v(O){if(!(this instanceof v))return new v(O);x.call(this,O,p.DEFLATE)}function _(O){if(!(this instanceof _))return new _(O);x.call(this,O,p.INFLATE)}function b(O){if(!(this instanceof b))return new b(O);x.call(this,O,p.GZIP)}function y(O){if(!(this instanceof y))return new y(O);x.call(this,O,p.GUNZIP)}function S(O){if(!(this instanceof S))return new S(O);x.call(this,O,p.DEFLATERAW)}function R(O){if(!(this instanceof R))return new R(O);x.call(this,O,p.INFLATERAW)}function L(O){if(!(this instanceof L))return new L(O);x.call(this,O,p.UNZIP)}function T(O){return O===p.Z_NO_FLUSH||O===p.Z_PARTIAL_FLUSH||O===p.Z_SYNC_FLUSH||O===p.Z_FULL_FLUSH||O===p.Z_FINISH||O===p.Z_BLOCK}function x(O,D){var W=this;if(this._opts=O=O||{},this._chunkSize=O.chunkSize||w.Z_DEFAULT_CHUNK,u.call(this,O),O.flush&&!T(O.flush))throw new Error("Invalid flush flag: "+O.flush);if(O.finishFlush&&!T(O.finishFlush))throw new Error("Invalid flush flag: "+O.finishFlush);if(this._flushFlag=O.flush||p.Z_NO_FLUSH,this._finishFlushFlag=typeof O.finishFlush<"u"?O.finishFlush:p.Z_FINISH,O.chunkSize&&(O.chunkSize<w.Z_MIN_CHUNK||O.chunkSize>w.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+O.chunkSize);if(O.windowBits&&(O.windowBits<w.Z_MIN_WINDOWBITS||O.windowBits>w.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+O.windowBits);if(O.level&&(O.level<w.Z_MIN_LEVEL||O.level>w.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+O.level);if(O.memLevel&&(O.memLevel<w.Z_MIN_MEMLEVEL||O.memLevel>w.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+O.memLevel);if(O.strategy&&O.strategy!=w.Z_FILTERED&&O.strategy!=w.Z_HUFFMAN_ONLY&&O.strategy!=w.Z_RLE&&O.strategy!=w.Z_FIXED&&O.strategy!=w.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+O.strategy);if(O.dictionary&&!g.isBuffer(O.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new p.Zlib(D);var q=this;this._hadError=!1,this._handle.onerror=function(F,Y){z(q),q._hadError=!0;var j=new Error(F);j.errno=Y,j.code=w.codes[Y],q.emit("error",j)};var te=w.Z_DEFAULT_COMPRESSION;typeof O.level=="number"&&(te=O.level);var K=w.Z_DEFAULT_STRATEGY;typeof O.strategy=="number"&&(K=O.strategy),this._handle.init(O.windowBits||w.Z_DEFAULT_WINDOWBITS,te,O.memLevel||w.Z_DEFAULT_MEMLEVEL,K,O.dictionary),this._buffer=g.allocUnsafe(this._chunkSize),this._offset=0,this._level=te,this._strategy=K,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!W._handle},configurable:!0,enumerable:!0})}l.inherits(x,u),x.prototype.params=function(O,D,W){if(O<w.Z_MIN_LEVEL||O>w.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+O);if(D!=w.Z_FILTERED&&D!=w.Z_HUFFMAN_ONLY&&D!=w.Z_RLE&&D!=w.Z_FIXED&&D!=w.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+D);if(this._level!==O||this._strategy!==D){var q=this;this.flush(p.Z_SYNC_FLUSH,function(){a(q._handle,"zlib binding closed"),q._handle.params(O,D),q._hadError||(q._level=O,q._strategy=D,W&&W())})}else E.nextTick(W)},x.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},x.prototype._flush=function(O){this._transform(g.alloc(0),"",O)},x.prototype.flush=function(O,D){var W=this,q=this._writableState;(typeof O=="function"||O===void 0&&!D)&&(D=O,O=p.Z_FULL_FLUSH),q.ended?D&&E.nextTick(D):q.ending?D&&this.once("end",D):q.needDrain?D&&this.once("drain",function(){return W.flush(O,D)}):(this._flushFlag=O,this.write(g.alloc(0),"",D))},x.prototype.close=function(O){z(this,O),E.nextTick(k,this)};function z(O,D){D&&E.nextTick(D),O._handle&&(O._handle.close(),O._handle=null)}function k(O){O.emit("close")}x.prototype._transform=function(O,D,W){var q,te=this._writableState,K=te.ending||te.ended,F=K&&(!O||te.length===O.length);if(O!==null&&!g.isBuffer(O))return W(new Error("invalid input"));if(!this._handle)return W(new Error("zlib binding closed"));F?q=this._finishFlushFlag:(q=this._flushFlag,O.length>=te.length&&(this._flushFlag=this._opts.flush||p.Z_NO_FLUSH)),this._processChunk(O,q,W)},x.prototype._processChunk=function(O,D,W){var q=O&&O.length,te=this._chunkSize-this._offset,K=0,F=this,Y=typeof W=="function";if(!Y){var j=[],Q=0,re;this.on("error",function(ne){re=ne}),a(this._handle,"zlib binding closed");do var se=this._handle.writeSync(D,O,K,q,this._buffer,this._offset,te);while(!this._hadError&&ve(se[0],se[1]));if(this._hadError)throw re;if(Q>=i)throw z(this),new RangeError(t);var le=g.concat(j,Q);return z(this),le}a(this._handle,"zlib binding closed");var fe=this._handle.write(D,O,K,q,this._buffer,this._offset,te);fe.buffer=O,fe.callback=ve;function ve(ne,ie){if(this&&(this.buffer=null,this.callback=null),!F._hadError){var V=te-ie;if(a(V>=0,"have should not go down"),V>0){var ee=F._buffer.slice(F._offset,F._offset+V);F._offset+=V,Y?F.push(ee):(j.push(ee),Q+=ee.length)}if((ie===0||F._offset>=F._chunkSize)&&(te=F._chunkSize,F._offset=0,F._buffer=g.allocUnsafe(F._chunkSize)),ie===0){if(K+=q-ne,q=ne,!Y)return!0;var $=F._handle.write(D,O,K,q,F._buffer,F._offset,F._chunkSize);$.callback=ve,$.buffer=O;return}if(!Y)return!1;W()}}},l.inherits(v,x),l.inherits(_,x),l.inherits(b,x),l.inherits(y,x),l.inherits(S,x),l.inherits(R,x),l.inherits(L,x)}).call(this,M("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(M,H,w){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function g(l,a){return Object.prototype.hasOwnProperty.call(l,a)}w.assign=function(l){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var i=a.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(var t in i)g(i,t)&&(l[t]=i[t])}}return l},w.shrinkBuf=function(l,a){return l.length===a?l:l.subarray?l.subarray(0,a):(l.length=a,l)};var u={arraySet:function(l,a,i,t,e){if(a.subarray&&l.subarray){l.set(a.subarray(i,i+t),e);return}for(var s=0;s<t;s++)l[e+s]=a[i+s]},flattenChunks:function(l){var a,i,t,e,s,f;for(t=0,a=0,i=l.length;a<i;a++)t+=l[a].length;for(f=new Uint8Array(t),e=0,a=0,i=l.length;a<i;a++)s=l[a],f.set(s,e),e+=s.length;return f}},p={arraySet:function(l,a,i,t,e){for(var s=0;s<t;s++)l[e+s]=a[i+s]},flattenChunks:function(l){return[].concat.apply([],l)}};w.setTyped=function(l){l?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,u)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,p))},w.setTyped(E)},{}],37:[function(M,H,w){function E(g,u,p,l){for(var a=g&65535|0,i=g>>>16&65535|0,t=0;p!==0;){t=p>2e3?2e3:p,p-=t;do a=a+u[l++]|0,i=i+a|0;while(--t);a%=65521,i%=65521}return a|i<<16|0}H.exports=E},{}],38:[function(M,H,w){H.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(M,H,w){function E(){for(var p,l=[],a=0;a<256;a++){p=a;for(var i=0;i<8;i++)p=p&1?3988292384^p>>>1:p>>>1;l[a]=p}return l}var g=E();function u(p,l,a,i){var t=g,e=i+a;p^=-1;for(var s=i;s<e;s++)p=p>>>8^t[(p^l[s])&255];return p^-1}H.exports=u},{}],40:[function(M,H,w){var E=M("../utils/common"),g=M("./trees"),u=M("./adler32"),p=M("./crc32"),l=M("./messages"),a=0,i=1,t=3,e=4,s=5,f=0,n=1,o=-2,r=-3,h=-5,c=-1,d=1,v=2,_=3,b=4,y=0,S=2,R=8,L=9,T=15,x=8,z=29,k=256,O=k+1+z,D=30,W=19,q=2*O+1,te=15,K=3,F=258,Y=F+K+1,j=32,Q=42,re=69,se=73,le=91,fe=103,ve=113,ne=666,ie=1,V=2,ee=3,$=4,G=3;function I(m,ue){return m.msg=l[ue],ue}function P(m){return(m<<1)-(m>4?9:0)}function Z(m){for(var ue=m.length;--ue>=0;)m[ue]=0}function U(m){var ue=m.state,me=ue.pending;me>m.avail_out&&(me=m.avail_out),me!==0&&(E.arraySet(m.output,ue.pending_buf,ue.pending_out,me,m.next_out),m.next_out+=me,ue.pending_out+=me,m.total_out+=me,m.avail_out-=me,ue.pending-=me,ue.pending===0&&(ue.pending_out=0))}function C(m,ue){g._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,ue),m.block_start=m.strstart,U(m.strm)}function A(m,ue){m.pending_buf[m.pending++]=ue}function X(m,ue){m.pending_buf[m.pending++]=ue>>>8&255,m.pending_buf[m.pending++]=ue&255}function ae(m,ue,me,B){var oe=m.avail_in;return oe>B&&(oe=B),oe===0?0:(m.avail_in-=oe,E.arraySet(ue,m.input,m.next_in,oe,me),m.state.wrap===1?m.adler=u(m.adler,ue,oe,me):m.state.wrap===2&&(m.adler=p(m.adler,ue,oe,me)),m.next_in+=oe,m.total_in+=oe,oe)}function pe(m,ue){var me=m.max_chain_length,B=m.strstart,oe,be,Te=m.prev_length,Ae=m.nice_match,Le=m.strstart>m.w_size-Y?m.strstart-(m.w_size-Y):0,De=m.window,Ye=m.w_mask,Ue=m.prev,ze=m.strstart+F,Ge=De[B+Te-1],He=De[B+Te];m.prev_length>=m.good_match&&(me>>=2),Ae>m.lookahead&&(Ae=m.lookahead);do if(oe=ue,!(De[oe+Te]!==He||De[oe+Te-1]!==Ge||De[oe]!==De[B]||De[++oe]!==De[B+1])){B+=2,oe++;do;while(De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&B<ze);if(be=F-(ze-B),B=ze-F,be>Te){if(m.match_start=ue,Te=be,be>=Ae)break;Ge=De[B+Te-1],He=De[B+Te]}}while((ue=Ue[ue&Ye])>Le&&--me!==0);return Te<=m.lookahead?Te:m.lookahead}function _e(m){var ue=m.w_size,me,B,oe,be,Te;do{if(be=m.window_size-m.lookahead-m.strstart,m.strstart>=ue+(ue-Y)){E.arraySet(m.window,m.window,ue,ue,0),m.match_start-=ue,m.strstart-=ue,m.block_start-=ue,B=m.hash_size,me=B;do oe=m.head[--me],m.head[me]=oe>=ue?oe-ue:0;while(--B);B=ue,me=B;do oe=m.prev[--me],m.prev[me]=oe>=ue?oe-ue:0;while(--B);be+=ue}if(m.strm.avail_in===0)break;if(B=ae(m.strm,m.window,m.strstart+m.lookahead,be),m.lookahead+=B,m.lookahead+m.insert>=K)for(Te=m.strstart-m.insert,m.ins_h=m.window[Te],m.ins_h=(m.ins_h<<m.hash_shift^m.window[Te+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[Te+K-1])&m.hash_mask,m.prev[Te&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=Te,Te++,m.insert--,!(m.lookahead+m.insert<K)););}while(m.lookahead<Y&&m.strm.avail_in!==0)}function Ee(m,ue){var me=65535;for(me>m.pending_buf_size-5&&(me=m.pending_buf_size-5);;){if(m.lookahead<=1){if(_e(m),m.lookahead===0&&ue===a)return ie;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var B=m.block_start+me;if((m.strstart===0||m.strstart>=B)&&(m.lookahead=m.strstart-B,m.strstart=B,C(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-Y&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=0,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):(m.strstart>m.block_start&&(C(m,!1),m.strm.avail_out===0),ie)}function Pe(m,ue){for(var me,B;;){if(m.lookahead<Y){if(_e(m),m.lookahead<Y&&ue===a)return ie;if(m.lookahead===0)break}if(me=0,m.lookahead>=K&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),me!==0&&m.strstart-me<=m.w_size-Y&&(m.match_length=pe(m,me)),m.match_length>=K)if(B=g._tr_tally(m,m.strstart-m.match_start,m.match_length-K),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=K){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else B=g._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(B&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=m.strstart<K-1?m.strstart:K-1,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Re(m,ue){for(var me,B,oe;;){if(m.lookahead<Y){if(_e(m),m.lookahead<Y&&ue===a)return ie;if(m.lookahead===0)break}if(me=0,m.lookahead>=K&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=K-1,me!==0&&m.prev_length<m.max_lazy_match&&m.strstart-me<=m.w_size-Y&&(m.match_length=pe(m,me),m.match_length<=5&&(m.strategy===d||m.match_length===K&&m.strstart-m.match_start>4096)&&(m.match_length=K-1)),m.prev_length>=K&&m.match_length<=m.prev_length){oe=m.strstart+m.lookahead-K,B=g._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-K),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=oe&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=K-1,m.strstart++,B&&(C(m,!1),m.strm.avail_out===0))return ie}else if(m.match_available){if(B=g._tr_tally(m,0,m.window[m.strstart-1]),B&&C(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return ie}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(B=g._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<K-1?m.strstart:K-1,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Ce(m,ue){for(var me,B,oe,be,Te=m.window;;){if(m.lookahead<=F){if(_e(m),m.lookahead<=F&&ue===a)return ie;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=K&&m.strstart>0&&(oe=m.strstart-1,B=Te[oe],B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe])){be=m.strstart+F;do;while(B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&oe<be);m.match_length=F-(be-oe),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=K?(me=g._tr_tally(m,1,m.match_length-K),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(me=g._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),me&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=0,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Me(m,ue){for(var me;;){if(m.lookahead===0&&(_e(m),m.lookahead===0)){if(ue===a)return ie;break}if(m.match_length=0,me=g._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,me&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=0,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Se(m,ue,me,B,oe){this.good_length=m,this.max_lazy=ue,this.nice_length=me,this.max_chain=B,this.func=oe}var Be;Be=[new Se(0,0,0,0,Ee),new Se(4,4,8,4,Pe),new Se(4,5,16,8,Pe),new Se(4,6,32,32,Pe),new Se(4,4,16,16,Re),new Se(8,16,32,32,Re),new Se(8,16,128,128,Re),new Se(8,32,128,256,Re),new Se(32,128,258,1024,Re),new Se(32,258,258,4096,Re)];function Oe(m){m.window_size=2*m.w_size,Z(m.head),m.max_lazy_match=Be[m.level].max_lazy,m.good_match=Be[m.level].good_length,m.nice_match=Be[m.level].nice_length,m.max_chain_length=Be[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=K-1,m.match_available=0,m.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(q*2),this.dyn_dtree=new E.Buf16((2*D+1)*2),this.bl_tree=new E.Buf16((2*W+1)*2),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(te+1),this.heap=new E.Buf16(2*O+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*O+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(m){var ue;return!m||!m.state?I(m,o):(m.total_in=m.total_out=0,m.data_type=S,ue=m.state,ue.pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?Q:ve,m.adler=ue.wrap===2?0:1,ue.last_flush=a,g._tr_init(ue),f)}function de(m){var ue=ce(m);return ue===f&&Oe(m.state),ue}function ye(m,ue){return!m||!m.state||m.state.wrap!==2?o:(m.state.gzhead=ue,f)}function he(m,ue,me,B,oe,be){if(!m)return o;var Te=1;if(ue===c&&(ue=6),B<0?(Te=0,B=-B):B>15&&(Te=2,B-=16),oe<1||oe>L||me!==R||B<8||B>15||ue<0||ue>9||be<0||be>b)return I(m,o);B===8&&(B=9);var Ae=new N;return m.state=Ae,Ae.strm=m,Ae.wrap=Te,Ae.gzhead=null,Ae.w_bits=B,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=oe+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+K-1)/K),Ae.window=new E.Buf8(Ae.w_size*2),Ae.head=new E.Buf16(Ae.hash_size),Ae.prev=new E.Buf16(Ae.w_size),Ae.lit_bufsize=1<<oe+6,Ae.pending_buf_size=Ae.lit_bufsize*4,Ae.pending_buf=new E.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=ue,Ae.strategy=be,Ae.method=me,de(m)}function ge(m,ue){return he(m,ue,R,T,x,y)}function J(m,ue){var me,B,oe,be;if(!m||!m.state||ue>s||ue<0)return m?I(m,o):o;if(B=m.state,!m.output||!m.input&&m.avail_in!==0||B.status===ne&&ue!==e)return I(m,m.avail_out===0?h:o);if(B.strm=m,me=B.last_flush,B.last_flush=ue,B.status===Q)if(B.wrap===2)m.adler=0,A(B,31),A(B,139),A(B,8),B.gzhead?(A(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),A(B,B.gzhead.time&255),A(B,B.gzhead.time>>8&255),A(B,B.gzhead.time>>16&255),A(B,B.gzhead.time>>24&255),A(B,B.level===9?2:B.strategy>=v||B.level<2?4:0),A(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(A(B,B.gzhead.extra.length&255),A(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(m.adler=p(m.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=re):(A(B,0),A(B,0),A(B,0),A(B,0),A(B,0),A(B,B.level===9?2:B.strategy>=v||B.level<2?4:0),A(B,G),B.status=ve);else{var Te=R+(B.w_bits-8<<4)<<8,Ae=-1;B.strategy>=v||B.level<2?Ae=0:B.level<6?Ae=1:B.level===6?Ae=2:Ae=3,Te|=Ae<<6,B.strstart!==0&&(Te|=j),Te+=31-Te%31,B.status=ve,X(B,Te),B.strstart!==0&&(X(B,m.adler>>>16),X(B,m.adler&65535)),m.adler=1}if(B.status===re)if(B.gzhead.extra){for(oe=B.pending;B.gzindex<(B.gzhead.extra.length&65535)&&!(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),U(m),oe=B.pending,B.pending===B.pending_buf_size));)A(B,B.gzhead.extra[B.gzindex]&255),B.gzindex++;B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=se)}else B.status=se;if(B.status===se)if(B.gzhead.name){oe=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),U(m),oe=B.pending,B.pending===B.pending_buf_size)){be=1;break}B.gzindex<B.gzhead.name.length?be=B.gzhead.name.charCodeAt(B.gzindex++)&255:be=0,A(B,be)}while(be!==0);B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),be===0&&(B.gzindex=0,B.status=le)}else B.status=le;if(B.status===le)if(B.gzhead.comment){oe=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),U(m),oe=B.pending,B.pending===B.pending_buf_size)){be=1;break}B.gzindex<B.gzhead.comment.length?be=B.gzhead.comment.charCodeAt(B.gzindex++)&255:be=0,A(B,be)}while(be!==0);B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),be===0&&(B.status=fe)}else B.status=fe;if(B.status===fe&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&U(m),B.pending+2<=B.pending_buf_size&&(A(B,m.adler&255),A(B,m.adler>>8&255),m.adler=0,B.status=ve)):B.status=ve),B.pending!==0){if(U(m),m.avail_out===0)return B.last_flush=-1,f}else if(m.avail_in===0&&P(ue)<=P(me)&&ue!==e)return I(m,h);if(B.status===ne&&m.avail_in!==0)return I(m,h);if(m.avail_in!==0||B.lookahead!==0||ue!==a&&B.status!==ne){var Le=B.strategy===v?Me(B,ue):B.strategy===_?Ce(B,ue):Be[B.level].func(B,ue);if((Le===ee||Le===$)&&(B.status=ne),Le===ie||Le===ee)return m.avail_out===0&&(B.last_flush=-1),f;if(Le===V&&(ue===i?g._tr_align(B):ue!==s&&(g._tr_stored_block(B,0,0,!1),ue===t&&(Z(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),U(m),m.avail_out===0))return B.last_flush=-1,f}return ue!==e?f:B.wrap<=0?n:(B.wrap===2?(A(B,m.adler&255),A(B,m.adler>>8&255),A(B,m.adler>>16&255),A(B,m.adler>>24&255),A(B,m.total_in&255),A(B,m.total_in>>8&255),A(B,m.total_in>>16&255),A(B,m.total_in>>24&255)):(X(B,m.adler>>>16),X(B,m.adler&65535)),U(m),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?f:n)}function we(m){var ue;return!m||!m.state?o:(ue=m.state.status,ue!==Q&&ue!==re&&ue!==se&&ue!==le&&ue!==fe&&ue!==ve&&ue!==ne?I(m,o):(m.state=null,ue===ve?I(m,r):f))}function ke(m,ue){var me=ue.length,B,oe,be,Te,Ae,Le,De,Ye;if(!m||!m.state||(B=m.state,Te=B.wrap,Te===2||Te===1&&B.status!==Q||B.lookahead))return o;for(Te===1&&(m.adler=u(m.adler,ue,me,0)),B.wrap=0,me>=B.w_size&&(Te===0&&(Z(B.head),B.strstart=0,B.block_start=0,B.insert=0),Ye=new E.Buf8(B.w_size),E.arraySet(Ye,ue,me-B.w_size,B.w_size,0),ue=Ye,me=B.w_size),Ae=m.avail_in,Le=m.next_in,De=m.input,m.avail_in=me,m.next_in=0,m.input=ue,_e(B);B.lookahead>=K;){oe=B.strstart,be=B.lookahead-(K-1);do B.ins_h=(B.ins_h<<B.hash_shift^B.window[oe+K-1])&B.hash_mask,B.prev[oe&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=oe,oe++;while(--be);B.strstart=oe,B.lookahead=K-1,_e(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=K-1,B.match_available=0,m.next_in=Le,m.input=De,m.avail_in=Ae,B.wrap=Te,f}w.deflateInit=ge,w.deflateInit2=he,w.deflateReset=de,w.deflateResetKeep=ce,w.deflateSetHeader=ye,w.deflate=J,w.deflateEnd=we,w.deflateSetDictionary=ke,w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(M,H,w){var E=30,g=12;H.exports=function(p,l){var a,i,t,e,s,f,n,o,r,h,c,d,v,_,b,y,S,R,L,T,x,z,k,O,D;a=p.state,i=p.next_in,O=p.input,t=i+(p.avail_in-5),e=p.next_out,D=p.output,s=e-(l-p.avail_out),f=e+(p.avail_out-257),n=a.dmax,o=a.wsize,r=a.whave,h=a.wnext,c=a.window,d=a.hold,v=a.bits,_=a.lencode,b=a.distcode,y=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{v<15&&(d+=O[i++]<<v,v+=8,d+=O[i++]<<v,v+=8),R=_[d&y];t:for(;;){if(L=R>>>24,d>>>=L,v-=L,L=R>>>16&255,L===0)D[e++]=R&65535;else if(L&16){T=R&65535,L&=15,L&&(v<L&&(d+=O[i++]<<v,v+=8),T+=d&(1<<L)-1,d>>>=L,v-=L),v<15&&(d+=O[i++]<<v,v+=8,d+=O[i++]<<v,v+=8),R=b[d&S];r:for(;;){if(L=R>>>24,d>>>=L,v-=L,L=R>>>16&255,L&16){if(x=R&65535,L&=15,v<L&&(d+=O[i++]<<v,v+=8,v<L&&(d+=O[i++]<<v,v+=8)),x+=d&(1<<L)-1,x>n){p.msg="invalid distance too far back",a.mode=E;break e}if(d>>>=L,v-=L,L=e-s,x>L){if(L=x-L,L>r&&a.sane){p.msg="invalid distance too far back",a.mode=E;break e}if(z=0,k=c,h===0){if(z+=o-L,L<T){T-=L;do D[e++]=c[z++];while(--L);z=e-x,k=D}}else if(h<L){if(z+=o+h-L,L-=h,L<T){T-=L;do D[e++]=c[z++];while(--L);if(z=0,h<T){L=h,T-=L;do D[e++]=c[z++];while(--L);z=e-x,k=D}}}else if(z+=h-L,L<T){T-=L;do D[e++]=c[z++];while(--L);z=e-x,k=D}for(;T>2;)D[e++]=k[z++],D[e++]=k[z++],D[e++]=k[z++],T-=3;T&&(D[e++]=k[z++],T>1&&(D[e++]=k[z++]))}else{z=e-x;do D[e++]=D[z++],D[e++]=D[z++],D[e++]=D[z++],T-=3;while(T>2);T&&(D[e++]=D[z++],T>1&&(D[e++]=D[z++]))}}else if((L&64)===0){R=b[(R&65535)+(d&(1<<L)-1)];continue r}else{p.msg="invalid distance code",a.mode=E;break e}break}}else if((L&64)===0){R=_[(R&65535)+(d&(1<<L)-1)];continue t}else if(L&32){a.mode=g;break e}else{p.msg="invalid literal/length code",a.mode=E;break e}break}}while(i<t&&e<f);T=v>>3,i-=T,v-=T<<3,d&=(1<<v)-1,p.next_in=i,p.next_out=e,p.avail_in=i<t?5+(t-i):5-(i-t),p.avail_out=e<f?257+(f-e):257-(e-f),a.hold=d,a.bits=v}},{}],42:[function(M,H,w){var E=M("../utils/common"),g=M("./adler32"),u=M("./crc32"),p=M("./inffast"),l=M("./inftrees"),a=0,i=1,t=2,e=4,s=5,f=6,n=0,o=1,r=2,h=-2,c=-3,d=-4,v=-5,_=8,b=1,y=2,S=3,R=4,L=5,T=6,x=7,z=8,k=9,O=10,D=11,W=12,q=13,te=14,K=15,F=16,Y=17,j=18,Q=19,re=20,se=21,le=22,fe=23,ve=24,ne=25,ie=26,V=27,ee=28,$=29,G=30,I=31,P=32,Z=852,U=592,C=15,A=C;function X(he){return(he>>>24&255)+(he>>>8&65280)+((he&65280)<<8)+((he&255)<<24)}function ae(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new E.Buf16(320),this.work=new E.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pe(he){var ge;return!he||!he.state?h:(ge=he.state,he.total_in=he.total_out=ge.total=0,he.msg="",ge.wrap&&(he.adler=ge.wrap&1),ge.mode=b,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new E.Buf32(Z),ge.distcode=ge.distdyn=new E.Buf32(U),ge.sane=1,ge.back=-1,n)}function _e(he){var ge;return!he||!he.state?h:(ge=he.state,ge.wsize=0,ge.whave=0,ge.wnext=0,pe(he))}function Ee(he,ge){var J,we;return!he||!he.state||(we=he.state,ge<0?(J=0,ge=-ge):(J=(ge>>4)+1,ge<48&&(ge&=15)),ge&&(ge<8||ge>15))?h:(we.window!==null&&we.wbits!==ge&&(we.window=null),we.wrap=J,we.wbits=ge,_e(he))}function Pe(he,ge){var J,we;return he?(we=new ae,he.state=we,we.window=null,J=Ee(he,ge),J!==n&&(he.state=null),J):h}function Re(he){return Pe(he,A)}var Ce=!0,Me,Se;function Be(he){if(Ce){var ge;for(Me=new E.Buf32(512),Se=new E.Buf32(32),ge=0;ge<144;)he.lens[ge++]=8;for(;ge<256;)he.lens[ge++]=9;for(;ge<280;)he.lens[ge++]=7;for(;ge<288;)he.lens[ge++]=8;for(l(i,he.lens,0,288,Me,0,he.work,{bits:9}),ge=0;ge<32;)he.lens[ge++]=5;l(t,he.lens,0,32,Se,0,he.work,{bits:5}),Ce=!1}he.lencode=Me,he.lenbits=9,he.distcode=Se,he.distbits=5}function Oe(he,ge,J,we){var ke,m=he.state;return m.window===null&&(m.wsize=1<<m.wbits,m.wnext=0,m.whave=0,m.window=new E.Buf8(m.wsize)),we>=m.wsize?(E.arraySet(m.window,ge,J-m.wsize,m.wsize,0),m.wnext=0,m.whave=m.wsize):(ke=m.wsize-m.wnext,ke>we&&(ke=we),E.arraySet(m.window,ge,J-we,ke,m.wnext),we-=ke,we?(E.arraySet(m.window,ge,J-we,we,0),m.wnext=we,m.whave=m.wsize):(m.wnext+=ke,m.wnext===m.wsize&&(m.wnext=0),m.whave<m.wsize&&(m.whave+=ke))),0}function N(he,ge){var J,we,ke,m,ue,me,B,oe,be,Te,Ae,Le,De,Ye,Ue=0,ze,Ge,He,Xe,Je,qe,je,Ve,We=new E.Buf8(4),Ke,Qe,$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!he||!he.state||!he.output||!he.input&&he.avail_in!==0)return h;J=he.state,J.mode===W&&(J.mode=q),ue=he.next_out,ke=he.output,B=he.avail_out,m=he.next_in,we=he.input,me=he.avail_in,oe=J.hold,be=J.bits,Te=me,Ae=B,Ve=n;e:for(;;)switch(J.mode){case b:if(J.wrap===0){J.mode=q;break}for(;be<16;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(J.wrap&2&&oe===35615){J.check=0,We[0]=oe&255,We[1]=oe>>>8&255,J.check=u(J.check,We,2,0),oe=0,be=0,J.mode=y;break}if(J.flags=0,J.head&&(J.head.done=!1),!(J.wrap&1)||(((oe&255)<<8)+(oe>>8))%31){he.msg="incorrect header check",J.mode=G;break}if((oe&15)!==_){he.msg="unknown compression method",J.mode=G;break}if(oe>>>=4,be-=4,je=(oe&15)+8,J.wbits===0)J.wbits=je;else if(je>J.wbits){he.msg="invalid window size",J.mode=G;break}J.dmax=1<<je,he.adler=J.check=1,J.mode=oe&512?O:W,oe=0,be=0;break;case y:for(;be<16;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(J.flags=oe,(J.flags&255)!==_){he.msg="unknown compression method",J.mode=G;break}if(J.flags&57344){he.msg="unknown header flags set",J.mode=G;break}J.head&&(J.head.text=oe>>8&1),J.flags&512&&(We[0]=oe&255,We[1]=oe>>>8&255,J.check=u(J.check,We,2,0)),oe=0,be=0,J.mode=S;case S:for(;be<32;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}J.head&&(J.head.time=oe),J.flags&512&&(We[0]=oe&255,We[1]=oe>>>8&255,We[2]=oe>>>16&255,We[3]=oe>>>24&255,J.check=u(J.check,We,4,0)),oe=0,be=0,J.mode=R;case R:for(;be<16;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}J.head&&(J.head.xflags=oe&255,J.head.os=oe>>8),J.flags&512&&(We[0]=oe&255,We[1]=oe>>>8&255,J.check=u(J.check,We,2,0)),oe=0,be=0,J.mode=L;case L:if(J.flags&1024){for(;be<16;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}J.length=oe,J.head&&(J.head.extra_len=oe),J.flags&512&&(We[0]=oe&255,We[1]=oe>>>8&255,J.check=u(J.check,We,2,0)),oe=0,be=0}else J.head&&(J.head.extra=null);J.mode=T;case T:if(J.flags&1024&&(Le=J.length,Le>me&&(Le=me),Le&&(J.head&&(je=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Array(J.head.extra_len)),E.arraySet(J.head.extra,we,m,Le,je)),J.flags&512&&(J.check=u(J.check,we,Le,m)),me-=Le,m+=Le,J.length-=Le),J.length))break e;J.length=0,J.mode=x;case x:if(J.flags&2048){if(me===0)break e;Le=0;do je=we[m+Le++],J.head&&je&&J.length<65536&&(J.head.name+=String.fromCharCode(je));while(je&&Le<me);if(J.flags&512&&(J.check=u(J.check,we,Le,m)),me-=Le,m+=Le,je)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=z;case z:if(J.flags&4096){if(me===0)break e;Le=0;do je=we[m+Le++],J.head&&je&&J.length<65536&&(J.head.comment+=String.fromCharCode(je));while(je&&Le<me);if(J.flags&512&&(J.check=u(J.check,we,Le,m)),me-=Le,m+=Le,je)break e}else J.head&&(J.head.comment=null);J.mode=k;case k:if(J.flags&512){for(;be<16;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(oe!==(J.check&65535)){he.msg="header crc mismatch",J.mode=G;break}oe=0,be=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),he.adler=J.check=0,J.mode=W;break;case O:for(;be<32;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}he.adler=J.check=X(oe),oe=0,be=0,J.mode=D;case D:if(J.havedict===0)return he.next_out=ue,he.avail_out=B,he.next_in=m,he.avail_in=me,J.hold=oe,J.bits=be,r;he.adler=J.check=1,J.mode=W;case W:if(ge===s||ge===f)break e;case q:if(J.last){oe>>>=be&7,be-=be&7,J.mode=V;break}for(;be<3;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}switch(J.last=oe&1,oe>>>=1,be-=1,oe&3){case 0:J.mode=te;break;case 1:if(Be(J),J.mode=re,ge===f){oe>>>=2,be-=2;break e}break;case 2:J.mode=Y;break;case 3:he.msg="invalid block type",J.mode=G}oe>>>=2,be-=2;break;case te:for(oe>>>=be&7,be-=be&7;be<32;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if((oe&65535)!==(oe>>>16^65535)){he.msg="invalid stored block lengths",J.mode=G;break}if(J.length=oe&65535,oe=0,be=0,J.mode=K,ge===f)break e;case K:J.mode=F;case F:if(Le=J.length,Le){if(Le>me&&(Le=me),Le>B&&(Le=B),Le===0)break e;E.arraySet(ke,we,m,Le,ue),me-=Le,m+=Le,B-=Le,ue+=Le,J.length-=Le;break}J.mode=W;break;case Y:for(;be<14;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(J.nlen=(oe&31)+257,oe>>>=5,be-=5,J.ndist=(oe&31)+1,oe>>>=5,be-=5,J.ncode=(oe&15)+4,oe>>>=4,be-=4,J.nlen>286||J.ndist>30){he.msg="too many length or distance symbols",J.mode=G;break}J.have=0,J.mode=j;case j:for(;J.have<J.ncode;){for(;be<3;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}J.lens[$e[J.have++]]=oe&7,oe>>>=3,be-=3}for(;J.have<19;)J.lens[$e[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,Ke={bits:J.lenbits},Ve=l(a,J.lens,0,19,J.lencode,0,J.work,Ke),J.lenbits=Ke.bits,Ve){he.msg="invalid code lengths set",J.mode=G;break}J.have=0,J.mode=Q;case Q:for(;J.have<J.nlen+J.ndist;){for(;Ue=J.lencode[oe&(1<<J.lenbits)-1],ze=Ue>>>24,Ge=Ue>>>16&255,He=Ue&65535,!(ze<=be);){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(He<16)oe>>>=ze,be-=ze,J.lens[J.have++]=He;else{if(He===16){for(Qe=ze+2;be<Qe;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(oe>>>=ze,be-=ze,J.have===0){he.msg="invalid bit length repeat",J.mode=G;break}je=J.lens[J.have-1],Le=3+(oe&3),oe>>>=2,be-=2}else if(He===17){for(Qe=ze+3;be<Qe;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}oe>>>=ze,be-=ze,je=0,Le=3+(oe&7),oe>>>=3,be-=3}else{for(Qe=ze+7;be<Qe;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}oe>>>=ze,be-=ze,je=0,Le=11+(oe&127),oe>>>=7,be-=7}if(J.have+Le>J.nlen+J.ndist){he.msg="invalid bit length repeat",J.mode=G;break}for(;Le--;)J.lens[J.have++]=je}}if(J.mode===G)break;if(J.lens[256]===0){he.msg="invalid code -- missing end-of-block",J.mode=G;break}if(J.lenbits=9,Ke={bits:J.lenbits},Ve=l(i,J.lens,0,J.nlen,J.lencode,0,J.work,Ke),J.lenbits=Ke.bits,Ve){he.msg="invalid literal/lengths set",J.mode=G;break}if(J.distbits=6,J.distcode=J.distdyn,Ke={bits:J.distbits},Ve=l(t,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,Ke),J.distbits=Ke.bits,Ve){he.msg="invalid distances set",J.mode=G;break}if(J.mode=re,ge===f)break e;case re:J.mode=se;case se:if(me>=6&&B>=258){he.next_out=ue,he.avail_out=B,he.next_in=m,he.avail_in=me,J.hold=oe,J.bits=be,p(he,Ae),ue=he.next_out,ke=he.output,B=he.avail_out,m=he.next_in,we=he.input,me=he.avail_in,oe=J.hold,be=J.bits,J.mode===W&&(J.back=-1);break}for(J.back=0;Ue=J.lencode[oe&(1<<J.lenbits)-1],ze=Ue>>>24,Ge=Ue>>>16&255,He=Ue&65535,!(ze<=be);){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(Ge&&(Ge&240)===0){for(Xe=ze,Je=Ge,qe=He;Ue=J.lencode[qe+((oe&(1<<Xe+Je)-1)>>Xe)],ze=Ue>>>24,Ge=Ue>>>16&255,He=Ue&65535,!(Xe+ze<=be);){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}oe>>>=Xe,be-=Xe,J.back+=Xe}if(oe>>>=ze,be-=ze,J.back+=ze,J.length=He,Ge===0){J.mode=ie;break}if(Ge&32){J.back=-1,J.mode=W;break}if(Ge&64){he.msg="invalid literal/length code",J.mode=G;break}J.extra=Ge&15,J.mode=le;case le:if(J.extra){for(Qe=J.extra;be<Qe;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}J.length+=oe&(1<<J.extra)-1,oe>>>=J.extra,be-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=fe;case fe:for(;Ue=J.distcode[oe&(1<<J.distbits)-1],ze=Ue>>>24,Ge=Ue>>>16&255,He=Ue&65535,!(ze<=be);){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if((Ge&240)===0){for(Xe=ze,Je=Ge,qe=He;Ue=J.distcode[qe+((oe&(1<<Xe+Je)-1)>>Xe)],ze=Ue>>>24,Ge=Ue>>>16&255,He=Ue&65535,!(Xe+ze<=be);){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}oe>>>=Xe,be-=Xe,J.back+=Xe}if(oe>>>=ze,be-=ze,J.back+=ze,Ge&64){he.msg="invalid distance code",J.mode=G;break}J.offset=He,J.extra=Ge&15,J.mode=ve;case ve:if(J.extra){for(Qe=J.extra;be<Qe;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}J.offset+=oe&(1<<J.extra)-1,oe>>>=J.extra,be-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){he.msg="invalid distance too far back",J.mode=G;break}J.mode=ne;case ne:if(B===0)break e;if(Le=Ae-B,J.offset>Le){if(Le=J.offset-Le,Le>J.whave&&J.sane){he.msg="invalid distance too far back",J.mode=G;break}Le>J.wnext?(Le-=J.wnext,De=J.wsize-Le):De=J.wnext-Le,Le>J.length&&(Le=J.length),Ye=J.window}else Ye=ke,De=ue-J.offset,Le=J.length;Le>B&&(Le=B),B-=Le,J.length-=Le;do ke[ue++]=Ye[De++];while(--Le);J.length===0&&(J.mode=se);break;case ie:if(B===0)break e;ke[ue++]=J.length,B--,J.mode=se;break;case V:if(J.wrap){for(;be<32;){if(me===0)break e;me--,oe|=we[m++]<<be,be+=8}if(Ae-=B,he.total_out+=Ae,J.total+=Ae,Ae&&(he.adler=J.check=J.flags?u(J.check,ke,Ae,ue-Ae):g(J.check,ke,Ae,ue-Ae)),Ae=B,(J.flags?oe:X(oe))!==J.check){he.msg="incorrect data check",J.mode=G;break}oe=0,be=0}J.mode=ee;case ee:if(J.wrap&&J.flags){for(;be<32;){if(me===0)break e;me--,oe+=we[m++]<<be,be+=8}if(oe!==(J.total&4294967295)){he.msg="incorrect length check",J.mode=G;break}oe=0,be=0}J.mode=$;case $:Ve=o;break e;case G:Ve=c;break e;case I:return d;case P:default:return h}return he.next_out=ue,he.avail_out=B,he.next_in=m,he.avail_in=me,J.hold=oe,J.bits=be,(J.wsize||Ae!==he.avail_out&&J.mode<G&&(J.mode<V||ge!==e))&&Oe(he,he.output,he.next_out,Ae-he.avail_out),Te-=he.avail_in,Ae-=he.avail_out,he.total_in+=Te,he.total_out+=Ae,J.total+=Ae,J.wrap&&Ae&&(he.adler=J.check=J.flags?u(J.check,ke,Ae,he.next_out-Ae):g(J.check,ke,Ae,he.next_out-Ae)),he.data_type=J.bits+(J.last?64:0)+(J.mode===W?128:0)+(J.mode===re||J.mode===K?256:0),(Te===0&&Ae===0||ge===e)&&Ve===n&&(Ve=v),Ve}function ce(he){if(!he||!he.state)return h;var ge=he.state;return ge.window&&(ge.window=null),he.state=null,n}function de(he,ge){var J;return!he||!he.state||(J=he.state,(J.wrap&2)===0)?h:(J.head=ge,ge.done=!1,n)}function ye(he,ge){var J=ge.length,we,ke,m;return!he||!he.state||(we=he.state,we.wrap!==0&&we.mode!==D)?h:we.mode===D&&(ke=1,ke=g(ke,ge,J,0),ke!==we.check)?c:(m=Oe(he,ge,J,J),m?(we.mode=I,d):(we.havedict=1,n))}w.inflateReset=_e,w.inflateReset2=Ee,w.inflateResetKeep=pe,w.inflateInit=Re,w.inflateInit2=Pe,w.inflate=N,w.inflateEnd=ce,w.inflateGetHeader=de,w.inflateSetDictionary=ye,w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(M,H,w){var E=M("../utils/common"),g=15,u=852,p=592,l=0,a=1,i=2,t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];H.exports=function(o,r,h,c,d,v,_,b){var y=b.bits,S=0,R=0,L=0,T=0,x=0,z=0,k=0,O=0,D=0,W=0,q,te,K,F,Y,j=null,Q=0,re,se=new E.Buf16(g+1),le=new E.Buf16(g+1),fe=null,ve=0,ne,ie,V;for(S=0;S<=g;S++)se[S]=0;for(R=0;R<c;R++)se[r[h+R]]++;for(x=y,T=g;T>=1&&se[T]===0;T--);if(x>T&&(x=T),T===0)return d[v++]=1<<24|64<<16|0,d[v++]=1<<24|64<<16|0,b.bits=1,0;for(L=1;L<T&&se[L]===0;L++);for(x<L&&(x=L),O=1,S=1;S<=g;S++)if(O<<=1,O-=se[S],O<0)return-1;if(O>0&&(o===l||T!==1))return-1;for(le[1]=0,S=1;S<g;S++)le[S+1]=le[S]+se[S];for(R=0;R<c;R++)r[h+R]!==0&&(_[le[r[h+R]]++]=R);if(o===l?(j=fe=_,re=19):o===a?(j=t,Q-=257,fe=e,ve-=257,re=256):(j=s,fe=f,re=-1),W=0,R=0,S=L,Y=v,z=x,k=0,K=-1,D=1<<x,F=D-1,o===a&&D>u||o===i&&D>p)return 1;for(;;){ne=S-k,_[R]<re?(ie=0,V=_[R]):_[R]>re?(ie=fe[ve+_[R]],V=j[Q+_[R]]):(ie=96,V=0),q=1<<S-k,te=1<<z,L=te;do te-=q,d[Y+(W>>k)+te]=ne<<24|ie<<16|V|0;while(te!==0);for(q=1<<S-1;W&q;)q>>=1;if(q!==0?(W&=q-1,W+=q):W=0,R++,--se[S]===0){if(S===T)break;S=r[h+_[R]]}if(S>x&&(W&F)!==K){for(k===0&&(k=x),Y+=L,z=S-k,O=1<<z;z+k<T&&(O-=se[z+k],!(O<=0));)z++,O<<=1;if(D+=1<<z,o===a&&D>u||o===i&&D>p)return 1;K=W&F,d[K]=x<<24|z<<16|Y-v|0}}return W!==0&&(d[Y+W]=S-k<<24|64<<16|0),b.bits=x,0}},{"../utils/common":36}],44:[function(M,H,w){H.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(M,H,w){var E=M("../utils/common"),g=4,u=0,p=1,l=2;function a(N){for(var ce=N.length;--ce>=0;)N[ce]=0}var i=0,t=1,e=2,s=3,f=258,n=29,o=256,r=o+1+n,h=30,c=19,d=2*r+1,v=15,_=16,b=7,y=256,S=16,R=17,L=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,D=new Array((r+2)*2);a(D);var W=new Array(h*2);a(W);var q=new Array(O);a(q);var te=new Array(f-s+1);a(te);var K=new Array(n);a(K);var F=new Array(h);a(F);function Y(N,ce,de,ye,he){this.static_tree=N,this.extra_bits=ce,this.extra_base=de,this.elems=ye,this.max_length=he,this.has_stree=N&&N.length}var j,Q,re;function se(N,ce){this.dyn_tree=N,this.max_code=0,this.stat_desc=ce}function le(N){return N<256?q[N]:q[256+(N>>>7)]}function fe(N,ce){N.pending_buf[N.pending++]=ce&255,N.pending_buf[N.pending++]=ce>>>8&255}function ve(N,ce,de){N.bi_valid>_-de?(N.bi_buf|=ce<<N.bi_valid&65535,fe(N,N.bi_buf),N.bi_buf=ce>>_-N.bi_valid,N.bi_valid+=de-_):(N.bi_buf|=ce<<N.bi_valid&65535,N.bi_valid+=de)}function ne(N,ce,de){ve(N,de[ce*2],de[ce*2+1])}function ie(N,ce){var de=0;do de|=N&1,N>>>=1,de<<=1;while(--ce>0);return de>>>1}function V(N){N.bi_valid===16?(fe(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function ee(N,ce){var de=ce.dyn_tree,ye=ce.max_code,he=ce.stat_desc.static_tree,ge=ce.stat_desc.has_stree,J=ce.stat_desc.extra_bits,we=ce.stat_desc.extra_base,ke=ce.stat_desc.max_length,m,ue,me,B,oe,be,Te=0;for(B=0;B<=v;B++)N.bl_count[B]=0;for(de[N.heap[N.heap_max]*2+1]=0,m=N.heap_max+1;m<d;m++)ue=N.heap[m],B=de[de[ue*2+1]*2+1]+1,B>ke&&(B=ke,Te++),de[ue*2+1]=B,!(ue>ye)&&(N.bl_count[B]++,oe=0,ue>=we&&(oe=J[ue-we]),be=de[ue*2],N.opt_len+=be*(B+oe),ge&&(N.static_len+=be*(he[ue*2+1]+oe)));if(Te!==0){do{for(B=ke-1;N.bl_count[B]===0;)B--;N.bl_count[B]--,N.bl_count[B+1]+=2,N.bl_count[ke]--,Te-=2}while(Te>0);for(B=ke;B!==0;B--)for(ue=N.bl_count[B];ue!==0;)me=N.heap[--m],!(me>ye)&&(de[me*2+1]!==B&&(N.opt_len+=(B-de[me*2+1])*de[me*2],de[me*2+1]=B),ue--)}}function $(N,ce,de){var ye=new Array(v+1),he=0,ge,J;for(ge=1;ge<=v;ge++)ye[ge]=he=he+de[ge-1]<<1;for(J=0;J<=ce;J++){var we=N[J*2+1];we!==0&&(N[J*2]=ie(ye[we]++,we))}}function G(){var N,ce,de,ye,he,ge=new Array(v+1);for(de=0,ye=0;ye<n-1;ye++)for(K[ye]=de,N=0;N<1<<T[ye];N++)te[de++]=ye;for(te[de-1]=ye,he=0,ye=0;ye<16;ye++)for(F[ye]=he,N=0;N<1<<x[ye];N++)q[he++]=ye;for(he>>=7;ye<h;ye++)for(F[ye]=he<<7,N=0;N<1<<x[ye]-7;N++)q[256+he++]=ye;for(ce=0;ce<=v;ce++)ge[ce]=0;for(N=0;N<=143;)D[N*2+1]=8,N++,ge[8]++;for(;N<=255;)D[N*2+1]=9,N++,ge[9]++;for(;N<=279;)D[N*2+1]=7,N++,ge[7]++;for(;N<=287;)D[N*2+1]=8,N++,ge[8]++;for($(D,r+1,ge),N=0;N<h;N++)W[N*2+1]=5,W[N*2]=ie(N,5);j=new Y(D,T,o+1,r,v),Q=new Y(W,x,0,h,v),re=new Y(new Array(0),z,0,c,b)}function I(N){var ce;for(ce=0;ce<r;ce++)N.dyn_ltree[ce*2]=0;for(ce=0;ce<h;ce++)N.dyn_dtree[ce*2]=0;for(ce=0;ce<c;ce++)N.bl_tree[ce*2]=0;N.dyn_ltree[y*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function P(N){N.bi_valid>8?fe(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Z(N,ce,de,ye){P(N),fe(N,de),fe(N,~de),E.arraySet(N.pending_buf,N.window,ce,de,N.pending),N.pending+=de}function U(N,ce,de,ye){var he=ce*2,ge=de*2;return N[he]<N[ge]||N[he]===N[ge]&&ye[ce]<=ye[de]}function C(N,ce,de){for(var ye=N.heap[de],he=de<<1;he<=N.heap_len&&(he<N.heap_len&&U(ce,N.heap[he+1],N.heap[he],N.depth)&&he++,!U(ce,ye,N.heap[he],N.depth));)N.heap[de]=N.heap[he],de=he,he<<=1;N.heap[de]=ye}function A(N,ce,de){var ye,he,ge=0,J,we;if(N.last_lit!==0)do ye=N.pending_buf[N.d_buf+ge*2]<<8|N.pending_buf[N.d_buf+ge*2+1],he=N.pending_buf[N.l_buf+ge],ge++,ye===0?ne(N,he,ce):(J=te[he],ne(N,J+o+1,ce),we=T[J],we!==0&&(he-=K[J],ve(N,he,we)),ye--,J=le(ye),ne(N,J,de),we=x[J],we!==0&&(ye-=F[J],ve(N,ye,we)));while(ge<N.last_lit);ne(N,y,ce)}function X(N,ce){var de=ce.dyn_tree,ye=ce.stat_desc.static_tree,he=ce.stat_desc.has_stree,ge=ce.stat_desc.elems,J,we,ke=-1,m;for(N.heap_len=0,N.heap_max=d,J=0;J<ge;J++)de[J*2]!==0?(N.heap[++N.heap_len]=ke=J,N.depth[J]=0):de[J*2+1]=0;for(;N.heap_len<2;)m=N.heap[++N.heap_len]=ke<2?++ke:0,de[m*2]=1,N.depth[m]=0,N.opt_len--,he&&(N.static_len-=ye[m*2+1]);for(ce.max_code=ke,J=N.heap_len>>1;J>=1;J--)C(N,de,J);m=ge;do J=N.heap[1],N.heap[1]=N.heap[N.heap_len--],C(N,de,1),we=N.heap[1],N.heap[--N.heap_max]=J,N.heap[--N.heap_max]=we,de[m*2]=de[J*2]+de[we*2],N.depth[m]=(N.depth[J]>=N.depth[we]?N.depth[J]:N.depth[we])+1,de[J*2+1]=de[we*2+1]=m,N.heap[1]=m++,C(N,de,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],ee(N,ce),$(de,ke,N.bl_count)}function ae(N,ce,de){var ye,he=-1,ge,J=ce[1],we=0,ke=7,m=4;for(J===0&&(ke=138,m=3),ce[(de+1)*2+1]=65535,ye=0;ye<=de;ye++)ge=J,J=ce[(ye+1)*2+1],!(++we<ke&&ge===J)&&(we<m?N.bl_tree[ge*2]+=we:ge!==0?(ge!==he&&N.bl_tree[ge*2]++,N.bl_tree[S*2]++):we<=10?N.bl_tree[R*2]++:N.bl_tree[L*2]++,we=0,he=ge,J===0?(ke=138,m=3):ge===J?(ke=6,m=3):(ke=7,m=4))}function pe(N,ce,de){var ye,he=-1,ge,J=ce[1],we=0,ke=7,m=4;for(J===0&&(ke=138,m=3),ye=0;ye<=de;ye++)if(ge=J,J=ce[(ye+1)*2+1],!(++we<ke&&ge===J)){if(we<m)do ne(N,ge,N.bl_tree);while(--we!==0);else ge!==0?(ge!==he&&(ne(N,ge,N.bl_tree),we--),ne(N,S,N.bl_tree),ve(N,we-3,2)):we<=10?(ne(N,R,N.bl_tree),ve(N,we-3,3)):(ne(N,L,N.bl_tree),ve(N,we-11,7));we=0,he=ge,J===0?(ke=138,m=3):ge===J?(ke=6,m=3):(ke=7,m=4)}}function _e(N){var ce;for(ae(N,N.dyn_ltree,N.l_desc.max_code),ae(N,N.dyn_dtree,N.d_desc.max_code),X(N,N.bl_desc),ce=c-1;ce>=3&&N.bl_tree[k[ce]*2+1]===0;ce--);return N.opt_len+=3*(ce+1)+5+5+4,ce}function Ee(N,ce,de,ye){var he;for(ve(N,ce-257,5),ve(N,de-1,5),ve(N,ye-4,4),he=0;he<ye;he++)ve(N,N.bl_tree[k[he]*2+1],3);pe(N,N.dyn_ltree,ce-1),pe(N,N.dyn_dtree,de-1)}function Pe(N){var ce=4093624447,de;for(de=0;de<=31;de++,ce>>>=1)if(ce&1&&N.dyn_ltree[de*2]!==0)return u;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return p;for(de=32;de<o;de++)if(N.dyn_ltree[de*2]!==0)return p;return u}var Re=!1;function Ce(N){Re||(G(),Re=!0),N.l_desc=new se(N.dyn_ltree,j),N.d_desc=new se(N.dyn_dtree,Q),N.bl_desc=new se(N.bl_tree,re),N.bi_buf=0,N.bi_valid=0,I(N)}function Me(N,ce,de,ye){ve(N,(i<<1)+(ye?1:0),3),Z(N,ce,de)}function Se(N){ve(N,t<<1,3),ne(N,y,D),V(N)}function Be(N,ce,de,ye){var he,ge,J=0;N.level>0?(N.strm.data_type===l&&(N.strm.data_type=Pe(N)),X(N,N.l_desc),X(N,N.d_desc),J=_e(N),he=N.opt_len+3+7>>>3,ge=N.static_len+3+7>>>3,ge<=he&&(he=ge)):he=ge=de+5,de+4<=he&&ce!==-1?Me(N,ce,de,ye):N.strategy===g||ge===he?(ve(N,(t<<1)+(ye?1:0),3),A(N,D,W)):(ve(N,(e<<1)+(ye?1:0),3),Ee(N,N.l_desc.max_code+1,N.d_desc.max_code+1,J+1),A(N,N.dyn_ltree,N.dyn_dtree)),I(N),ye&&P(N)}function Oe(N,ce,de){return N.pending_buf[N.d_buf+N.last_lit*2]=ce>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=ce&255,N.pending_buf[N.l_buf+N.last_lit]=de&255,N.last_lit++,ce===0?N.dyn_ltree[de*2]++:(N.matches++,ce--,N.dyn_ltree[(te[de]+o+1)*2]++,N.dyn_dtree[le(ce)*2]++),N.last_lit===N.lit_bufsize-1}w._tr_init=Ce,w._tr_stored_block=Me,w._tr_flush_block=Be,w._tr_tally=Oe,w._tr_align=Se},{"../utils/common":36}],46:[function(M,H,w){function E(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}H.exports=E},{}],47:[function(M,H,w){arguments[4][33][0].apply(w,arguments)},{dup:33}],48:[function(M,H,w){(function(t){var g=M("base64-js"),u=M("ieee754"),p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.Buffer=t,w.SlowBuffer=v,w.INSPECT_MAX_BYTES=50;var l=2147483647;w.kMaxLength=l,t.TYPED_ARRAY_SUPPORT=a(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var U=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(U,C),U.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}});function i(U){if(U>l)throw new RangeError('The value "'+U+'" is invalid for option "size"');var C=new Uint8Array(U);return Object.setPrototypeOf(C,t.prototype),C}function t(U,C,A){if(typeof U=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return n(U)}return e(U,C,A)}typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192;function e(U,C,A){if(typeof U=="string")return o(U,C);if(ArrayBuffer.isView(U))return r(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(I(U,ArrayBuffer)||U&&I(U.buffer,ArrayBuffer))return h(U,C,A);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=U.valueOf&&U.valueOf();if(X!=null&&X!==U)return t.from(X,C,A);var ae=c(U);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return t.from(U[Symbol.toPrimitive]("string"),C,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}t.from=function(U,C,A){return e(U,C,A)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array);function s(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function f(U,C,A){return s(U),U<=0?i(U):C!==void 0?typeof A=="string"?i(U).fill(C,A):i(U).fill(C):i(U)}t.alloc=function(U,C,A){return f(U,C,A)};function n(U){return s(U),i(U<0?0:d(U)|0)}t.allocUnsafe=function(U){return n(U)},t.allocUnsafeSlow=function(U){return n(U)};function o(U,C){if((typeof C!="string"||C==="")&&(C="utf8"),!t.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var A=_(U,C)|0,X=i(A),ae=X.write(U,C);return ae!==A&&(X=X.slice(0,ae)),X}function r(U){for(var C=U.length<0?0:d(U.length)|0,A=i(C),X=0;X<C;X+=1)A[X]=U[X]&255;return A}function h(U,C,A){if(C<0||U.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<C+(A||0))throw new RangeError('"length" is outside of buffer bounds');var X;return C===void 0&&A===void 0?X=new Uint8Array(U):A===void 0?X=new Uint8Array(U,C):X=new Uint8Array(U,C,A),Object.setPrototypeOf(X,t.prototype),X}function c(U){if(t.isBuffer(U)){var C=d(U.length)|0,A=i(C);return A.length===0||U.copy(A,0,0,C),A}if(U.length!==void 0)return typeof U.length!="number"||P(U.length)?i(0):r(U);if(U.type==="Buffer"&&Array.isArray(U.data))return r(U.data)}function d(U){if(U>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return U|0}function v(U){return+U!=U&&(U=0),t.alloc(+U)}t.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==t.prototype},t.compare=function(C,A){if(I(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),I(A,Uint8Array)&&(A=t.from(A,A.offset,A.byteLength)),!t.isBuffer(C)||!t.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===A)return 0;for(var X=C.length,ae=A.length,pe=0,_e=Math.min(X,ae);pe<_e;++pe)if(C[pe]!==A[pe]){X=C[pe],ae=A[pe];break}return X<ae?-1:ae<X?1:0},t.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(C,A){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return t.alloc(0);var X;if(A===void 0)for(A=0,X=0;X<C.length;++X)A+=C[X].length;var ae=t.allocUnsafe(A),pe=0;for(X=0;X<C.length;++X){var _e=C[X];if(I(_e,Uint8Array)&&(_e=t.from(_e)),!t.isBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(ae,pe),pe+=_e.length}return ae};function _(U,C){if(t.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||I(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var A=U.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&A===0)return 0;for(var ae=!1;;)switch(C){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return ie(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return $(U).length;default:if(ae)return X?-1:ie(U).length;C=(""+C).toLowerCase(),ae=!0}}t.byteLength=_;function b(U,C,A){var X=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,C>>>=0,A<=C))return"";for(U||(U="utf8");;)switch(U){case"hex":return Y(this,C,A);case"utf8":case"utf-8":return W(this,C,A);case"ascii":return K(this,C,A);case"latin1":case"binary":return F(this,C,A);case"base64":return D(this,C,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,C,A);default:if(X)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),X=!0}}t.prototype._isBuffer=!0;function y(U,C,A){var X=U[C];U[C]=U[A],U[A]=X}t.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<C;A+=2)y(this,A,A+1);return this},t.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<C;A+=4)y(this,A,A+3),y(this,A+1,A+2);return this},t.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<C;A+=8)y(this,A,A+7),y(this,A+1,A+6),y(this,A+2,A+5),y(this,A+3,A+4);return this},t.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?W(this,0,C):b.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(C){if(!t.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:t.compare(this,C)===0},t.prototype.inspect=function(){var C="",A=w.INSPECT_MAX_BYTES;return C=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(C+=" ... "),"<Buffer "+C+">"},p&&(t.prototype[p]=t.prototype.inspect),t.prototype.compare=function(C,A,X,ae,pe){if(I(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),!t.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(A===void 0&&(A=0),X===void 0&&(X=C?C.length:0),ae===void 0&&(ae=0),pe===void 0&&(pe=this.length),A<0||X>C.length||ae<0||pe>this.length)throw new RangeError("out of range index");if(ae>=pe&&A>=X)return 0;if(ae>=pe)return-1;if(A>=X)return 1;if(A>>>=0,X>>>=0,ae>>>=0,pe>>>=0,this===C)return 0;for(var _e=pe-ae,Ee=X-A,Pe=Math.min(_e,Ee),Re=this.slice(ae,pe),Ce=C.slice(A,X),Me=0;Me<Pe;++Me)if(Re[Me]!==Ce[Me]){_e=Re[Me],Ee=Ce[Me];break}return _e<Ee?-1:Ee<_e?1:0};function S(U,C,A,X,ae){if(U.length===0)return-1;if(typeof A=="string"?(X=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,P(A)&&(A=ae?0:U.length-1),A<0&&(A=U.length+A),A>=U.length){if(ae)return-1;A=U.length-1}else if(A<0)if(ae)A=0;else return-1;if(typeof C=="string"&&(C=t.from(C,X)),t.isBuffer(C))return C.length===0?-1:R(U,C,A,X,ae);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(U,C,A):Uint8Array.prototype.lastIndexOf.call(U,C,A):R(U,[C],A,X,ae);throw new TypeError("val must be string, number or Buffer")}function R(U,C,A,X,ae){var pe=1,_e=U.length,Ee=C.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(U.length<2||C.length<2)return-1;pe=2,_e/=2,Ee/=2,A/=2}function Pe(Be,Oe){return pe===1?Be[Oe]:Be.readUInt16BE(Oe*pe)}var Re;if(ae){var Ce=-1;for(Re=A;Re<_e;Re++)if(Pe(U,Re)===Pe(C,Ce===-1?0:Re-Ce)){if(Ce===-1&&(Ce=Re),Re-Ce+1===Ee)return Ce*pe}else Ce!==-1&&(Re-=Re-Ce),Ce=-1}else for(A+Ee>_e&&(A=_e-Ee),Re=A;Re>=0;Re--){for(var Me=!0,Se=0;Se<Ee;Se++)if(Pe(U,Re+Se)!==Pe(C,Se)){Me=!1;break}if(Me)return Re}return-1}t.prototype.includes=function(C,A,X){return this.indexOf(C,A,X)!==-1},t.prototype.indexOf=function(C,A,X){return S(this,C,A,X,!0)},t.prototype.lastIndexOf=function(C,A,X){return S(this,C,A,X,!1)};function L(U,C,A,X){A=Number(A)||0;var ae=U.length-A;X?(X=Number(X),X>ae&&(X=ae)):X=ae;var pe=C.length;X>pe/2&&(X=pe/2);for(var _e=0;_e<X;++_e){var Ee=parseInt(C.substr(_e*2,2),16);if(P(Ee))return _e;U[A+_e]=Ee}return _e}function T(U,C,A,X){return G(ie(C,U.length-A),U,A,X)}function x(U,C,A,X){return G(V(C),U,A,X)}function z(U,C,A,X){return x(U,C,A,X)}function k(U,C,A,X){return G($(C),U,A,X)}function O(U,C,A,X){return G(ee(C,U.length-A),U,A,X)}t.prototype.write=function(C,A,X,ae){if(A===void 0)ae="utf8",X=this.length,A=0;else if(X===void 0&&typeof A=="string")ae=A,X=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(X)?(X=X>>>0,ae===void 0&&(ae="utf8")):(ae=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var pe=this.length-A;if((X===void 0||X>pe)&&(X=pe),C.length>0&&(X<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var _e=!1;;)switch(ae){case"hex":return L(this,C,A,X);case"utf8":case"utf-8":return T(this,C,A,X);case"ascii":return x(this,C,A,X);case"latin1":case"binary":return z(this,C,A,X);case"base64":return k(this,C,A,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,C,A,X);default:if(_e)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),_e=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(U,C,A){return C===0&&A===U.length?g.fromByteArray(U):g.fromByteArray(U.slice(C,A))}function W(U,C,A){A=Math.min(U.length,A);for(var X=[],ae=C;ae<A;){var pe=U[ae],_e=null,Ee=pe>239?4:pe>223?3:pe>191?2:1;if(ae+Ee<=A){var Pe,Re,Ce,Me;switch(Ee){case 1:pe<128&&(_e=pe);break;case 2:Pe=U[ae+1],(Pe&192)===128&&(Me=(pe&31)<<6|Pe&63,Me>127&&(_e=Me));break;case 3:Pe=U[ae+1],Re=U[ae+2],(Pe&192)===128&&(Re&192)===128&&(Me=(pe&15)<<12|(Pe&63)<<6|Re&63,Me>2047&&(Me<55296||Me>57343)&&(_e=Me));break;case 4:Pe=U[ae+1],Re=U[ae+2],Ce=U[ae+3],(Pe&192)===128&&(Re&192)===128&&(Ce&192)===128&&(Me=(pe&15)<<18|(Pe&63)<<12|(Re&63)<<6|Ce&63,Me>65535&&Me<1114112&&(_e=Me))}}_e===null?(_e=65533,Ee=1):_e>65535&&(_e-=65536,X.push(_e>>>10&1023|55296),_e=56320|_e&1023),X.push(_e),ae+=Ee}return te(X)}var q=4096;function te(U){var C=U.length;if(C<=q)return String.fromCharCode.apply(String,U);for(var A="",X=0;X<C;)A+=String.fromCharCode.apply(String,U.slice(X,X+=q));return A}function K(U,C,A){var X="";A=Math.min(U.length,A);for(var ae=C;ae<A;++ae)X+=String.fromCharCode(U[ae]&127);return X}function F(U,C,A){var X="";A=Math.min(U.length,A);for(var ae=C;ae<A;++ae)X+=String.fromCharCode(U[ae]);return X}function Y(U,C,A){var X=U.length;(!C||C<0)&&(C=0),(!A||A<0||A>X)&&(A=X);for(var ae="",pe=C;pe<A;++pe)ae+=Z[U[pe]];return ae}function j(U,C,A){for(var X=U.slice(C,A),ae="",pe=0;pe<X.length;pe+=2)ae+=String.fromCharCode(X[pe]+X[pe+1]*256);return ae}t.prototype.slice=function(C,A){var X=this.length;C=~~C,A=A===void 0?X:~~A,C<0?(C+=X,C<0&&(C=0)):C>X&&(C=X),A<0?(A+=X,A<0&&(A=0)):A>X&&(A=X),A<C&&(A=C);var ae=this.subarray(C,A);return Object.setPrototypeOf(ae,t.prototype),ae};function Q(U,C,A){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+C>A)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUIntLE=function(C,A,X){C=C>>>0,A=A>>>0,X||Q(C,A,this.length);for(var ae=this[C],pe=1,_e=0;++_e<A&&(pe*=256);)ae+=this[C+_e]*pe;return ae},t.prototype.readUIntBE=function(C,A,X){C=C>>>0,A=A>>>0,X||Q(C,A,this.length);for(var ae=this[C+--A],pe=1;A>0&&(pe*=256);)ae+=this[C+--A]*pe;return ae},t.prototype.readUInt8=function(C,A){return C=C>>>0,A||Q(C,1,this.length),this[C]},t.prototype.readUInt16LE=function(C,A){return C=C>>>0,A||Q(C,2,this.length),this[C]|this[C+1]<<8},t.prototype.readUInt16BE=function(C,A){return C=C>>>0,A||Q(C,2,this.length),this[C]<<8|this[C+1]},t.prototype.readUInt32LE=function(C,A){return C=C>>>0,A||Q(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},t.prototype.readUInt32BE=function(C,A){return C=C>>>0,A||Q(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},t.prototype.readIntLE=function(C,A,X){C=C>>>0,A=A>>>0,X||Q(C,A,this.length);for(var ae=this[C],pe=1,_e=0;++_e<A&&(pe*=256);)ae+=this[C+_e]*pe;return pe*=128,ae>=pe&&(ae-=Math.pow(2,8*A)),ae},t.prototype.readIntBE=function(C,A,X){C=C>>>0,A=A>>>0,X||Q(C,A,this.length);for(var ae=A,pe=1,_e=this[C+--ae];ae>0&&(pe*=256);)_e+=this[C+--ae]*pe;return pe*=128,_e>=pe&&(_e-=Math.pow(2,8*A)),_e},t.prototype.readInt8=function(C,A){return C=C>>>0,A||Q(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},t.prototype.readInt16LE=function(C,A){C=C>>>0,A||Q(C,2,this.length);var X=this[C]|this[C+1]<<8;return X&32768?X|4294901760:X},t.prototype.readInt16BE=function(C,A){C=C>>>0,A||Q(C,2,this.length);var X=this[C+1]|this[C]<<8;return X&32768?X|4294901760:X},t.prototype.readInt32LE=function(C,A){return C=C>>>0,A||Q(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},t.prototype.readInt32BE=function(C,A){return C=C>>>0,A||Q(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},t.prototype.readFloatLE=function(C,A){return C=C>>>0,A||Q(C,4,this.length),u.read(this,C,!0,23,4)},t.prototype.readFloatBE=function(C,A){return C=C>>>0,A||Q(C,4,this.length),u.read(this,C,!1,23,4)},t.prototype.readDoubleLE=function(C,A){return C=C>>>0,A||Q(C,8,this.length),u.read(this,C,!0,52,8)},t.prototype.readDoubleBE=function(C,A){return C=C>>>0,A||Q(C,8,this.length),u.read(this,C,!1,52,8)};function re(U,C,A,X,ae,pe){if(!t.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>ae||C<pe)throw new RangeError('"value" argument is out of bounds');if(A+X>U.length)throw new RangeError("Index out of range")}t.prototype.writeUIntLE=function(C,A,X,ae){if(C=+C,A=A>>>0,X=X>>>0,!ae){var pe=Math.pow(2,8*X)-1;re(this,C,A,X,pe,0)}var _e=1,Ee=0;for(this[A]=C&255;++Ee<X&&(_e*=256);)this[A+Ee]=C/_e&255;return A+X},t.prototype.writeUIntBE=function(C,A,X,ae){if(C=+C,A=A>>>0,X=X>>>0,!ae){var pe=Math.pow(2,8*X)-1;re(this,C,A,X,pe,0)}var _e=X-1,Ee=1;for(this[A+_e]=C&255;--_e>=0&&(Ee*=256);)this[A+_e]=C/Ee&255;return A+X},t.prototype.writeUInt8=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,1,255,0),this[A]=C&255,A+1},t.prototype.writeUInt16LE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,2,65535,0),this[A]=C&255,this[A+1]=C>>>8,A+2},t.prototype.writeUInt16BE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,2,65535,0),this[A]=C>>>8,this[A+1]=C&255,A+2},t.prototype.writeUInt32LE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,4,4294967295,0),this[A+3]=C>>>24,this[A+2]=C>>>16,this[A+1]=C>>>8,this[A]=C&255,A+4},t.prototype.writeUInt32BE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,4,4294967295,0),this[A]=C>>>24,this[A+1]=C>>>16,this[A+2]=C>>>8,this[A+3]=C&255,A+4},t.prototype.writeIntLE=function(C,A,X,ae){if(C=+C,A=A>>>0,!ae){var pe=Math.pow(2,8*X-1);re(this,C,A,X,pe-1,-pe)}var _e=0,Ee=1,Pe=0;for(this[A]=C&255;++_e<X&&(Ee*=256);)C<0&&Pe===0&&this[A+_e-1]!==0&&(Pe=1),this[A+_e]=(C/Ee>>0)-Pe&255;return A+X},t.prototype.writeIntBE=function(C,A,X,ae){if(C=+C,A=A>>>0,!ae){var pe=Math.pow(2,8*X-1);re(this,C,A,X,pe-1,-pe)}var _e=X-1,Ee=1,Pe=0;for(this[A+_e]=C&255;--_e>=0&&(Ee*=256);)C<0&&Pe===0&&this[A+_e+1]!==0&&(Pe=1),this[A+_e]=(C/Ee>>0)-Pe&255;return A+X},t.prototype.writeInt8=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,1,127,-128),C<0&&(C=255+C+1),this[A]=C&255,A+1},t.prototype.writeInt16LE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,2,32767,-32768),this[A]=C&255,this[A+1]=C>>>8,A+2},t.prototype.writeInt16BE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,2,32767,-32768),this[A]=C>>>8,this[A+1]=C&255,A+2},t.prototype.writeInt32LE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,4,2147483647,-2147483648),this[A]=C&255,this[A+1]=C>>>8,this[A+2]=C>>>16,this[A+3]=C>>>24,A+4},t.prototype.writeInt32BE=function(C,A,X){return C=+C,A=A>>>0,X||re(this,C,A,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[A]=C>>>24,this[A+1]=C>>>16,this[A+2]=C>>>8,this[A+3]=C&255,A+4};function se(U,C,A,X,ae,pe){if(A+X>U.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function le(U,C,A,X,ae){return C=+C,A=A>>>0,ae||se(U,C,A,4),u.write(U,C,A,X,23,4),A+4}t.prototype.writeFloatLE=function(C,A,X){return le(this,C,A,!0,X)},t.prototype.writeFloatBE=function(C,A,X){return le(this,C,A,!1,X)};function fe(U,C,A,X,ae){return C=+C,A=A>>>0,ae||se(U,C,A,8),u.write(U,C,A,X,52,8),A+8}t.prototype.writeDoubleLE=function(C,A,X){return fe(this,C,A,!0,X)},t.prototype.writeDoubleBE=function(C,A,X){return fe(this,C,A,!1,X)},t.prototype.copy=function(C,A,X,ae){if(!t.isBuffer(C))throw new TypeError("argument should be a Buffer");if(X||(X=0),!ae&&ae!==0&&(ae=this.length),A>=C.length&&(A=C.length),A||(A=0),ae>0&&ae<X&&(ae=X),ae===X||C.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),C.length-A<ae-X&&(ae=C.length-A+X);var pe=ae-X;if(this===C&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,X,ae);else if(this===C&&X<A&&A<ae)for(var _e=pe-1;_e>=0;--_e)C[_e+A]=this[_e+X];else Uint8Array.prototype.set.call(C,this.subarray(X,ae),A);return pe},t.prototype.fill=function(C,A,X,ae){if(typeof C=="string"){if(typeof A=="string"?(ae=A,A=0,X=this.length):typeof X=="string"&&(ae=X,X=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!t.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(C.length===1){var pe=C.charCodeAt(0);(ae==="utf8"&&pe<128||ae==="latin1")&&(C=pe)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(A<0||this.length<A||this.length<X)throw new RangeError("Out of range index");if(X<=A)return this;A=A>>>0,X=X===void 0?this.length:X>>>0,C||(C=0);var _e;if(typeof C=="number")for(_e=A;_e<X;++_e)this[_e]=C;else{var Ee=t.isBuffer(C)?C:t.from(C,ae),Pe=Ee.length;if(Pe===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(_e=0;_e<X-A;++_e)this[_e+A]=Ee[_e%Pe]}return this};var ve=/[^+/0-9A-Za-z-_]/g;function ne(U){if(U=U.split("=")[0],U=U.trim().replace(ve,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function ie(U,C){C=C||1/0;for(var A,X=U.length,ae=null,pe=[],_e=0;_e<X;++_e){if(A=U.charCodeAt(_e),A>55295&&A<57344){if(!ae){if(A>56319){(C-=3)>-1&&pe.push(239,191,189);continue}else if(_e+1===X){(C-=3)>-1&&pe.push(239,191,189);continue}ae=A;continue}if(A<56320){(C-=3)>-1&&pe.push(239,191,189),ae=A;continue}A=(ae-55296<<10|A-56320)+65536}else ae&&(C-=3)>-1&&pe.push(239,191,189);if(ae=null,A<128){if((C-=1)<0)break;pe.push(A)}else if(A<2048){if((C-=2)<0)break;pe.push(A>>6|192,A&63|128)}else if(A<65536){if((C-=3)<0)break;pe.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((C-=4)<0)break;pe.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return pe}function V(U){for(var C=[],A=0;A<U.length;++A)C.push(U.charCodeAt(A)&255);return C}function ee(U,C){for(var A,X,ae,pe=[],_e=0;_e<U.length&&!((C-=2)<0);++_e)A=U.charCodeAt(_e),X=A>>8,ae=A%256,pe.push(ae),pe.push(X);return pe}function $(U){return g.toByteArray(ne(U))}function G(U,C,A,X){for(var ae=0;ae<X&&!(ae+A>=C.length||ae>=U.length);++ae)C[ae+A]=U[ae];return ae}function I(U,C){return U instanceof C||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===C.name}function P(U){return U!==U}var Z=(function(){for(var U="0123456789abcdef",C=new Array(256),A=0;A<16;++A)for(var X=A*16,ae=0;ae<16;++ae)C[X+ae]=U[A]+U[ae];return C})()}).call(this,M("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(M,H,w){var E=M("buffer").Buffer;H.exports=function(g,u){if(E.isBuffer(g)&&E.isBuffer(u)){if(typeof g.equals=="function")return g.equals(u);if(g.length!==u.length)return!1;for(var p=0;p<g.length;p++)if(g[p]!==u[p])return!1;return!0}}},{buffer:48}],50:[function(M,H,w){H.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(M,H,w){(function(E){function g(d){return Array.isArray?Array.isArray(d):c(d)==="[object Array]"}w.isArray=g;function u(d){return typeof d=="boolean"}w.isBoolean=u;function p(d){return d===null}w.isNull=p;function l(d){return d==null}w.isNullOrUndefined=l;function a(d){return typeof d=="number"}w.isNumber=a;function i(d){return typeof d=="string"}w.isString=i;function t(d){return typeof d=="symbol"}w.isSymbol=t;function e(d){return d===void 0}w.isUndefined=e;function s(d){return c(d)==="[object RegExp]"}w.isRegExp=s;function f(d){return typeof d=="object"&&d!==null}w.isObject=f;function n(d){return c(d)==="[object Date]"}w.isDate=n;function o(d){return c(d)==="[object Error]"||d instanceof Error}w.isError=o;function r(d){return typeof d=="function"}w.isFunction=r;function h(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||typeof d>"u"}w.isPrimitive=h,w.isBuffer=E.isBuffer;function c(d){return Object.prototype.toString.call(d)}}).call(this,{isBuffer:M("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(M,H,w){var E=Object.create||S,g=Object.keys||R,u=Function.prototype.bind||L;function p(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=E(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}H.exports=p,p.EventEmitter=p,p.prototype._events=void 0,p.prototype._maxListeners=void 0;var l=10,a;try{var i={};Object.defineProperty&&Object.defineProperty(i,"x",{value:0}),a=i.x===0}catch{a=!1}a?Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(T){if(typeof T!="number"||T<0||T!==T)throw new TypeError('"defaultMaxListeners" must be a positive number');l=T}}):p.defaultMaxListeners=l,p.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||isNaN(x))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=x,this};function t(T){return T._maxListeners===void 0?p.defaultMaxListeners:T._maxListeners}p.prototype.getMaxListeners=function(){return t(this)};function e(T,x,z){if(x)T.call(z);else for(var k=T.length,O=b(T,k),D=0;D<k;++D)O[D].call(z)}function s(T,x,z,k){if(x)T.call(z,k);else for(var O=T.length,D=b(T,O),W=0;W<O;++W)D[W].call(z,k)}function f(T,x,z,k,O){if(x)T.call(z,k,O);else for(var D=T.length,W=b(T,D),q=0;q<D;++q)W[q].call(z,k,O)}function n(T,x,z,k,O,D){if(x)T.call(z,k,O,D);else for(var W=T.length,q=b(T,W),te=0;te<W;++te)q[te].call(z,k,O,D)}function o(T,x,z,k){if(x)T.apply(z,k);else for(var O=T.length,D=b(T,O),W=0;W<O;++W)D[W].apply(z,k)}p.prototype.emit=function(x){var z,k,O,D,W,q,te=x==="error";if(q=this._events,q)te=te&&q.error==null;else if(!te)return!1;if(te){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var K=new Error('Unhandled "error" event. ('+z+")");throw K.context=z,K}if(k=q[x],!k)return!1;var F=typeof k=="function";switch(O=arguments.length,O){case 1:e(k,F,this);break;case 2:s(k,F,this,arguments[1]);break;case 3:f(k,F,this,arguments[1],arguments[2]);break;case 4:n(k,F,this,arguments[1],arguments[2],arguments[3]);break;default:for(D=new Array(O-1),W=1;W<O;W++)D[W-1]=arguments[W];o(k,F,this,D)}return!0};function r(T,x,z,k){var O,D,W;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(D=T._events,D?(D.newListener&&(T.emit("newListener",x,z.listener?z.listener:z),D=T._events),W=D[x]):(D=T._events=E(null),T._eventsCount=0),!W)W=D[x]=z,++T._eventsCount;else if(typeof W=="function"?W=D[x]=k?[z,W]:[W,z]:k?W.unshift(z):W.push(z),!W.warned&&(O=t(T),O&&O>0&&W.length>O)){W.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+W.length+' "'+String(x)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');q.name="MaxListenersExceededWarning",q.emitter=T,q.type=x,q.count=W.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",q.name,q.message)}return T}p.prototype.addListener=function(x,z){return r(this,x,z,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(x,z){return r(this,x,z,!0)};function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var T=new Array(arguments.length),x=0;x<T.length;++x)T[x]=arguments[x];this.listener.apply(this.target,T)}}function c(T,x,z){var k={fired:!1,wrapFn:void 0,target:T,type:x,listener:z},O=u.call(h,k);return O.listener=z,k.wrapFn=O,O}p.prototype.once=function(x,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.on(x,c(this,x,z)),this},p.prototype.prependOnceListener=function(x,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(x,c(this,x,z)),this},p.prototype.removeListener=function(x,z){var k,O,D,W,q;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(O=this._events,!O)return this;if(k=O[x],!k)return this;if(k===z||k.listener===z)--this._eventsCount===0?this._events=E(null):(delete O[x],O.removeListener&&this.emit("removeListener",x,k.listener||z));else if(typeof k!="function"){for(D=-1,W=k.length-1;W>=0;W--)if(k[W]===z||k[W].listener===z){q=k[W].listener,D=W;break}if(D<0)return this;D===0?k.shift():_(k,D),k.length===1&&(O[x]=k[0]),O.removeListener&&this.emit("removeListener",x,q||z)}return this},p.prototype.removeAllListeners=function(x){var z,k,O;if(k=this._events,!k)return this;if(!k.removeListener)return arguments.length===0?(this._events=E(null),this._eventsCount=0):k[x]&&(--this._eventsCount===0?this._events=E(null):delete k[x]),this;if(arguments.length===0){var D=g(k),W;for(O=0;O<D.length;++O)W=D[O],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=E(null),this._eventsCount=0,this}if(z=k[x],typeof z=="function")this.removeListener(x,z);else if(z)for(O=z.length-1;O>=0;O--)this.removeListener(x,z[O]);return this};function d(T,x,z){var k=T._events;if(!k)return[];var O=k[x];return O?typeof O=="function"?z?[O.listener||O]:[O]:z?y(O):b(O,O.length):[]}p.prototype.listeners=function(x){return d(this,x,!0)},p.prototype.rawListeners=function(x){return d(this,x,!1)},p.listenerCount=function(T,x){return typeof T.listenerCount=="function"?T.listenerCount(x):v.call(T,x)},p.prototype.listenerCount=v;function v(T){var x=this._events;if(x){var z=x[T];if(typeof z=="function")return 1;if(z)return z.length}return 0}p.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function _(T,x){for(var z=x,k=z+1,O=T.length;k<O;z+=1,k+=1)T[z]=T[k];T.pop()}function b(T,x){for(var z=new Array(x),k=0;k<x;++k)z[k]=T[k];return z}function y(T){for(var x=new Array(T.length),z=0;z<x.length;++z)x[z]=T[z].listener||T[z];return x}function S(T){var x=function(){};return x.prototype=T,new x}function R(T){for(var x in T)Object.prototype.hasOwnProperty.call(T,x);return x}function L(T){var x=this;return function(){return x.apply(T,arguments)}}},{}],53:[function(M,H,w){var E=M("./lib/parser");function g(){return(0,eval)("this")}H.exports={create:function(u,p){if(p=p||g(),u instanceof p.ArrayBuffer){var l=M("./lib/dom-bufferstream");return new E(new l(u,0,u.byteLength,!0,p))}else{var a=M("./lib/bufferstream");return new E(new a(u,0,u.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(M,H,w){function E(g,u,p,l){this.buffer=g,this.offset=u||0,p=typeof p=="number"?p:g.length,this.endPosition=this.offset+p,this.setBigEndian(l)}E.prototype={setBigEndian:function(g){this.bigEndian=!!g},nextUInt8:function(){var g=this.buffer.readUInt8(this.offset);return this.offset+=1,g},nextInt8:function(){var g=this.buffer.readInt8(this.offset);return this.offset+=1,g},nextUInt16:function(){var g=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,g},nextUInt32:function(){var g=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,g},nextInt16:function(){var g=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,g},nextInt32:function(){var g=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,g},nextFloat:function(){var g=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,g},nextDouble:function(){var g=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,g},nextBuffer:function(g){var u=this.buffer.slice(this.offset,this.offset+g);return this.offset+=g,u},remainingLength:function(){return this.endPosition-this.offset},nextString:function(g){var u=this.buffer.toString("utf8",this.offset,this.offset+g);return this.offset+=g,u},mark:function(){var g=this;return{openWithOffset:function(u){return u=(u||0)+this.offset,new E(g.buffer,u,g.endPosition-u,g.bigEndian)},offset:this.offset}},offsetFrom:function(g){return this.offset-g.offset},skip:function(g){this.offset+=g},branch:function(g,u){return u=typeof u=="number"?u:this.endPosition-(this.offset+g),new E(this.buffer,this.offset+g,u,this.bigEndian)}},H.exports=E},{}],55:[function(M,H,w){function E(t){return parseInt(t,10)}var g=3600,u=60;function p(t,e){t=t.map(E),e=e.map(E);var s=t[0],f=t[1]-1,n=t[2],o=e[0],r=e[1],h=e[2],c=Date.UTC(s,f,n,o,r,h,0),d=c/1e3;return d}function l(t){var e=t.substr(0,10).split("-"),s=t.substr(11,8).split(":"),f=t.substr(19,6),n=f.split(":").map(E),o=n[0]*g+n[1]*u,r=p(e,s);if(r-=o,typeof r=="number"&&!isNaN(r))return r}function a(t){var e=t.split(" "),s=e[0].split(":"),f=e[1].split(":"),n=p(s,f);if(typeof n=="number"&&!isNaN(n))return n}function i(t){var e=t.length===19&&t.charAt(4)===":",s=t.length===25&&t.charAt(10)==="T";if(s)return l(t);if(e)return a(t)}H.exports={parseDateWithSpecFormat:a,parseDateWithTimezoneFormat:l,parseExifDate:i}},{}],56:[function(M,H,w){function E(g,u,p,l,a,i){this.global=a,u=u||0,p=p||g.byteLength-u,this.arrayBuffer=g.slice(u,u+p),this.view=new a.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(l),this.offset=0,this.parentOffset=(i||0)+u}E.prototype={setBigEndian:function(g){this.littleEndian=!g},nextUInt8:function(){var g=this.view.getUint8(this.offset);return this.offset+=1,g},nextInt8:function(){var g=this.view.getInt8(this.offset);return this.offset+=1,g},nextUInt16:function(){var g=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,g},nextUInt32:function(){var g=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,g},nextInt16:function(){var g=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,g},nextInt32:function(){var g=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,g},nextFloat:function(){var g=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,g},nextDouble:function(){var g=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,g},nextBuffer:function(g){var u=this.arrayBuffer.slice(this.offset,this.offset+g);return this.offset+=g,u},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(g){var u=this.arrayBuffer.slice(this.offset,this.offset+g);return u=String.fromCharCode.apply(null,new this.global.Uint8Array(u)),this.offset+=g,u},mark:function(){var g=this;return{openWithOffset:function(u){return u=(u||0)+this.offset,new E(g.arrayBuffer,u,g.arrayBuffer.byteLength-u,!g.littleEndian,g.global,g.parentOffset)},offset:this.offset,getParentOffset:function(){return g.parentOffset}}},offsetFrom:function(g){return this.parentOffset+this.offset-(g.offset+g.getParentOffset())},skip:function(g){this.offset+=g},branch:function(g,u){return u=typeof u=="number"?u:this.arrayBuffer.byteLength-(this.offset+g),new E(this.arrayBuffer,this.offset+g,u,!this.littleEndian,this.global,this.parentOffset)}},H.exports=E},{}],57:[function(M,H,w){H.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(M,H,w){function E(a,i){switch(a){case 1:return i.nextUInt8();case 3:return i.nextUInt16();case 4:return i.nextUInt32();case 5:return[i.nextUInt32(),i.nextUInt32()];case 6:return i.nextInt8();case 8:return i.nextUInt16();case 9:return i.nextUInt32();case 10:return[i.nextInt32(),i.nextInt32()];case 11:return i.nextFloat();case 12:return i.nextDouble();default:throw new Error("Invalid format while decoding: "+a)}}function g(a){switch(a){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function u(a,i){var t=i.nextUInt16(),e=i.nextUInt16(),s=g(e),f=i.nextUInt32(),n=s*f,o,r;if(n>4&&(i=a.openWithOffset(i.nextUInt32())),e===2){o=i.nextString(f);var h=o.indexOf("\0");h!==-1&&(o=o.substr(0,h))}else if(e===7)o=i.nextBuffer(f);else if(e!==0)for(o=[],r=0;r<f;++r)o.push(E(e,i));return n<4&&i.skip(4-n),[t,o,e]}function p(a,i,t){var e=i.nextUInt16(),s,f;for(f=0;f<e;++f)s=u(a,i),t(s[0],s[1],s[2])}function l(a){var i=a.nextString(6);if(i!=="Exif\0\0")throw new Error("Invalid EXIF header");var t=a.mark(),e=a.nextUInt16();if(e===18761)a.setBigEndian(!1);else if(e===19789)a.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(a.nextUInt16()!==42)throw new Error("Invalid TIFF data");return t}H.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(a,i){var t;try{t=l(a)}catch{return!1}var e,s,f,n=t.openWithOffset(a.nextUInt32()),o=this.IFD0;p(t,n,function(b,y,S){switch(b){case 34853:s=y[0];break;case 34665:e=y[0];break;default:i(o,b,y,S);break}});var r=n.nextUInt32();if(r!==0){var h=t.openWithOffset(r);p(t,h,i.bind(null,this.IFD1))}if(s){var c=t.openWithOffset(s);p(t,c,i.bind(null,this.GPSIFD))}if(e){var d=t.openWithOffset(e),v=this.InteropIFD;p(t,d,function(b,y,S){b===40965?f=y[0]:i(v,b,y,S)})}if(f){var _=t.openWithOffset(f);p(t,_,i.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(M,H,w){H.exports={parseSections:function(E,g){var u,p;for(E.setBigEndian(!0);E.remainingLength()>0&&p!==218;){if(E.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");p=E.nextUInt8(),p>=208&&p<=217||p===218?u=0:u=E.nextUInt16()-2,g(p,E.branch(0,u)),E.skip(u)}},getSizeFromSOFSection:function(E){return E.skip(1),{height:E.nextUInt16(),width:E.nextUInt16()}},getSectionName:function(E){var g,u;switch(E){case 216:g="SOI";break;case 196:g="DHT";break;case 219:g="DQT";break;case 221:g="DRI";break;case 218:g="SOS";break;case 254:g="COM";break;case 217:g="EOI";break;default:E>=224&&E<=239?(g="APP",u=E-224):E>=192&&E<=207&&E!==196&&E!==200&&E!==204?(g="SOF",u=E-192):E>=208&&E<=215&&(g="RST",u=E-208);break}var p={name:g};return typeof u=="number"&&(p.index=u),p}}},{}],60:[function(M,H,w){var E=M("./jpeg"),g=M("./exif"),u=M("./simplify");function p(a,i,t,e,s,f,n){this.startMarker=a,this.tags=i,this.imageSize=t,this.thumbnailOffset=e,this.thumbnailLength=s,this.thumbnailType=f,this.app1Offset=n}p.prototype={hasThumbnail:function(a){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof a!="string"?!0:a.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:a.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var a=this._getThumbnailStream(),i;return E.parseSections(a,function(t,e){E.getSectionName(t).name==="SOF"&&(i=E.getSizeFromSOFSection(e))}),i}};function l(a){this.stream=a,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}l.prototype={enableBinaryFields:function(a){return this.flags.readBinaryTags=!!a,this},enablePointers:function(a){return this.flags.hidePointers=!a,this},enableTagNames:function(a){return this.flags.resolveTagNames=!!a,this},enableImageSize:function(a){return this.flags.imageSize=!!a,this},enableReturnTags:function(a){return this.flags.returnTags=!!a,this},enableSimpleValues:function(a){return this.flags.simplifyValues=!!a,this},parse:function(){var a=this.stream.mark(),i=a.openWithOffset(0),t=this.flags,e,s,f,n,o,r,h,c,d;return t.resolveTagNames&&(h=M("./exif-tags")),t.resolveTagNames?(e={},c=function(v){return e[v.name]},d=function(v,_){e[v.name]=_}):(e=[],c=function(v){var _;for(_=0;_<e.length;++_)if(e[_].type===v.type&&e[_].section===v.section)return e.value},d=function(v,_){var b;for(b=0;b<e.length;++b)if(e[b].type===v.type&&e[b].section===v.section){e.value=_;return}}),E.parseSections(i,function(v,_){var b,y=_.offsetFrom(a);v===225?(b=g.parseTags(_,function(S,R,L,T){if(!(!t.readBinaryTags&&T===7)){if(R===513){if(f=L[0],t.hidePointers)return}else if(R===514){if(n=L[0],t.hidePointers)return}else if(R===259&&(o=L[0],t.hidePointers))return;if(t.returnTags)if(t.simplifyValues&&(L=u.simplifyValue(L,T)),t.resolveTagNames){var x=S===g.GPSIFD?h.gps:h.exif,z=x[R];z||(z=h.exif[R]),e.hasOwnProperty(z)||(e[z]=L)}else e.push({section:S,type:R,value:L})}}),b&&(r=y)):t.imageSize&&E.getSectionName(v).name==="SOF"&&(s=E.getSizeFromSOFSection(_))}),t.simplifyValues&&(u.castDegreeValues(c,d),u.castDateValues(c,d)),new p(a,e,s,f,n,o,r)}},H.exports=l},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(M,H,w){var E=M("./exif"),g=M("./date"),u=[{section:E.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:E.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],p=[{section:E.SubIFD,type:306,name:"ModifyDate"},{section:E.SubIFD,type:36867,name:"DateTimeOriginal"},{section:E.SubIFD,type:36868,name:"CreateDate"},{section:E.SubIFD,type:306,name:"ModifyDate"}];H.exports={castDegreeValues:function(l,a){u.forEach(function(i){var t=l(i);if(t){var e=l({section:i.section,type:i.refType,name:i.refName}),s=e===i.posVal?1:-1,f=(t[0]+t[1]/60+t[2]/3600)*s;a(i,f)}})},castDateValues:function(l,a){p.forEach(function(i){var t=l(i);if(t){var e=g.parseExifDate(t);typeof e<"u"&&a(i,e)}})},simplifyValue:function(l,a){return Array.isArray(l)&&(l=l.map(function(i){return a===10||a===5?i[0]/i[1]:i}),l.length===1&&(l=l[0])),l}}},{"./date":55,"./exif":58}],62:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault"),g=E(M("@babel/runtime/helpers/toConsumableArray")),u=function(t){return(0,g.default)(t).map(function(e){return e.charCodeAt(0)})},p=u("META-INF/mozilla.rsa"),l=u("[Content_Types].xml"),a=u("_rels/.rels");H.exports=function(i){var t=i instanceof Uint8Array?i:new Uint8Array(i);if(!(t&&t.length>1))return null;var e=function(S,R){R=Object.assign({offset:0},R);for(var L=0;L<S.length;L++)if(R.mask){if(S[L]!==(R.mask[L]&t[L+R.offset]))return!1}else if(S[L]!==t[L+R.offset])return!1;return!0},s=function(S,R){return e(u(S),R)};if(e([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(e([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(e([71,73,70]))return{ext:"gif",mime:"image/gif"};if(e([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(e([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((e([73,73,42,0])||e([77,77,0,42]))&&e([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(e([73,73,42,0])||e([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(e([66,77]))return{ext:"bmp",mime:"image/bmp"};if(e([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(e([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(e([80,75,3,4])){if(e([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(e(p,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(s("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(s("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(s("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var f=function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return S.findIndex(function(L,T,x){return T>=R&&x[T]===80&&x[T+1]===75&&x[T+2]===3&&x[T+3]===4})},n=0,o=!1,r=null;do{var h=n+30;if(o||(o=e(l,{offset:h})||e(a,{offset:h})),r||(s("word/",{offset:h})?r={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:s("ppt/",{offset:h})?r={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:s("xl/",{offset:h})&&(r={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o&&r)return r;n=f(t,h)}while(n>=0);if(r)return r}if(e([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(e([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(e([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(e([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(e([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(e([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(e([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(e([51,103,112,53])||e([0,0,0])&&e([102,116,121,112],{offset:4})&&(e([109,112,52,49],{offset:8})||e([109,112,52,50],{offset:8})||e([105,115,111,109],{offset:8})||e([105,115,111,50],{offset:8})||e([109,109,112,52],{offset:8})||e([77,52,86],{offset:8})||e([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(e([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(e([26,69,223,163])){var c=t.subarray(4,4100),d=c.findIndex(function(y,S,R){return R[S]===66&&R[S+1]===130});if(d!==-1){var v=d+3,_=function(S){return(0,g.default)(S).every(function(R,L){return c[v+L]===R.charCodeAt(0)})};if(_("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(_("webm"))return{ext:"webm",mime:"video/webm"}}}if(e([0,0,0,20,102,116,121,112,113,116,32,32])||e([102,114,101,101],{offset:4})||e([102,116,121,112,113,116,32,32],{offset:4})||e([109,100,97,116],{offset:4})||e([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(e([82,73,70,70])){if(e([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(e([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(e([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(e([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(e([0,0,1,186])||e([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(e([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var b=0;b<2&&b<t.length-16;b++){if(e([73,68,51],{offset:b})||e([255,226],{offset:b,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(e([255,228],{offset:b,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,248],{offset:b,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,240],{offset:b,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(e([102,116,121,112,77,52,65],{offset:4})||e([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(e([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(e([79,103,103,83]))return e([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:e([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:e([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:e([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:e([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(e([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(e([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(e([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(e([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(e([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(e([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((t[0]===67||t[0]===70)&&e([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(e([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(e([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(e([119,79,70,70])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(e([119,79,70,50])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(e([76,80],{offset:34})&&(e([0,0,1],{offset:8})||e([1,0,2],{offset:8})||e([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(e([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(e([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(e([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(e([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(e([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(e([37,33]))return{ext:"ps",mime:"application/postscript"};if(e([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(e([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(e([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(e([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(e([77,83,67,70])||e([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(e([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(e([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(e([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(e([31,160])||e([31,157]))return{ext:"Z",mime:"application/x-compress"};if(e([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(e([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(e([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(e([71],{offset:4})&&(e([71],{offset:192})||e([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(e([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(e([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(e([0,0,0,12,106,80,32,32,13,10,135,10])){if(e([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(e([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(e([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(e([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(e([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(s("<?xml "))return{ext:"xml",mime:"application/xml"};if(e([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(e([102,116,121,112],{offset:4})){if(e([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(e([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(e([104,101,105,99],{offset:8})||e([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(e([104,101,118,99],{offset:8})||e([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return e([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(M,H,w){var E=M("is-callable"),g=Object.prototype.toString,u=Object.prototype.hasOwnProperty,p=function(e,s,f){for(var n=0,o=e.length;n<o;n++)u.call(e,n)&&(f==null?s(e[n],n,e):s.call(f,e[n],n,e))},l=function(e,s,f){for(var n=0,o=e.length;n<o;n++)f==null?s(e.charAt(n),n,e):s.call(f,e.charAt(n),n,e)},a=function(e,s,f){for(var n in e)u.call(e,n)&&(f==null?s(e[n],n,e):s.call(f,e[n],n,e))},i=function(e,s,f){if(!E(s))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=f),g.call(e)==="[object Array]"?p(e,s,n):typeof e=="string"?l(e,s,n):a(e,s,n)};H.exports=i},{"is-callable":77}],64:[function(M,H,w){function E(l,a,i,s){var e=0,s=s===void 0?{}:s,f=s.loop===void 0?null:s.loop,n=s.palette===void 0?null:s.palette;if(a<=0||i<=0||a>65535||i>65535)throw new Error("Width/Height invalid.");function o(y){var S=y.length;if(S<2||S>256||S&S-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return S}l[e++]=71,l[e++]=73,l[e++]=70,l[e++]=56,l[e++]=57,l[e++]=97;var r=0,h=0;if(n!==null){for(var c=o(n);c>>=1;)++r;if(c=1<<r,--r,s.background!==void 0){if(h=s.background,h>=c)throw new Error("Background index out of range.");if(h===0)throw new Error("Background index explicitly passed as 0.")}}if(l[e++]=a&255,l[e++]=a>>8&255,l[e++]=i&255,l[e++]=i>>8&255,l[e++]=(n!==null?128:0)|r,l[e++]=h,l[e++]=0,n!==null)for(var d=0,v=n.length;d<v;++d){var _=n[d];l[e++]=_>>16&255,l[e++]=_>>8&255,l[e++]=_&255}if(f!==null){if(f<0||f>65535)throw new Error("Loop count invalid.");l[e++]=33,l[e++]=255,l[e++]=11,l[e++]=78,l[e++]=69,l[e++]=84,l[e++]=83,l[e++]=67,l[e++]=65,l[e++]=80,l[e++]=69,l[e++]=50,l[e++]=46,l[e++]=48,l[e++]=3,l[e++]=1,l[e++]=f&255,l[e++]=f>>8&255,l[e++]=0}var b=!1;this.addFrame=function(y,S,R,L,T,x){if(b===!0&&(--e,b=!1),x=x===void 0?{}:x,y<0||S<0||y>65535||S>65535)throw new Error("x/y invalid.");if(R<=0||L<=0||R>65535||L>65535)throw new Error("Width/Height invalid.");if(T.length<R*L)throw new Error("Not enough pixels for the frame size.");var z=!0,k=x.palette;if(k==null&&(z=!1,k=n),k==null)throw new Error("Must supply either a local or global palette.");for(var O=o(k),D=0;O>>=1;)++D;O=1<<D;var W=x.delay===void 0?0:x.delay,q=x.disposal===void 0?0:x.disposal;if(q<0||q>3)throw new Error("Disposal out of range.");var te=!1,K=0;if(x.transparent!==void 0&&x.transparent!==null&&(te=!0,K=x.transparent,K<0||K>=O))throw new Error("Transparent color index.");if((q!==0||te||W!==0)&&(l[e++]=33,l[e++]=249,l[e++]=4,l[e++]=q<<2|(te===!0?1:0),l[e++]=W&255,l[e++]=W>>8&255,l[e++]=K,l[e++]=0),l[e++]=44,l[e++]=y&255,l[e++]=y>>8&255,l[e++]=S&255,l[e++]=S>>8&255,l[e++]=R&255,l[e++]=R>>8&255,l[e++]=L&255,l[e++]=L>>8&255,l[e++]=z===!0?128|D-1:0,z===!0)for(var F=0,Y=k.length;F<Y;++F){var j=k[F];l[e++]=j>>16&255,l[e++]=j>>8&255,l[e++]=j&255}return e=g(l,e,D<2?2:D,T),e},this.end=function(){return b===!1&&(l[e++]=59,b=!0),e},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(y){l=y},this.getOutputBufferPosition=function(){return e},this.setOutputBufferPosition=function(y){e=y}}function g(l,a,i,t){l[a++]=i;var e=a++,s=1<<i,f=s-1,n=s+1,o=n+1,r=i+1,h=0,c=0;function d(x){for(;h>=x;)l[a++]=c&255,c>>=8,h-=8,a===e+256&&(l[e]=255,e=a++)}function v(x){c|=x<<h,h+=r,d(8)}var _=t[0]&f,b={};v(s);for(var y=1,S=t.length;y<S;++y){var R=t[y]&f,L=_<<8|R,T=b[L];if(T===void 0){for(c|=_<<h,h+=r;h>=8;)l[a++]=c&255,c>>=8,h-=8,a===e+256&&(l[e]=255,e=a++);o===4096?(v(s),o=n+1,r=i+1,b={}):(o>=1<<r&&++r,b[L]=o++),_=R}else _=T}return v(_),v(n),d(1),e+1===a?l[e]=0:(l[e]=a-e-1,l[a++]=0),a}function u(l){var a=0;if(l[a++]!==71||l[a++]!==73||l[a++]!==70||l[a++]!==56||(l[a++]+1&253)!==56||l[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=l[a++]|l[a++]<<8,t=l[a++]|l[a++]<<8,e=l[a++],s=e>>7,f=e&7,n=1<<f+1;l[a++],l[a++];var o=null,r=null;s&&(o=a,r=n,a+=n*3);var h=!0,c=[],d=0,v=null,_=0,b=null;for(this.width=i,this.height=t;h&&a<l.length;)switch(l[a++]){case 33:switch(l[a++]){case 255:if(l[a]!==11||l[a+1]==78&&l[a+2]==69&&l[a+3]==84&&l[a+4]==83&&l[a+5]==67&&l[a+6]==65&&l[a+7]==80&&l[a+8]==69&&l[a+9]==50&&l[a+10]==46&&l[a+11]==48&&l[a+12]==3&&l[a+13]==1&&l[a+16]==0)a+=14,b=l[a++]|l[a++]<<8,a++;else for(a+=12;;){var y=l[a++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;a+=y}break;case 249:if(l[a++]!==4||l[a+4]!==0)throw new Error("Invalid graphics extension block.");var S=l[a++];d=l[a++]|l[a++]<<8,v=l[a++],(S&1)===0&&(v=null),_=S>>2&7,a++;break;case 254:for(;;){var y=l[a++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;a+=y}break;default:throw new Error("Unknown graphic control label: 0x"+l[a-1].toString(16))}break;case 44:var R=l[a++]|l[a++]<<8,L=l[a++]|l[a++]<<8,T=l[a++]|l[a++]<<8,x=l[a++]|l[a++]<<8,z=l[a++],k=z>>7,O=z>>6&1,D=z&7,W=1<<D+1,q=o,te=r,K=!1;if(k){var K=!0;q=a,te=W,a+=W*3}var F=a;for(a++;;){var y=l[a++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;a+=y}c.push({x:R,y:L,width:T,height:x,has_local_palette:K,palette_offset:q,palette_size:te,data_offset:F,data_length:a-F,transparent_index:v,interlaced:!!O,delay:d,disposal:_});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+l[a-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return b},this.frameInfo=function(Y){if(Y<0||Y>=c.length)throw new Error("Frame index out of range.");return c[Y]},this.decodeAndBlitFrameBGRA=function(Y,j){var Q=this.frameInfo(Y),re=Q.width*Q.height,se=new Uint8Array(re);p(l,Q.data_offset,se,re);var le=Q.palette_offset,fe=Q.transparent_index;fe===null&&(fe=256);var ve=Q.width,ne=i-ve,ie=ve,V=(Q.y*i+Q.x)*4,ee=((Q.y+Q.height)*i+Q.x)*4,$=V,G=ne*4;Q.interlaced===!0&&(G+=i*4*7);for(var I=8,P=0,Z=se.length;P<Z;++P){var U=se[P];if(ie===0&&($+=G,ie=ve,$>=ee&&(G=ne*4+i*4*(I-1),$=V+(ve+ne)*(I<<1),I>>=1)),U===fe)$+=4;else{var C=l[le+U*3],A=l[le+U*3+1],X=l[le+U*3+2];j[$++]=X,j[$++]=A,j[$++]=C,j[$++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(Y,j){var Q=this.frameInfo(Y),re=Q.width*Q.height,se=new Uint8Array(re);p(l,Q.data_offset,se,re);var le=Q.palette_offset,fe=Q.transparent_index;fe===null&&(fe=256);var ve=Q.width,ne=i-ve,ie=ve,V=(Q.y*i+Q.x)*4,ee=((Q.y+Q.height)*i+Q.x)*4,$=V,G=ne*4;Q.interlaced===!0&&(G+=i*4*7);for(var I=8,P=0,Z=se.length;P<Z;++P){var U=se[P];if(ie===0&&($+=G,ie=ve,$>=ee&&(G=ne*4+i*4*(I-1),$=V+(ve+ne)*(I<<1),I>>=1)),U===fe)$+=4;else{var C=l[le+U*3],A=l[le+U*3+1],X=l[le+U*3+2];j[$++]=C,j[$++]=A,j[$++]=X,j[$++]=255}--ie}}}function p(l,a,i,t){for(var e=l[a++],s=1<<e,f=s+1,n=f+1,o=e+1,r=(1<<o)-1,h=0,c=0,d=0,v=l[a++],_=new Int32Array(4096),b=null;;){for(;h<16&&v!==0;)c|=l[a++]<<h,h+=8,v===1?v=l[a++]:--v;if(h<o)break;var y=c&r;if(c>>=o,h-=o,y===s){n=f+1,o=e+1,r=(1<<o)-1,b=null;continue}else if(y===f)break;for(var S=y<n?y:b,R=0,L=S;L>s;)L=_[L]>>8,++R;var T=L,x=d+R+(S!==y?1:0);if(x>t){console.log("Warning, gif stream longer than expected.");return}i[d++]=T,d+=R;var z=d;for(S!==y&&(i[d++]=T),L=S;R--;)L=_[L],i[--z]=L&255,L>>=8;b!==null&&n<4096&&(_[n++]=b<<8|T,n>=r+1&&o<12&&(++o,r=r<<1|1)),b=y}return d!==t&&console.log("Warning, gif stream shorter than expected."),i}try{w.GifWriter=E,w.GifReader=u}catch{}},{}],65:[function(M,H,w){(function(E){class g{constructor(...p){if(p.length===0)throw new Error("constructor requires parameters");const l=p[0];if(l!==null&&typeof l=="object")if(l instanceof g){const a=l.bitmap;this.bitmap={width:a.width,height:a.height,data:new E(a.width*a.height*4)},a.data.copy(this.bitmap.data)}else if(l.width&&l.height&&l.data)this.bitmap=l;else throw new Error("unrecognized constructor parameters");else if(typeof l=="number"&&typeof p[1]=="number"){const a=l,i=p[1],t=p[2];this.bitmap={width:a,height:i},E.isBuffer(t)?this.bitmap.data=t:(this.bitmap.data=new E(a*i*4),typeof t=="number"&&this.fillRGBA(t))}else throw new Error("unrecognized constructor parameters")}blit(p,l,a,i,t,e,s){if(i+e>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(l+e>p.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(t+s>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(a+s>p.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const f=this.bitmap.data,n=p.bitmap.data,o=this.bitmap.width*4,r=p.bitmap.width*4,h=e*4;let c=t*o+i*4,d=a*r+l*4;for(;--s>=0;)f.copy(n,d,c,c+h),c+=o,d+=r;return this}fillRGBA(p){const l=this.bitmap.data,a=this.bitmap.height*4;let i=0;for(;i<a;)l.writeUInt32BE(p,i),i+=4;for(;i<l.length;)l.copy(l,i,0,a),i+=a;return this}getRGBA(p,l){const a=(l*this.bitmap.width+p)*4;return this.bitmap.data.readUInt32BE(a)}getRGBASet(){const p=new Set,l=this.bitmap.data;for(let a=0;a<l.length;a+=4)p.add(l.readUInt32BE(a,!0));return p}greyscale(){const p=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(l,a,i)=>{const t=Math.round(.299*p[i]+.587*p[i+1]+.114*p[i+2]);p[i]=t,p[i+1]=t,p[i+2]=t}),this}reframe(p,l,a,i,t){const e=p<0?0:p,s=l<0?0:l,f=a+e>this.bitmap.width?this.bitmap.width-e:a,n=i+s>this.bitmap.height?this.bitmap.height-s:i,o=p<0?-p:0,r=l<0?-l:0;let h;if(t===void 0){if(e!==p||s!=l||f!==a||n!==i)throw new GifError("fillRGBA required for this reframing");h=new g(a,i)}else h=new g(a,i,t);return this.blit(h,o,r,e,s,f,n),this.bitmap=h.bitmap,this}scale(p){if(p===1)return;if(!Number.isInteger(p)||p<1)throw new Error("the scale must be an integer >= 1");const l=this.bitmap.width,a=this.bitmap.height,i=l*p*4,t=this.bitmap.data,e=new E(a*i*p);let s=0,f,n=0;for(let o=0;o<a;++o){f=n;for(let r=0;r<l;++r){const h=t.readUInt32BE(s,!0);for(let c=0;c<p;++c)e.writeUInt32BE(h,n),n+=4;s+=4}for(let r=1;r<p;++r)e.copy(e,n,f,n),n+=i,f+=i}return this.bitmap={width:l*p,height:a*p,data:e},this}scanAllCoords(p){const l=this.bitmap.width,a=this.bitmap.data.length;let i=0,t=0;for(let e=0;e<a;e+=4)p(i,t,e),++i===l&&(i=0,++t)}scanAllIndexes(p){const l=this.bitmap.data.length;for(let a=0;a<l;a+=4)p(a)}}H.exports=g}).call(this,M("buffer").Buffer)},{buffer:48}],66:[function(M,H,w){class E{constructor(p,l,a){this.width=a.width,this.height=a.height,this.loops=a.loops,this.usesTransparency=a.usesTransparency,this.colorScope=a.colorScope,this.frames=l,this.buffer=p}}E.GlobalColorsPreferred=0,E.GlobalColorsOnly=1,E.LocalColorsOnly=2;class g extends Error{constructor(p){super(p),p instanceof Error&&(this.stack="Gif"+p.stack)}}w.Gif=E,w.GifError=g},{}],67:[function(M,H,w){(function(E,g){const u=M("omggif"),{Gif:p,GifError:l}=M("./gif");let a;E.nextTick(()=>{a=M("./gifutil")});const{GifFrame:i}=M("./gifframe"),t=200,e=100;class s{constructor(y={}){this._transparentRGB=null,typeof y.transparentRGB=="number"&&y.transparentRGB!==0&&(this._transparentRGBA=y.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(y){try{let S;try{S=new u.GifReader(y)}catch(x){throw new l(x)}const R=S.numFrames(),L=[],T={width:S.width,height:S.height,loops:S.loopCount()};T.usesTransparency=!1;for(let x=0;x<R;++x){const z=this._decodeFrame(S,x,T.usesTransparency);L.push(z.frame),z.usesTransparency&&(T.usesTransparency=!0)}return Promise.resolve(new p(y,L,T))}catch(S){return Promise.reject(S)}}encodeGif(y,S={}){try{if(y===null||y.length===0)throw new l("there are no frames");const R=a.getMaxDimensions(y);return S=Object.assign({},S),S.width=R.maxWidth,S.height=R.maxHeight,S.loops=S.loops||0,S.colorScope=S.colorScope||p.GlobalColorsPreferred,Promise.resolve(this._encodeGif(y,S))}catch(R){return Promise.reject(R)}}_decodeFrame(y,S,R){let L,T;try{if(L=y.frameInfo(S),T=new g(y.width*y.height*4),y.decodeAndBlitFrameRGBA(S,T),L.width!==y.width||L.height!==y.height){if(L.y&&(T=T.slice(L.y*y.width*4)),y.width>L.width)for(let k=0;k<L.height;++k)T.copy(T,k*L.width*4,(L.x+k*y.width)*4,(L.x+k*y.width)*4+L.width*4);T=T.slice(0,L.width*L.height*4)}}catch(k){throw new l(k)}let x=!1;if(this._transparentRGBA===null){if(!R)for(let k=3;k<T.length;k+=4)T[k]===0&&(x=!0,k=T.length)}else for(let k=3;k<T.length;k+=4)T[k]===0&&(T.writeUInt32BE(this._transparentRGBA,k-3),x=!0);return{frame:new i(L.width,L.height,T,{xOffset:L.x,yOffset:L.y,disposalMethod:L.disposal,interlaced:L.interlaced,delayCentisecs:L.delay}),usesTransparency:x}}_encodeGif(y,S){let R;if(S.colorScope===p.LocalColorsOnly)R=a.getColorInfo(y,0);else if(R=a.getColorInfo(y,256),!R.colors){if(S.colorScope===p.GlobalColorsOnly)throw new l("Too many color indexes for global color table");S.colorScope=p.LocalColorsOnly}S.usesTransparency=R.usesTransparency;const L=R.palettes;return S.colorScope===p.LocalColorsOnly?r(y,S,2e3,L):o(y,S,2e3,R)}_getSizeEstimateGlobal(y,S){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let R=t+3*256;const L=v(y);return S.forEach(T=>{R+=c(T,L)}),R}_getSizeEstimateLocal(y,S){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let R=t;for(let L=0;L<S.length;++L){const T=y[L],x=v(T);R+=c(S[L],x)}return R}}w.GifCodec=s;function f(b,y){const S=b.indexOf(y);return S===-1?null:S}function n(b,y){for(var S=0,R=b.length-1,L;S<=R;)if(L=Math.floor((S+R)/2),b[L]>y)R=L-1;else if(b[L]<y)S=L+1;else return L;return null}function o(b,y,S,R){const L={colors:R.colors.slice(),usesTransparency:R.usesTransparency};h(L);const T={palette:L.colors,loop:y.loops};let x=new g(S),z;try{z=new u.GifWriter(x,y.width,y.height,T)}catch(k){throw new l(k)}for(let k=0;k<b.length;++k)x=_(z,k,b[k],R,!1);return new p(x.slice(0,z.end()),b,y)}function r(b,y,S,R){const L={loop:y.loops};let T=new g(S),x;try{x=new u.GifWriter(T,y.width,y.height,L)}catch(z){throw new l(z)}for(let z=0;z<b.length;++z)T=_(x,z,b[z],R[z],!0);return new p(T.slice(0,x.end()),b,y)}function h(b){const y=b.colors;b.usesTransparency&&y.push(0);const S=y.length;let R=2;for(;S>R;)R<<=1;y.length=R,y.fill(0,S)}function c(b,y){let S=b.bitmap.width*b.bitmap.height;return S=Math.ceil(S*y/8),S+=Math.ceil(S/255),e+S+3*256}function d(b,y,S){const R=S.colors,L=R.length<=8?f:n,T=y.bitmap.data,x=new g(T.length/4);let z=R.length,k=0,O=0;for(;k<T.length;){if(T[k+3]!==0){const D=T.readUInt32BE(k,!0)>>8&16777215;x[O]=L(R,D)}else x[O]=z;k+=4,++O}if(S.usesTransparency){if(z===256)throw new l(`Frame ${b} already has 256 colorsand so can't use transparency`)}else z=null;return{buffer:x,transparentIndex:z}}function v(b){let y=b.indexCount,S=0;for(--y;y;)++S,y>>=1;return S>0?S:1}function _(b,y,S,R,L){if(S.interlaced)throw new l("writing interlaced GIFs is not supported");const T=d(y,S,R),x={delay:S.delayCentisecs,disposal:S.disposalMethod,transparent:T.transparentIndex};L&&(h(R),x.palette=R.colors);try{let z=b.getOutputBuffer(),k=b.getOutputBufferPosition(),O,D=!0;for(;D;)if(O=b.addFrame(S.xOffset,S.yOffset,S.bitmap.width,S.bitmap.height,T.buffer,x),D=!1,O>=z.length-1){const W=new g(z.length*1.5);z.copy(W),b.setOutputBuffer(W),b.setOutputBufferPosition(k),z=W,D=!0}return z}catch(z){throw new l(z)}}}).call(this,M("_process"),M("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(M,H,w){const E=M("./bitmapimage"),{GifError:g}=M("./gif");class u extends E{constructor(...l){if(super(...l),l[0]instanceof u){const a=l[0];this.xOffset=a.xOffset,this.yOffset=a.yOffset,this.disposalMethod=a.disposalMethod,this.delayCentisecs=a.delayCentisecs,this.interlaced=a.interlaced}else{const a=l[l.length-1];let i={};typeof a=="object"&&!(a instanceof E)&&(i=a),this.xOffset=i.xOffset||0,this.yOffset=i.yOffset||0,this.disposalMethod=i.disposalMethod!==void 0?i.disposalMethod:u.DisposeToBackgroundColor,this.delayCentisecs=i.delayCentisecs||8,this.interlaced=i.interlaced||!1}}getPalette(){const l=new Set,a=this.bitmap.data;let i=0,t=!1;for(;i<a.length;){if(a[i+3]===0)t=!0;else{const n=a.readUInt32BE(i,!0)>>8&16777215;l.add(n)}i+=4}const e=new Array(l.size),s=l.values();for(i=0;i<e.length;++i)e[i]=s.next().value;e.sort((n,o)=>n-o);let f=e.length;return t&&++f,{colors:e,usesTransparency:t,indexCount:f}}}u.DisposeToAnything=0,u.DisposeNothing=1,u.DisposeToBackgroundColor=2,u.DisposeToPrevious=3,w.GifFrame=u},{"./bitmapimage":65,"./gif":66}],69:[function(M,H,w){(function(E){const g=M("fs"),u=M("image-q"),p=M("./bitmapimage"),{GifFrame:l}=M("./gifframe"),{GifError:a}=M("./gif"),{GifCodec:i}=M("./gifcodec"),t=[".jpg",".jpeg",".png",".bmp"],e=new i;w.cloneFrames=function(o){let r=[];return o.forEach(h=>{r.push(new l(h))}),r},w.getColorInfo=function(o,r){let h=!1;const c=[];for(let y=0;y<o.length;++y){let S=o[y].getPalette();if(S.usesTransparency&&(h=!0),S.indexCount>256)throw new a(`Frame ${y} uses more than 256 color indexes`);c.push(S)}if(r===0)return{usesTransparency:h,palettes:c};const d=new Set;c.forEach(y=>{y.colors.forEach(S=>{d.add(S)})});let v=d.size;if(h&&++v,r&&v>r)return{usesTransparency:h,palettes:c};const _=new Array(d.size),b=d.values();for(let y=0;y<_.length;++y)_[y]=b.next().value;return _.sort((y,S)=>y-S),{colors:_,indexCount:v,usesTransparency:h,palettes:c}},w.copyAsJimp=function(o,r){return w.shareAsJimp(o,new p(r))},w.getMaxDimensions=function(o){let r=0,h=0;return o.forEach(c=>{const d=c.xOffset+c.bitmap.width;d>r&&(r=d);const v=c.yOffset+c.bitmap.height;v>h&&(h=v)}),{maxWidth:r,maxHeight:h}},w.quantizeDekker=function(o,r,h){r=r||256,s(o,"NeuQuantFloat",r,0,h)},w.quantizeSorokin=function(o,r,h,c){r=r||256,h=h||"min-pop";let d;switch(h){case"min-pop":d=2;break;case"top-pop":d=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${h}'`)}s(o,"RGBQuant",r,d,c)},w.quantizeWu=function(o,r,h,c){if(r=r||256,h=h||5,h<1||h>8)throw new Error("Invalid quantization quality");s(o,"WuQuant",r,h,c)},w.read=function(o,r){return r=r||e,E.isBuffer(o)?r.decodeGif(o):f(o).then(h=>r.decodeGif(h))},w.shareAsJimp=function(o,r){const h=new o(r.bitmap.width,r.bitmap.height,0);return h.bitmap.data=r.bitmap.data,h},w.write=function(o,r,h,c){c=c||e;const d=o.match(/\.[a-zA-Z]+$/);if(d!==null&&t.includes(d[0].toLowerCase()))throw new Error(`GIF '${o}' has an unexpected suffix`);return c.encodeGif(r,h).then(v=>n(o,v.buffer).then(()=>v))};function s(o,r,h,c,d){const v=Array.isArray(o)?o:[o],_=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(d){if(_.indexOf(d.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${d.ditherAlgorithm}'`);d.serpentine===void 0&&(d.serpentine=!0),d.minimumColorDistanceToDither===void 0&&(d.minimumColorDistanceToDither=0),d.calculateErrorLikeGIMP===void 0&&(d.calculateErrorLikeGIMP=!1)}const b=new u.distance.Euclidean,y=new u.palette[r](b,h,c);let S;d?S=new u.image.ErrorDiffusionArray(b,u.image.ErrorDiffusionArrayKernel[d.ditherAlgorithm],d.serpentine,d.minimumColorDistanceToDither,d.calculateErrorLikeGIMP):S=new u.image.NearestColor(b);const R=[];v.forEach(T=>{const x=T.bitmap.data,z=new ArrayBuffer(x.length),k=new Uint32Array(z);for(let D=0,W=0;D<x.length;D+=4,++W)k[W]=x.readUInt32LE(D,!0);const O=u.utils.PointContainer.fromUint32Array(k,T.bitmap.width,T.bitmap.height);y.sample(O),R.push(O)});const L=y.quantize();for(let T=0;T<v.length;++T){const x=v[T].bitmap.data,k=S.quantize(R[T],L).toUint32Array();for(let O=0,D=0;O<x.length;O+=4,++D)x.writeUInt32LE(k[D],O)}}function f(o){return new Promise((r,h)=>{g.readFile(o,(c,d)=>c?h(c):r(d))})}function n(o,r){return new Promise((h,c)=>{g.writeFile(o,r,d=>d?c(d):h())})}}).call(this,{isBuffer:M("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(M,H,w){const E=M("./bitmapimage"),{Gif:g,GifError:u}=M("./gif"),{GifCodec:p}=M("./gifcodec"),{GifFrame:l}=M("./gifframe"),a=M("./gifutil");H.exports={BitmapImage:E,Gif:g,GifCodec:p,GifFrame:l,GifUtil:a,GifError:u}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(M,H,w){(function(E){var g;typeof Ie<"u"?g=Ie:typeof E<"u"?g=E:typeof self<"u"?g=self:g={},H.exports=g}).call(this,typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{}],72:[function(M,H,w){var E=M("http"),g=M("url"),u=H.exports;for(var p in E)E.hasOwnProperty(p)&&(u[p]=E[p]);u.request=function(a,i){return a=l(a),E.request.call(this,a,i)},u.get=function(a,i){return a=l(a),E.get.call(this,a,i)};function l(a){if(typeof a=="string"&&(a=g.parse(a)),a.protocol||(a.protocol="https:"),a.protocol!=="https:")throw new Error('Protocol "'+a.protocol+'" not supported. Expected "https:"');return a}},{http:156,url:180}],73:[function(M,H,w){w.read=function(E,g,u,p,l){var a,i,t=l*8-p-1,e=(1<<t)-1,s=e>>1,f=-7,n=u?l-1:0,o=u?-1:1,r=E[g+n];for(n+=o,a=r&(1<<-f)-1,r>>=-f,f+=t;f>0;a=a*256+E[g+n],n+=o,f-=8);for(i=a&(1<<-f)-1,a>>=-f,f+=p;f>0;i=i*256+E[g+n],n+=o,f-=8);if(a===0)a=1-s;else{if(a===e)return i?NaN:(r?-1:1)*(1/0);i=i+Math.pow(2,p),a=a-s}return(r?-1:1)*i*Math.pow(2,a-p)},w.write=function(E,g,u,p,l,a){var i,t,e,s=a*8-l-1,f=(1<<s)-1,n=f>>1,o=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,r=p?0:a-1,h=p?1:-1,c=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(t=isNaN(g)?1:0,i=f):(i=Math.floor(Math.log(g)/Math.LN2),g*(e=Math.pow(2,-i))<1&&(i--,e*=2),i+n>=1?g+=o/e:g+=o*Math.pow(2,1-n),g*e>=2&&(i++,e/=2),i+n>=f?(t=0,i=f):i+n>=1?(t=(g*e-1)*Math.pow(2,l),i=i+n):(t=g*Math.pow(2,n-1)*Math.pow(2,l),i=0));l>=8;E[u+r]=t&255,r+=h,t/=256,l-=8);for(i=i<<l|t,s+=l;s>0;E[u+r]=i&255,r+=h,i/=256,s-=8);E[u+r-h]|=c*128}},{}],74:[function(M,H,w){(function(g,u){typeof w=="object"&&typeof H=="object"?H.exports=u():typeof w=="object"?w.iq=u():g.iq=u()})(this,function(){return(function(E){var g={};function u(p){if(g[p])return g[p].exports;var l=g[p]={exports:{},id:p,loaded:!1};return E[p].call(l.exports,l,l.exports,u),l.loaded=!0,l.exports}return u.m=E,u.c=g,u.p="",u(0)})([function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var p=u(1);g.constants=p;var l=u(3);g.conversion=l;var a=u(12);g.distance=a;var i=u(20);g.palette=i;var t=u(30);g.image=t;var e=u(35);g.quality=e;var s=u(37);g.utils=s},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */var p=u(2);g.bt709=p},function(E,g){var u;(function(a){a[a.RED=.2126]="RED",a[a.GREEN=.7152]="GREEN",a[a.BLUE=.0722]="BLUE",a[a.WHITE=1]="WHITE"})(u||(u={})),g.Y=u;var p;(function(a){a[a.RED=.64]="RED",a[a.GREEN=.3]="GREEN",a[a.BLUE=.15]="BLUE",a[a.WHITE=.3127]="WHITE"})(p||(p={})),g.x=p;var l;(function(a){a[a.RED=.33]="RED",a[a.GREEN=.6]="GREEN",a[a.BLUE=.06]="BLUE",a[a.WHITE=.329]="WHITE"})(l||(l={})),g.y=l},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var p=u(4);g.rgb2xyz=p.rgb2xyz;var l=u(5);g.rgb2hsl=l.rgb2hsl;var a=u(7);g.rgb2lab=a.rgb2lab;var i=u(9);g.lab2xyz=i.lab2xyz;var t=u(10);g.lab2rgb=t.lab2rgb;var e=u(8);g.xyz2lab=e.xyz2lab;var s=u(11);g.xyz2rgb=s.xyz2rgb},function(E,g){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */function u(l){return l>.04045?Math.pow((l+.055)/1.055,2.4):l/12.92}function p(l,a,i){return l=u(l/255),a=u(a/255),i=u(i/255),{x:l*.4124+a*.3576+i*.1805,y:l*.2126+a*.7152+i*.0722,z:l*.0193+a*.1192+i*.9505}}g.rgb2xyz=p},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */var p=u(6);function l(a,i,t){var e=p.min3(a,i,t),s=p.max3(a,i,t),f=s-e,n=(e+s)/510,o=0;n>0&&n<1&&(o=f/(n<.5?s+e:510-s-e));var r=0;return f>0&&(s===a?r=(i-t)/f:s===i?r=2+(t-a)/f:r=4+(a-i)/f,r*=60,r<0&&(r+=360)),{h:r,s:o,l:n}}g.rgb2hsl=l},function(E,g){function u(s){return s*(Math.PI/180)}g.degrees2radians=u;function p(s,f,n){var o=s;return o<f&&(o=f),o<n&&(o=n),o}g.max3=p;function l(s,f,n){var o=s;return o>f&&(o=f),o>n&&(o=n),o}g.min3=l;function a(s,f,n){return s>n&&(s=n),s<f&&(s=f),s|0}g.intInRange=a;function i(s){return s=Math.round(s),s>255?s=255:s<0&&(s=0),s}g.inRange0to255Rounded=i;function t(s){return s>255?s=255:s<0&&(s=0),s}g.inRange0to255=t;function e(s,f){var n=typeof s[0],o;if(n==="number"||n==="string"){for(var r=Object.create(null),h=0,c=s.length;h<c;h++){var d=s[h];r[d]||r[d]===0||(r[d]=h)}o=s.sort(function(_,b){return f(_,b)||r[_]-r[b]})}else{var v=s.slice(0);o=s.sort(function(_,b){return f(_,b)||v.indexOf(_)-v.indexOf(b)})}return o}g.stableSort=e},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */var p=u(4),l=u(8);function a(i,t,e){var s=p.rgb2xyz(i,t,e);return l.xyz2lab(s.x,s.y,s.z)}g.rgb2lab=a},function(E,g){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */var u=.95047,p=1,l=1.08883;function a(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116}function i(t,e,s){if(t=a(t/u),e=a(e/p),s=a(s/l),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-s)}}g.xyz2lab=i},function(E,g){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */var u=.95047,p=1,l=1.08883;function a(t){return t>.206893034?Math.pow(t,3):(t-16/116)/7.787}function i(t,e,s){var f=(t+16)/116,n=e/500+f,o=f-s/200;return{x:u*a(n),y:p*a(f),z:l*a(o)}}g.lab2xyz=i},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */var p=u(9),l=u(11);function a(i,t,e){var s=p.lab2xyz(i,t,e);return l.xyz2rgb(s.x,s.y,s.z)}g.lab2rgb=a},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */var p=u(6);function l(i){return i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i}function a(i,t,e){var s=l(i*3.2406+t*-1.5372+e*-.4986),f=l(i*-.9689+t*1.8758+e*.0415),n=l(i*.0557+t*-.204+e*1.057);return{r:p.inRange0to255Rounded(s*255),g:p.inRange0to255Rounded(f*255),b:p.inRange0to255Rounded(n*255)}}g.xyz2rgb=a},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var p=u(13);g.AbstractDistanceCalculator=p.AbstractDistanceCalculator;var l=u(14);g.CIE94Textiles=l.CIE94Textiles,g.CIE94GraphicArts=l.CIE94GraphicArts;var a=u(15);g.CIEDE2000=a.CIEDE2000;var i=u(16);g.CMETRIC=i.CMETRIC;var t=u(17);g.AbstractEuclidean=t.AbstractEuclidean,g.Euclidean=t.Euclidean,g.EuclideanRgbQuantWOAlpha=t.EuclideanRgbQuantWOAlpha,g.EuclideanRgbQuantWithAlpha=t.EuclideanRgbQuantWithAlpha;var e=u(18);g.AbstractManhattan=e.AbstractManhattan,g.Manhattan=e.Manhattan,g.ManhattanSRGB=e.ManhattanSRGB,g.ManhattanNommyde=e.ManhattanNommyde;var s=u(19);g.PNGQUANT=s.PNGQUANT},function(E,g){var u=(function(){function p(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return p.prototype.setWhitePoint=function(l,a,i,t){this._whitePoint={r:l>0?255/l:0,g:a>0?255/a:0,b:i>0?255/i:0,a:t>0?255/t:0},this._maxDistance=this.calculateRaw(l,a,i,t,0,0,0,0)},p.prototype.calculateNormalized=function(l,a){return this.calculateRaw(l.r,l.g,l.b,l.a,a.r,a.g,a.b,a.a)/this._maxDistance},p.prototype._setDefaults=function(){},p})();g.AbstractDistanceCalculator=u},function(E,g,u){var p=this&&this.__extends||function(f,n){for(var o in n)n.hasOwnProperty(o)&&(f[o]=n[o]);function r(){this.constructor=f}f.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */var l=u(13),a=u(7),i=u(6),t=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype.calculateRaw=function(o,r,h,c,d,v,_,b){var y=a.rgb2lab(i.inRange0to255(o*this._whitePoint.r),i.inRange0to255(r*this._whitePoint.g),i.inRange0to255(h*this._whitePoint.b)),S=a.rgb2lab(i.inRange0to255(d*this._whitePoint.r),i.inRange0to255(v*this._whitePoint.g),i.inRange0to255(_*this._whitePoint.b)),R=y.L-S.L,L=y.a-S.a,T=y.b-S.b,x=Math.sqrt(y.a*y.a+y.b*y.b),z=Math.sqrt(S.a*S.a+S.b*S.b),k=x-z,O=L*L+T*T-k*k;O=O<0?0:Math.sqrt(O);var D=(b-c)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(R/this._Kl,2)+Math.pow(k/(1+this._K1*x),2)+Math.pow(O/(1+this._K2*x),2)+Math.pow(D,2))},n})(l.AbstractDistanceCalculator);g.AbstractCIE94=t;var e=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},n})(t);g.CIE94Textiles=e;var s=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},n})(t);g.CIE94GraphicArts=s},function(E,g,u){var p=this&&this.__extends||function(e,s){for(var f in s)s.hasOwnProperty(f)&&(e[f]=s[f]);function n(){this.constructor=e}e.prototype=s===null?Object.create(s):(n.prototype=s.prototype,new n)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */var l=u(13),a=u(7),i=u(6),t=(function(e){p(s,e);function s(){e.apply(this,arguments)}return s.prototype.calculateRaw=function(f,n,o,r,h,c,d,v){var _=a.rgb2lab(i.inRange0to255(f*this._whitePoint.r),i.inRange0to255(n*this._whitePoint.g),i.inRange0to255(o*this._whitePoint.b)),b=a.rgb2lab(i.inRange0to255(h*this._whitePoint.r),i.inRange0to255(c*this._whitePoint.g),i.inRange0to255(d*this._whitePoint.b)),y=(v-r)*this._whitePoint.a*s._kA,S=this.calculateRawInLab(_,b);return Math.sqrt(S+y*y)},s.prototype.calculateRawInLab=function(f,n){var o=f.L,r=f.a,h=f.b,c=n.L,d=n.a,v=n.b,_=Math.sqrt(r*r+h*h),b=Math.sqrt(d*d+v*v),y=Math.pow((_+b)/2,7),S=.5*(1-Math.sqrt(y/(y+s._pow25to7))),R=(1+S)*r,L=(1+S)*d,T=Math.sqrt(R*R+h*h),x=Math.sqrt(L*L+v*v),z=T*x,k=s._calculatehp(h,R),O=s._calculatehp(v,L),D=Math.abs(k-O),W=c-o,q=x-T,te=s._calculate_dHp(z,D,O,k),K=s._calculate_ahp(z,D,k,O),F=s._calculateT(K),Y=(T+x)/2,j=Math.pow((o+c)/2-50,2),Q=1+.015*j/Math.sqrt(20+j),re=1+.045*Y,se=1+.015*F*Y,le=s._calculateRT(K,Y),fe=W/Q,ve=q/re,ne=te/se;return Math.pow(fe,2)+Math.pow(ve,2)+Math.pow(ne,2)+le*ve*ne},s._calculatehp=function(f,n){var o=Math.atan2(f,n);return o>=0?o:o+s._deg360InRad},s._calculateRT=function(f,n){var o=Math.pow(n,7),r=2*Math.sqrt(o/(o+s._pow25to7)),h=s._deg30InRad*Math.exp(-Math.pow((f-s._deg275InRad)/s._deg25InRad,2));return-Math.sin(2*h)*r},s._calculateT=function(f){return 1-.17*Math.cos(f-s._deg30InRad)+.24*Math.cos(f*2)+.32*Math.cos(f*3+s._deg6InRad)-.2*Math.cos(f*4-s._deg63InRad)},s._calculate_ahp=function(f,n,o,r){var h=o+r;return f==0?h:n<=s._deg180InRad?h/2:h<s._deg360InRad?(h+s._deg360InRad)/2:(h-s._deg360InRad)/2},s._calculate_dHp=function(f,n,o,r){var h;return f==0?h=0:n<=s._deg180InRad?h=o-r:o<=r?h=o-r+s._deg360InRad:h=o-r-s._deg360InRad,2*Math.sqrt(f)*Math.sin(h/2)},s._kA=.25*100/255,s._pow25to7=Math.pow(25,7),s._deg360InRad=i.degrees2radians(360),s._deg180InRad=i.degrees2radians(180),s._deg30InRad=i.degrees2radians(30),s._deg6InRad=i.degrees2radians(6),s._deg63InRad=i.degrees2radians(63),s._deg275InRad=i.degrees2radians(275),s._deg25InRad=i.degrees2radians(25),s})(l.AbstractDistanceCalculator);g.CIEDE2000=t},function(E,g,u){var p=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function s(){this.constructor=i}i.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */var l=u(13),a=(function(i){p(t,i);function t(){i.apply(this,arguments)}return t.prototype.calculateRaw=function(e,s,f,n,o,r,h,c){var d=(e+o)/2*this._whitePoint.r,v=(e-o)*this._whitePoint.r,_=(s-r)*this._whitePoint.g,b=(f-h)*this._whitePoint.b,y=((512+d)*v*v>>8)+4*_*_+((767-d)*b*b>>8),S=(c-n)*this._whitePoint.a;return Math.sqrt(y+S*S)},t})(l.AbstractDistanceCalculator);g.CMETRIC=a},function(E,g,u){var p=this&&this.__extends||function(f,n){for(var o in n)n.hasOwnProperty(o)&&(f[o]=n[o]);function r(){this.constructor=f}f.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */var l=u(13),a=u(2),i=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype.calculateRaw=function(o,r,h,c,d,v,_,b){var y=d-o,S=v-r,R=_-h,L=b-c;return Math.sqrt(this._kR*y*y+this._kG*S*S+this._kB*R*R+this._kA*L*L)},n})(l.AbstractDistanceCalculator);g.AbstractEuclidean=i;var t=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},n})(i);g.Euclidean=t;var e=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=a.Y.RED,this._kG=a.Y.GREEN,this._kB=a.Y.BLUE,this._kA=1},n})(i);g.EuclideanRgbQuantWithAlpha=e;var s=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=a.Y.RED,this._kG=a.Y.GREEN,this._kB=a.Y.BLUE,this._kA=0},n})(i);g.EuclideanRgbQuantWOAlpha=s},function(E,g,u){var p=this&&this.__extends||function(f,n){for(var o in n)n.hasOwnProperty(o)&&(f[o]=n[o]);function r(){this.constructor=f}f.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */var l=u(13),a=u(2),i=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype.calculateRaw=function(o,r,h,c,d,v,_,b){var y=d-o,S=v-r,R=_-h,L=b-c;return y<0&&(y=0-y),S<0&&(S=0-S),R<0&&(R=0-R),L<0&&(L=0-L),this._kR*y+this._kG*S+this._kB*R+this._kA*L},n})(l.AbstractDistanceCalculator);g.AbstractManhattan=i;var t=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},n})(i);g.Manhattan=t;var e=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},n})(i);g.ManhattanNommyde=e;var s=(function(f){p(n,f);function n(){f.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=a.Y.RED,this._kG=a.Y.GREEN,this._kB=a.Y.BLUE,this._kA=1},n})(i);g.ManhattanSRGB=s},function(E,g,u){var p=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function s(){this.constructor=i}i.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */var l=u(13),a=(function(i){p(t,i);function t(){i.apply(this,arguments)}return t.prototype.calculateRaw=function(e,s,f,n,o,r,h,c){var d=(c-n)*this._whitePoint.a;return this._colordifference_ch(e*this._whitePoint.r,o*this._whitePoint.r,d)+this._colordifference_ch(s*this._whitePoint.g,r*this._whitePoint.g,d)+this._colordifference_ch(f*this._whitePoint.b,h*this._whitePoint.b,d)},t.prototype._colordifference_ch=function(e,s,f){var n=e-s,o=n+f;return n*n+o*o},t})(l.AbstractDistanceCalculator);g.PNGQUANT=a},function(E,g,u){var p=u(21);g.NeuQuant=p.NeuQuant;var l=u(25);g.NeuQuantFloat=l.NeuQuantFloat;var a=u(26);g.RGBQuant=a.RGBQuant;var i=u(27);g.ColorHistogram=i.ColorHistogram;var t=u(29);g.WuQuant=t.WuQuant,g.WuColorCube=t.WuColorCube},function(E,g,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var p=u(22),l=u(24),a=3,i=(function(){function e(s){this.r=this.g=this.b=this.a=s}return e.prototype.toPoint=function(){return l.Point.createByRGBA(this.r>>a,this.g>>a,this.b>>a,this.a>>a)},e.prototype.subtract=function(s,f,n,o){this.r-=s|0,this.g-=f|0,this.b-=n|0,this.a-=o|0},e})(),t=(function(){function e(s,f){f===void 0&&(f=256),this._distance=s,this._pointArray=[],this._sampleFactor=1,this._networkSize=f,this._distance.setWhitePoint(255<<a,255<<a,255<<a,255<<a)}return e.prototype.sample=function(s){this._pointArray=this._pointArray.concat(s.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var s=0;s<this._networkSize;s++)this._network[s]=new i((s<<a+8)/this._networkSize|0),this._freq[s]=e._initialBias/this._networkSize|0,this._bias[s]=0},e.prototype._learn=function(){var s=this._sampleFactor,f=this._pointArray.length;f<e._minpicturebytes&&(s=1);var n=30+(s-1)/3|0,o=f/s|0,r=o/e._nCycles|0,h=e._initAlpha,c=(this._networkSize>>3)*e._radiusBias,d=c>>e._radiusBiasShift;d<=1&&(d=0);for(var v=0;v<d;v++)this._radPower[v]=h*((d*d-v*v)*e._radBias/(d*d))>>>0;var _;f<e._minpicturebytes?_=1:f%e._prime1!=0?_=e._prime1:f%e._prime2!=0?_=e._prime2:f%e._prime3!=0?_=e._prime3:_=e._prime4;for(var v=0,b=0;v<o;){var y=this._pointArray[b],S=y.b<<a,R=y.g<<a,L=y.r<<a,T=y.a<<a,x=this._contest(S,R,L,T);if(this._alterSingle(h,x,S,R,L,T),d!==0&&this._alterNeighbour(d,x,S,R,L,T),b+=_,b>=f&&(b-=f),v++,r===0&&(r=1),v%r===0){h-=h/n|0,c-=c/e._radiusDecrease|0,d=c>>e._radiusBiasShift,d<=1&&(d=0);for(var z=0;z<d;z++)this._radPower[z]=h*((d*d-z*z)*e._radBias/(d*d))>>>0}}},e.prototype._buildPalette=function(){var s=new p.Palette;return this._network.forEach(function(f){s.add(f.toPoint())}),s.sort(),s},e.prototype._alterNeighbour=function(s,f,n,o,r,h){var c=f-s;c<-1&&(c=-1);var d=f+s;d>this._networkSize&&(d=this._networkSize);for(var v=f+1,_=f-1,b=1;v<d||_>c;){var y=this._radPower[b++]/e._alphaRadBias;if(v<d){var S=this._network[v++];S.subtract(y*(S.r-r),y*(S.g-o),y*(S.b-n),y*(S.a-h))}if(_>c){var S=this._network[_--];S.subtract(y*(S.r-r),y*(S.g-o),y*(S.b-n),y*(S.a-h))}}},e.prototype._alterSingle=function(s,f,n,o,r,h){s/=e._initAlpha;var c=this._network[f];c.subtract(s*(c.r-r),s*(c.g-o),s*(c.b-n),s*(c.a-h))},e.prototype._contest=function(s,f,n,o){for(var r=1020<<a,h=2147483647,c=h,d=-1,v=d,_=0;_<this._networkSize;_++){var b=this._network[_],y=this._distance.calculateNormalized(b,{r:n,g:f,b:s,a:o})*r|0;y<h&&(h=y,d=_);var S=y-(this._bias[_]>>e._initialBiasShift-a);S<c&&(c=S,v=_);var R=this._freq[_]>>e._betaShift;this._freq[_]-=R,this._bias[_]+=R<<e._gammaShift}return this._freq[d]+=e._beta,this._bias[d]-=e._betaGamma,v},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e})();g.NeuQuant=t},function(E,g,u){var p=u(23),l=u(5),a=10;function i(e,s){for(var f=360,n=f/s,o=n/2,r=1,h=n-o;r<s;r++,h+=n)if(e>=h&&e<h+n)return r;return 0}g.hueGroup=i;var t=(function(){function e(){this._pointArray=[],this._i32idx={},this._pointContainer=new p.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return e.prototype.add=function(s){this._pointArray.push(s),this._pointContainer.setWidth(this._pointArray.length)},e.prototype.has=function(s){for(var f=this._pointArray.length-1;f>=0;f--)if(s.uint32===this._pointArray[f].uint32)return!0;return!1},e.prototype.getNearestColor=function(s,f){return this._pointArray[this.getNearestIndex(s,f)|0]},e.prototype.getPointContainer=function(){return this._pointContainer},e.prototype._nearestPointFromCache=function(s){return typeof this._i32idx[s]=="number"?this._i32idx[s]:-1},e.prototype.getNearestIndex=function(s,f){var n=this._nearestPointFromCache(""+f.uint32);if(n>=0)return n;var o=Number.MAX_VALUE;n=0;for(var r=0,h=this._pointArray.length;r<h;r++){var c=this._pointArray[r],d=s.calculateRaw(f.r,f.g,f.b,f.a,c.r,c.g,c.b,c.a);d<o&&(o=d,n=r)}return this._i32idx[f.uint32]=n,n},e.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(s,f){var n=l.rgb2hsl(s.r,s.g,s.b),o=l.rgb2hsl(f.r,f.g,f.b),r=s.r===s.g&&s.g===s.b?0:1+i(n.h,a),h=f.r===f.g&&f.g===f.b?0:1+i(o.h,a),c=h-r;if(c)return-c;var d=s.getLuminosity(!0),v=f.getLuminosity(!0);if(v-d!==0)return v-d;var _=(o.s*100|0)-(n.s*100|0);return _?-_:0})},e})();g.Palette=t},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */var p=u(24),l=(function(){function a(){this._width=0,this._height=0,this._pointArray=[]}return a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.setWidth=function(i){this._width=i},a.prototype.setHeight=function(i){this._height=i},a.prototype.getPointArray=function(){return this._pointArray},a.prototype.clone=function(){var i=new a;i._width=this._width,i._height=this._height;for(var t=0,e=this._pointArray.length;t<e;t++)i._pointArray[t]=p.Point.createByUint32(this._pointArray[t].uint32|0);return i},a.prototype.toUint32Array=function(){for(var i=this._pointArray.length,t=new Uint32Array(i),e=0;e<i;e++)t[e]=this._pointArray[e].uint32;return t},a.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},a.fromHTMLImageElement=function(i){var t=i.naturalWidth,e=i.naturalHeight,s=document.createElement("canvas");s.width=t,s.height=e;var f=s.getContext("2d");return f.drawImage(i,0,0,t,e,0,0,t,e),a.fromHTMLCanvasElement(s)},a.fromHTMLCanvasElement=function(i){var t=i.width,e=i.height,s=i.getContext("2d"),f=s.getImageData(0,0,t,e);return a.fromImageData(f)},a.fromNodeCanvas=function(i){return a.fromHTMLCanvasElement(i)},a.fromImageData=function(i){var t=i.width,e=i.height;return a.fromCanvasPixelArray(i.data,t,e)},a.fromArray=function(i,t,e){var s=new Uint8Array(i);return a.fromUint8Array(s,t,e)},a.fromCanvasPixelArray=function(i,t,e){return a.fromArray(i,t,e)},a.fromUint8Array=function(i,t,e){return a.fromUint32Array(new Uint32Array(i.buffer),t,e)},a.fromUint32Array=function(i,t,e){var s=new a;s._width=t,s._height=e;for(var f=0,n=i.length;f<n;f++)s._pointArray[f]=p.Point.createByUint32(i[f]|0);return s},a})();g.PointContainer=l},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */var p=u(2),l=(function(){function a(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return a.createByQuadruplet=function(i){var t=new a;return t.r=i[0]|0,t.g=i[1]|0,t.b=i[2]|0,t.a=i[3]|0,t._loadUINT32(),t._loadQuadruplet(),t},a.createByRGBA=function(i,t,e,s){var f=new a;return f.r=i|0,f.g=t|0,f.b=e|0,f.a=s|0,f._loadUINT32(),f._loadQuadruplet(),f},a.createByUint32=function(i){var t=new a;return t.uint32=i>>>0,t._loadRGBA(),t._loadQuadruplet(),t},a.prototype.from=function(i){this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.uint32=i.uint32,this.rgba[0]=i.r,this.rgba[1]=i.g,this.rgba[2]=i.b,this.rgba[3]=i.a},a.prototype.getLuminosity=function(i){var t=this.r,e=this.g,s=this.b;return i&&(t=Math.min(255,255-this.a+this.a*t/255),e=Math.min(255,255-this.a+this.a*e/255),s=Math.min(255,255-this.a+this.a*s/255)),t*p.Y.RED+e*p.Y.GREEN+s*p.Y.BLUE},a.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},a.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},a.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},a})();g.Point=l},function(E,g,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var p=u(22),l=u(24),a=3,i=(function(){function e(s){this.r=this.g=this.b=this.a=s}return e.prototype.toPoint=function(){return l.Point.createByRGBA(this.r>>a,this.g>>a,this.b>>a,this.a>>a)},e.prototype.subtract=function(s,f,n,o){this.r-=s,this.g-=f,this.b-=n,this.a-=o},e})(),t=(function(){function e(s,f){f===void 0&&(f=256),this._distance=s,this._pointArray=[],this._sampleFactor=1,this._networkSize=f,this._distance.setWhitePoint(255<<a,255<<a,255<<a,255<<a)}return e.prototype.sample=function(s){this._pointArray=this._pointArray.concat(s.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var s=0;s<this._networkSize;s++)this._network[s]=new i((s<<a+8)/this._networkSize),this._freq[s]=e._initialBias/this._networkSize,this._bias[s]=0},e.prototype._learn=function(){var s=this._sampleFactor,f=this._pointArray.length;f<e._minpicturebytes&&(s=1);var n=30+(s-1)/3,o=f/s,r=o/e._nCycles|0,h=e._initAlpha,c=(this._networkSize>>3)*e._radiusBias,d=c>>e._radiusBiasShift;d<=1&&(d=0);for(var v=0;v<d;v++)this._radPower[v]=h*((d*d-v*v)*e._radBias/(d*d));var _;f<e._minpicturebytes?_=1:f%e._prime1!=0?_=e._prime1:f%e._prime2!=0?_=e._prime2:f%e._prime3!=0?_=e._prime3:_=e._prime4;for(var v=0,b=0;v<o;){var y=this._pointArray[b],S=y.b<<a,R=y.g<<a,L=y.r<<a,T=y.a<<a,x=this._contest(S,R,L,T);if(this._alterSingle(h,x,S,R,L,T),d!=0&&this._alterNeighbour(d,x,S,R,L,T),b+=_,b>=f&&(b-=f),v++,r==0&&(r=1),v%r==0){h-=h/n,c-=c/e._radiusDecrease,d=c>>e._radiusBiasShift,d<=1&&(d=0);for(var z=0;z<d;z++)this._radPower[z]=h*((d*d-z*z)*e._radBias/(d*d))}}},e.prototype._buildPalette=function(){var s=new p.Palette;return this._network.forEach(function(f){s.add(f.toPoint())}),s.sort(),s},e.prototype._alterNeighbour=function(s,f,n,o,r,h){var c=f-s;c<-1&&(c=-1);var d=f+s;d>this._networkSize&&(d=this._networkSize);for(var v=f+1,_=f-1,b=1;v<d||_>c;){var y=this._radPower[b++]/e._alphaRadBias;if(v<d){var S=this._network[v++];S.subtract(y*(S.r-r),y*(S.g-o),y*(S.b-n),y*(S.a-h))}if(_>c){var S=this._network[_--];S.subtract(y*(S.r-r),y*(S.g-o),y*(S.b-n),y*(S.a-h))}}},e.prototype._alterSingle=function(s,f,n,o,r,h){s/=e._initAlpha;var c=this._network[f];c.subtract(s*(c.r-r),s*(c.g-o),s*(c.b-n),s*(c.a-h))},e.prototype._contest=function(s,f,n,o){for(var r=1020<<a,h=2147483647,c=h,d=-1,v=d,_=0;_<this._networkSize;_++){var b=this._network[_],y=this._distance.calculateNormalized(b,{r:n,g:f,b:s,a:o})*r;y<h&&(h=y,d=_);var S=y-(this._bias[_]>>e._initialBiasShift-a);S<c&&(c=S,v=_);var R=this._freq[_]>>e._betaShift;this._freq[_]-=R,this._bias[_]+=R<<e._gammaShift}return this._freq[d]+=e._beta,this._bias[d]-=e._betaGamma,v},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e})();g.NeuQuantFloat=t},function(E,g,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */var p=u(22),l=u(24),a=u(27),i=u(6),t=(function(){function s(f,n,o){this.index=f,this.color=n,this.distance=o}return s})(),e=(function(){function s(f,n,o){n===void 0&&(n=256),o===void 0&&(o=2),this._distance=f,this._colors=n,this._histogram=new a.ColorHistogram(o,n),this._initialDistance=.01,this._distanceIncrement=.005}return s.prototype.sample=function(f){this._histogram.sample(f)},s.prototype.quantize=function(){var f=this._histogram.getImportanceSortedColorsIDXI32();if(f.length===0)throw new Error("No colors in image");var n=this._buildPalette(f);return n.sort(),n},s.prototype._buildPalette=function(f){for(var n=new p.Palette,o=n.getPointContainer().getPointArray(),r=new Array(f.length),h=0;h<f.length;h++)o.push(l.Point.createByUint32(f[h])),r[h]=1;for(var c=o.length,d=[],v=c,_=this._initialDistance;v>this._colors;){d.length=0;for(var h=0;h<c;h++)if(r[h]!==0){for(var b=o[h],y=h+1;y<c;y++)if(r[y]!==0){var S=o[y],R=this._distance.calculateNormalized(b,S);R<_&&(d.push(new t(y,S,R)),r[y]=0,v--)}}_+=v>this._colors*3?this._initialDistance:this._distanceIncrement}if(v<this._colors){i.stableSort(d,function(k,O){return O.distance-k.distance});for(var L=0;v<this._colors&&L<d.length;){var T=d[L];r[T.index]=1,v++,L++}}for(var x=o.length,z=x-1;z>=0;z--)r[z]===0&&(z!==x-1&&(o[z]=o[x-1]),--x);return o.length=x,n},s})();g.RGBQuant=e},function(E,g,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */var p=u(28),l=u(6),a=(function(){function i(t,e){this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new p.HueStatistics(i._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return i.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t);break}},i.prototype.getImportanceSortedColorsIDXI32=function(){var t=this,e=l.stableSort(Object.keys(this._histogram),function(c,d){return t._histogram[d]-t._histogram[c]});if(e.length===0)return[];var s;switch(this._method){case 1:var f=Math.min(e.length,this._initColors),n=e[f-1],o=this._histogram[n];s=e.slice(0,f);for(var r=f,h=e.length;r<h&&this._histogram[e[r]]==o;)s.push(e[r++]);this._hueStats.injectIntoArray(s);break;case 2:s=e;break;default:throw new Error("Incorrect method")}return s.map(function(c){return+c})},i.prototype._colorStats1D=function(t){for(var e=this._histogram,s=t.getPointArray(),f=s.length,n=0;n<f;n++){var o=s[n].uint32;this._hueStats.check(o),o in e?e[o]++:e[o]=1}},i.prototype._colorStats2D=function(t){var e=this,s=t.getWidth(),f=t.getHeight(),n=t.getPointArray(),o=i._boxSize[0],r=i._boxSize[1],h=o*r,c=this._makeBoxes(s,f,o,r),d=this._histogram;c.forEach(function(v){var _=Math.round(v.w*v.h/h)*i._boxPixels;_<2&&(_=2);var b={};e._iterateBox(v,s,function(y){var S=n[y].uint32;e._hueStats.check(S),S in d?d[S]++:S in b?++b[S]>=_&&(d[S]=b[S]):b[S]=1})}),this._hueStats.injectIntoDictionary(d)},i.prototype._iterateBox=function(t,e,s){var f=t,n=f.y*e+f.x,o=(f.y+f.h-1)*e+(f.x+f.w-1),r=e-f.w+1,h=0,c=n;do s.call(this,c),c+=++h%f.w==0?r:1;while(c<=o)},i.prototype._makeBoxes=function(t,e,s,f){for(var n=t%s,o=e%f,r=t-n,h=e-o,c=[],d=0;d<e;d+=f)for(var v=0;v<t;v+=s)c.push({x:v,y:d,w:v==r?n:s,h:d==h?o:f});return c},i._boxSize=[64,64],i._boxPixels=2,i._hueGroups=10,i})();g.ColorHistogram=a},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */var p=u(5),l=u(22),a=(function(){function t(){this.num=0,this.cols=[]}return t})(),i=(function(){function t(e,s){this._numGroups=e,this._minCols=s,this._stats=[];for(var f=0;f<=e;f++)this._stats[f]=new a;this._groupsFull=0}return t.prototype.check=function(e){this._groupsFull==this._numGroups+1&&(this.check=function(){});var s=e&255,f=e>>>8&255,n=e>>>16&255,o=s==f&&f==n?0:1+l.hueGroup(p.rgb2hsl(s,f,n).h,this._numGroups),r=this._stats[o],h=this._minCols;r.num++,!(r.num>h)&&(r.num==h&&this._groupsFull++,r.num<=h&&this._stats[o].cols.push(e))},t.prototype.injectIntoDictionary=function(e){for(var s=0;s<=this._numGroups;s++)this._stats[s].num<=this._minCols&&this._stats[s].cols.forEach(function(f){e[f]?e[f]++:e[f]=1})},t.prototype.injectIntoArray=function(e){for(var s=0;s<=this._numGroups;s++)this._stats[s].num<=this._minCols&&this._stats[s].cols.forEach(function(f){e.indexOf(f)==-1&&e.push(f)})},t})();g.HueStatistics=i},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */var p=u(22),l=u(24);function a(o){for(var r=[],h=0;h<o;h++)r[h]=0;return r}function i(o,r,h,c){for(var d=new Array(o),v=0;v<o;v++){d[v]=new Array(r);for(var _=0;_<r;_++){d[v][_]=new Array(h);for(var b=0;b<h;b++){d[v][_][b]=new Array(c);for(var y=0;y<c;y++)d[v][_][b][y]=0}}}return d}function t(o,r,h){for(var c=new Array(o),d=0;d<o;d++){c[d]=new Array(r);for(var v=0;v<r;v++){c[d][v]=new Array(h);for(var _=0;_<h;_++)c[d][v][_]=0}}return c}function e(o,r,h,c,d){for(var v=0;v<r;v++){o[v]=[];for(var _=0;_<h;_++){o[v][_]=[];for(var b=0;b<c;b++)o[v][_][b]=d}}}function s(o,r,h){for(var c=0;c<r;c++)o[c]=h}var f=(function(){function o(){}return o})();g.WuColorCube=f;var n=(function(){function o(r,h,c){h===void 0&&(h=256),c===void 0&&(c=5),this._distance=r,this._setQuality(c),this._initialize(h)}return o.prototype.sample=function(r){for(var h=r.getPointArray(),c=0,d=h.length;c<d;c++)this._addColor(h[c]);this._pixels=this._pixels.concat(h)},o.prototype.quantize=function(){this._preparePalette();for(var r=new p.Palette,h=0;h<this._colors;h++)if(this._sums[h]>0){var c=this._sums[h],d=this._reds[h]/c,v=this._greens[h]/c,_=this._blues[h]/c,b=this._alphas[h]/c,y=l.Point.createByRGBA(d|0,v|0,_|0,b|0);r.add(y)}return r.sort(),r},o.prototype._preparePalette=function(){this._calculateMoments();for(var r=0,h=a(this._colors),c=1;c<this._colors;++c){this._cut(this._cubes[r],this._cubes[c])?(h[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0,h[c]=this._cubes[c].volume>1?this._calculateVariance(this._cubes[c]):0):(h[r]=0,c--),r=0;for(var d=h[0],v=1;v<=c;++v)h[v]>d&&(d=h[v],r=v);if(d<=0){this._colors=c+1;break}}for(var _=[],b=[],y=[],S=[],R=0;R<this._colors;++R){var L=o._volume(this._cubes[R],this._weights);L>0?(_[R]=o._volume(this._cubes[R],this._momentsRed)/L|0,b[R]=o._volume(this._cubes[R],this._momentsGreen)/L|0,y[R]=o._volume(this._cubes[R],this._momentsBlue)/L|0,S[R]=o._volume(this._cubes[R],this._momentsAlpha)/L|0):(_[R]=0,b[R]=0,y[R]=0,S[R]=0)}this._reds=a(this._colors+1),this._greens=a(this._colors+1),this._blues=a(this._colors+1),this._alphas=a(this._colors+1),this._sums=a(this._colors+1);for(var v=0,T=this._pixels.length;v<T;v++){for(var x=this._pixels[v],z=-1,k=z,O=Number.MAX_VALUE,D=0;D<this._colors;D++){var W=_[D],q=b[D],te=y[D],K=S[D],F=this._distance.calculateRaw(W,q,te,K,x.r,x.g,x.b,x.a);F<O&&(O=F,k=D)}this._reds[k]+=x.r,this._greens[k]+=x.g,this._blues[k]+=x.b,this._alphas[k]+=x.a,this._sums[k]++}},o.prototype._addColor=function(r){var h=8-this._significantBitsPerChannel,c=(r.r>>h)+1,d=(r.g>>h)+1,v=(r.b>>h)+1,_=(r.a>>h)+1;this._weights[_][c][d][v]++,this._momentsRed[_][c][d][v]+=r.r,this._momentsGreen[_][c][d][v]+=r.g,this._momentsBlue[_][c][d][v]+=r.b,this._momentsAlpha[_][c][d][v]+=r.a,this._moments[_][c][d][v]+=this._table[r.r]+this._table[r.g]+this._table[r.b]+this._table[r.a]},o.prototype._calculateMoments=function(){for(var r=[],h=[],c=[],d=[],v=[],_=[],b=t(this._sideSize,this._sideSize,this._sideSize),y=t(this._sideSize,this._sideSize,this._sideSize),S=t(this._sideSize,this._sideSize,this._sideSize),R=t(this._sideSize,this._sideSize,this._sideSize),L=t(this._sideSize,this._sideSize,this._sideSize),T=t(this._sideSize,this._sideSize,this._sideSize),x=1;x<=this._alphaMaxSideIndex;++x){e(b,this._sideSize,this._sideSize,this._sideSize,0),e(y,this._sideSize,this._sideSize,this._sideSize,0),e(S,this._sideSize,this._sideSize,this._sideSize,0),e(R,this._sideSize,this._sideSize,this._sideSize,0),e(L,this._sideSize,this._sideSize,this._sideSize,0),e(T,this._sideSize,this._sideSize,this._sideSize,0);for(var z=1;z<=this._maxSideIndex;++z){s(r,this._sideSize,0),s(h,this._sideSize,0),s(c,this._sideSize,0),s(d,this._sideSize,0),s(v,this._sideSize,0),s(_,this._sideSize,0);for(var k=1;k<=this._maxSideIndex;++k)for(var O=0,D=0,W=0,q=0,te=0,K=0,F=1;F<=this._maxSideIndex;++F)O+=this._weights[x][z][k][F],D+=this._momentsRed[x][z][k][F],W+=this._momentsGreen[x][z][k][F],q+=this._momentsBlue[x][z][k][F],te+=this._momentsAlpha[x][z][k][F],K+=this._moments[x][z][k][F],r[F]+=O,h[F]+=D,c[F]+=W,d[F]+=q,v[F]+=te,_[F]+=K,b[z][k][F]=b[z-1][k][F]+r[F],y[z][k][F]=y[z-1][k][F]+h[F],S[z][k][F]=S[z-1][k][F]+c[F],R[z][k][F]=R[z-1][k][F]+d[F],L[z][k][F]=L[z-1][k][F]+v[F],T[z][k][F]=T[z-1][k][F]+_[F],this._weights[x][z][k][F]=this._weights[x-1][z][k][F]+b[z][k][F],this._momentsRed[x][z][k][F]=this._momentsRed[x-1][z][k][F]+y[z][k][F],this._momentsGreen[x][z][k][F]=this._momentsGreen[x-1][z][k][F]+S[z][k][F],this._momentsBlue[x][z][k][F]=this._momentsBlue[x-1][z][k][F]+R[z][k][F],this._momentsAlpha[x][z][k][F]=this._momentsAlpha[x-1][z][k][F]+L[z][k][F],this._moments[x][z][k][F]=this._moments[x-1][z][k][F]+T[z][k][F]}}},o._volumeFloat=function(r,h){return h[r.alphaMaximum][r.redMaximum][r.greenMaximum][r.blueMaximum]-h[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMaximum]-h[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMaximum]+h[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMaximum]-h[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMaximum]+h[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMaximum]+h[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMaximum]-h[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(h[r.alphaMaximum][r.redMaximum][r.greenMaximum][r.blueMinimum]-h[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMinimum]-h[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMinimum]+h[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]-h[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMinimum]+h[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]+h[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]-h[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum])},o._volume=function(r,h){return o._volumeFloat(r,h)|0},o._top=function(r,h,c,d){var v;switch(h){case o.alpha:v=d[c][r.redMaximum][r.greenMaximum][r.blueMaximum]-d[c][r.redMaximum][r.greenMinimum][r.blueMaximum]-d[c][r.redMinimum][r.greenMaximum][r.blueMaximum]+d[c][r.redMinimum][r.greenMinimum][r.blueMaximum]-(d[c][r.redMaximum][r.greenMaximum][r.blueMinimum]-d[c][r.redMaximum][r.greenMinimum][r.blueMinimum]-d[c][r.redMinimum][r.greenMaximum][r.blueMinimum]+d[c][r.redMinimum][r.greenMinimum][r.blueMinimum]);break;case o.red:v=d[r.alphaMaximum][c][r.greenMaximum][r.blueMaximum]-d[r.alphaMaximum][c][r.greenMinimum][r.blueMaximum]-d[r.alphaMinimum][c][r.greenMaximum][r.blueMaximum]+d[r.alphaMinimum][c][r.greenMinimum][r.blueMaximum]-(d[r.alphaMaximum][c][r.greenMaximum][r.blueMinimum]-d[r.alphaMaximum][c][r.greenMinimum][r.blueMinimum]-d[r.alphaMinimum][c][r.greenMaximum][r.blueMinimum]+d[r.alphaMinimum][c][r.greenMinimum][r.blueMinimum]);break;case o.green:v=d[r.alphaMaximum][r.redMaximum][c][r.blueMaximum]-d[r.alphaMaximum][r.redMinimum][c][r.blueMaximum]-d[r.alphaMinimum][r.redMaximum][c][r.blueMaximum]+d[r.alphaMinimum][r.redMinimum][c][r.blueMaximum]-(d[r.alphaMaximum][r.redMaximum][c][r.blueMinimum]-d[r.alphaMaximum][r.redMinimum][c][r.blueMinimum]-d[r.alphaMinimum][r.redMaximum][c][r.blueMinimum]+d[r.alphaMinimum][r.redMinimum][c][r.blueMinimum]);break;case o.blue:v=d[r.alphaMaximum][r.redMaximum][r.greenMaximum][c]-d[r.alphaMaximum][r.redMaximum][r.greenMinimum][c]-d[r.alphaMaximum][r.redMinimum][r.greenMaximum][c]+d[r.alphaMaximum][r.redMinimum][r.greenMinimum][c]-(d[r.alphaMinimum][r.redMaximum][r.greenMaximum][c]-d[r.alphaMinimum][r.redMaximum][r.greenMinimum][c]-d[r.alphaMinimum][r.redMinimum][r.greenMaximum][c]+d[r.alphaMinimum][r.redMinimum][r.greenMinimum][c]);break;default:throw new Error("impossible")}return v|0},o._bottom=function(r,h,c){switch(h){case o.alpha:return-c[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMaximum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMaximum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMaximum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(-c[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMinimum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);case o.red:return-c[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMaximum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMaximum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMaximum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(-c[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMinimum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);case o.green:return-c[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMaximum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMaximum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMaximum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(-c[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);case o.blue:return-c[r.alphaMaximum][r.redMaximum][r.greenMaximum][r.blueMinimum]+c[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]-(-c[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMinimum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);default:return 0}},o.prototype._calculateVariance=function(r){var h=o._volume(r,this._momentsRed),c=o._volume(r,this._momentsGreen),d=o._volume(r,this._momentsBlue),v=o._volume(r,this._momentsAlpha),_=o._volumeFloat(r,this._moments),b=o._volume(r,this._weights),y=h*h+c*c+d*d+v*v;return _-y/b},o.prototype._maximize=function(r,h,c,d,v,_,b,y,S){for(var R=o._bottom(r,h,this._momentsRed)|0,L=o._bottom(r,h,this._momentsGreen)|0,T=o._bottom(r,h,this._momentsBlue)|0,x=o._bottom(r,h,this._momentsAlpha)|0,z=o._bottom(r,h,this._weights)|0,k=0,O=-1,D=c;D<d;++D){var W=R+o._top(r,h,D,this._momentsRed),q=L+o._top(r,h,D,this._momentsGreen),te=T+o._top(r,h,D,this._momentsBlue),K=x+o._top(r,h,D,this._momentsAlpha),F=z+o._top(r,h,D,this._weights);if(F!=0){var Y=W*W+q*q+te*te+K*K,j=Y/F;W=v-W,q=_-q,te=b-te,K=y-K,F=S-F,F!=0&&(Y=W*W+q*q+te*te+K*K,j+=Y/F,j>k&&(k=j,O=D))}}return{max:k,position:O}},o.prototype._cut=function(r,h){var c,d=o._volume(r,this._momentsRed),v=o._volume(r,this._momentsGreen),_=o._volume(r,this._momentsBlue),b=o._volume(r,this._momentsAlpha),y=o._volume(r,this._weights),S=this._maximize(r,o.red,r.redMinimum+1,r.redMaximum,d,v,_,b,y),R=this._maximize(r,o.green,r.greenMinimum+1,r.greenMaximum,d,v,_,b,y),L=this._maximize(r,o.blue,r.blueMinimum+1,r.blueMaximum,d,v,_,b,y),T=this._maximize(r,o.alpha,r.alphaMinimum+1,r.alphaMaximum,d,v,_,b,y);if(T.max>=S.max&&T.max>=R.max&&T.max>=L.max){if(c=o.alpha,T.position<0)return!1}else S.max>=T.max&&S.max>=R.max&&S.max>=L.max?c=o.red:R.max>=T.max&&R.max>=S.max&&R.max>=L.max?c=o.green:c=o.blue;switch(h.redMaximum=r.redMaximum,h.greenMaximum=r.greenMaximum,h.blueMaximum=r.blueMaximum,h.alphaMaximum=r.alphaMaximum,c){case o.red:h.redMinimum=r.redMaximum=S.position,h.greenMinimum=r.greenMinimum,h.blueMinimum=r.blueMinimum,h.alphaMinimum=r.alphaMinimum;break;case o.green:h.greenMinimum=r.greenMaximum=R.position,h.redMinimum=r.redMinimum,h.blueMinimum=r.blueMinimum,h.alphaMinimum=r.alphaMinimum;break;case o.blue:h.blueMinimum=r.blueMaximum=L.position,h.redMinimum=r.redMinimum,h.greenMinimum=r.greenMinimum,h.alphaMinimum=r.alphaMinimum;break;case o.alpha:h.alphaMinimum=r.alphaMaximum=T.position,h.blueMinimum=r.blueMinimum,h.redMinimum=r.redMinimum,h.greenMinimum=r.greenMinimum;break}return r.volume=(r.redMaximum-r.redMinimum)*(r.greenMaximum-r.greenMinimum)*(r.blueMaximum-r.blueMinimum)*(r.alphaMaximum-r.alphaMinimum),h.volume=(h.redMaximum-h.redMinimum)*(h.greenMaximum-h.greenMinimum)*(h.blueMaximum-h.blueMinimum)*(h.alphaMaximum-h.alphaMinimum),!0},o.prototype._initialize=function(r){this._colors=r,this._cubes=[];for(var h=0;h<r;h++)this._cubes[h]=new f;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var c=0;c<256;++c)this._table[c]=c*c;this._pixels=[]},o.prototype._setQuality=function(r){r===void 0&&(r=5),this._significantBitsPerChannel=r,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},o.alpha=3,o.red=2,o.green=1,o.blue=0,o})();g.WuQuant=n},function(E,g,u){var p=u(31);g.NearestColor=p.NearestColor;var l=u(32);g.ErrorDiffusionArray=l.ErrorDiffusionArray,g.ErrorDiffusionArrayKernel=l.ErrorDiffusionArrayKernel;var a=u(33);g.ErrorDiffusionRiemersma=a.ErrorDiffusionRiemersma},function(E,g){var u=(function(){function p(l){this._distance=l}return p.prototype.quantize=function(l,a){for(var i=l.getPointArray(),t=l.getWidth(),e=l.getHeight(),s=0;s<e;s++)for(var f=0,n=s*t;f<t;f++,n++){var o=i[n];o.from(a.getNearestColor(this._distance,o))}return l},p})();g.NearestColor=u},function(E,g,u){var p=u(24),l=u(6);(function(t){t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite"})(g.ErrorDiffusionArrayKernel||(g.ErrorDiffusionArrayKernel={}));var a=g.ErrorDiffusionArrayKernel,i=(function(){function t(e,s,f,n,o){f===void 0&&(f=!0),n===void 0&&(n=0),o===void 0&&(o=!1),this._setKernel(s),this._distance=e,this._minColorDistance=n,this._serpentine=f,this._calculateErrorLikeGIMP=o}return t.prototype.quantize=function(e,s){for(var f=e.getPointArray(),n=new p.Point,o=e.getWidth(),r=e.getHeight(),h=[],c=1,d=1,v=0;v<this._kernel.length;v++){var _=this._kernel[v][2]+1;d<_&&(d=_)}for(var v=0;v<d;v++)this._fillErrorLine(h[v]=[],o);for(var b=0;b<r;b++){this._serpentine&&(c=c*-1);var y=b*o,S=c==1?0:o-1,R=c==1?o:-1;this._fillErrorLine(h[0],o),h.push(h.shift());for(var L=h[0],T=S,x=y+S;T!==R;T+=c,x+=c){var z=f[x],k=L[T];n.from(z);var O=p.Point.createByRGBA(l.inRange0to255Rounded(z.r+k[0]),l.inRange0to255Rounded(z.g+k[1]),l.inRange0to255Rounded(z.b+k[2]),l.inRange0to255Rounded(z.a+k[3])),D=s.getNearestColor(this._distance,O);if(z.from(D),this._minColorDistance){var W=this._distance.calculateNormalized(z,D);if(W<this._minColorDistance)continue}var q=void 0,te=void 0,K=void 0,F=void 0;this._calculateErrorLikeGIMP?(q=O.r-D.r,te=O.g-D.g,K=O.b-D.b,F=O.a-D.a):(q=n.r-D.r,te=n.g-D.g,K=n.b-D.b,F=n.a-D.a);for(var Y=c==1?0:this._kernel.length-1,j=c==1?this._kernel.length:-1,v=Y;v!==j;v+=c){var Q=this._kernel[v][1]*c,re=this._kernel[v][2];if(Q+T>=0&&Q+T<o&&re+b>=0&&re+b<r){var se=this._kernel[v][0],le=h[re][Q+T];le[0]=le[0]+q*se,le[1]=le[1]+te*se,le[2]=le[2]+K*se,le[3]=le[3]+F*se}}}}return e},t.prototype._fillErrorLine=function(e,s){e.length>s&&(e.length=s);for(var f=e.length,n=0;n<f;n++){var o=e[n];o[0]=o[1]=o[2]=o[3]=0}for(var n=f;n<s;n++)e[n]=[0,0,0,0]},t.prototype._setKernel=function(e){switch(e){case a.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case a.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case a.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case a.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case a.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case a.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case a.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case a.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case a.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+e)}},t})();g.ErrorDiffusionArray=i},function(E,g,u){var p=u(34),l=u(24),a=u(6),i=(function(){function t(e,s,f){s===void 0&&(s=16),f===void 0&&(f=1),this._distance=e,this._errorPropagation=f,this._errorQueueSize=s,this._max=this._errorQueueSize,this._createWeights()}return t.prototype.quantize=function(e,s){for(var f=this,n=new p.HilbertCurveBase,o=e.getPointArray(),r=e.getWidth(),h=e.getHeight(),c=[],d=0,v=0;v<this._errorQueueSize;v++)c[v]={r:0,g:0,b:0,a:0};return n.walk(r,h,function(_,b){for(var y=o[_+b*r],S=y.r,R=y.g,L=y.b,T=y.a,x=0;x<f._errorQueueSize;x++){var z=f._weights[x],k=c[(x+d)%f._errorQueueSize];S+=k.r*z,R+=k.g*z,L+=k.b*z,T+=k.a*z}var O=l.Point.createByRGBA(a.inRange0to255Rounded(S),a.inRange0to255Rounded(R),a.inRange0to255Rounded(L),a.inRange0to255Rounded(T)),D=s.getNearestColor(f._distance,O);d=(d+1)%f._errorQueueSize;var W=(d+f._errorQueueSize-1)%f._errorQueueSize;c[W].r=y.r-D.r,c[W].g=y.g-D.g,c[W].b=y.b-D.b,c[W].a=y.a-D.a,y.from(D)}),e},t.prototype._createWeights=function(){this._weights=[];for(var e=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),s=0,f=1;s<this._errorQueueSize;s++)this._weights[s]=(f+.5|0)/this._max*this._errorPropagation,f*=e},t})();g.ErrorDiffusionRiemersma=i},function(E,g){var u;(function(l){l[l.NONE=0]="NONE",l[l.UP=1]="UP",l[l.LEFT=2]="LEFT",l[l.RIGHT=3]="RIGHT",l[l.DOWN=4]="DOWN"})(u||(u={}));var p=(function(){function l(){}return l.prototype.walk=function(a,i,t){this._x=0,this._y=0,this._d=0,this._width=a,this._height=i,this._callback=t;var e=Math.max(a,i);this._level=Math.log(e)/Math.log(2)+1|0,this._walkHilbert(u.UP),this._visit(u.NONE)},l.prototype._walkHilbert=function(a){if(!(this._level<1)){switch(this._level--,a){case u.LEFT:this._walkHilbert(u.UP),this._visit(u.RIGHT),this._walkHilbert(u.LEFT),this._visit(u.DOWN),this._walkHilbert(u.LEFT),this._visit(u.LEFT),this._walkHilbert(u.DOWN);break;case u.RIGHT:this._walkHilbert(u.DOWN),this._visit(u.LEFT),this._walkHilbert(u.RIGHT),this._visit(u.UP),this._walkHilbert(u.RIGHT),this._visit(u.RIGHT),this._walkHilbert(u.UP);break;case u.UP:this._walkHilbert(u.LEFT),this._visit(u.DOWN),this._walkHilbert(u.UP),this._visit(u.RIGHT),this._walkHilbert(u.UP),this._visit(u.UP),this._walkHilbert(u.RIGHT);break;case u.DOWN:this._walkHilbert(u.RIGHT),this._visit(u.UP),this._walkHilbert(u.DOWN),this._visit(u.LEFT),this._walkHilbert(u.DOWN),this._visit(u.DOWN),this._walkHilbert(u.LEFT);break}this._level++}},l.prototype._visit=function(a){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),a){case u.LEFT:this._x--;break;case u.RIGHT:this._x++;break;case u.UP:this._y--;break;case u.DOWN:this._y++;break}},l})();g.HilbertCurveBase=p},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var p=u(36);g.SSIM=p.SSIM},function(E,g,u){var p=u(2),l=.01,a=.03,i=(function(){function t(){}return t.prototype.compare=function(e,s){if(e.getHeight()!==s.getHeight()||e.getWidth()!==s.getWidth())throw new Error("Images have different sizes!");var f=8,n=(1<<f)-1,o=Math.pow(l*n,2),r=Math.pow(a*n,2),h=0,c=0;return this._iterate(e,s,function(d,v,_,b){for(var y=0,S=0,R=0,L=0;L<d.length;L++)S+=Math.pow(d[L]-_,2),R+=Math.pow(v[L]-b,2),y+=(d[L]-_)*(v[L]-b);var T=d.length-1;S/=T,R/=T,y/=T;var x=(2*_*b+o)*(2*y+r),z=(Math.pow(_,2)+Math.pow(b,2)+o)*(S+R+r),k=x/z;c+=k,h++}),c/h},t.prototype._iterate=function(e,s,f){for(var n=8,o=e.getWidth(),r=e.getHeight(),h=0;h<r;h+=n)for(var c=0;c<o;c+=n){var d=Math.min(n,o-c),v=Math.min(n,r-h),_=this._calculateLumaValuesForWindow(e,c,h,d,v),b=this._calculateLumaValuesForWindow(s,c,h,d,v),y=this._calculateAverageLuma(_),S=this._calculateAverageLuma(b);f(_,b,y,S)}},t.prototype._calculateLumaValuesForWindow=function(e,s,f,n,o){for(var r=e.getPointArray(),h=[],c=0,d=f;d<f+o;d++)for(var v=d*e.getWidth(),_=s;_<s+n;_++){var b=r[v+_];h[c]=b.r*p.Y.RED+b.g*p.Y.GREEN+b.b*p.Y.BLUE,c++}return h},t.prototype._calculateAverageLuma=function(e){for(var s=0,f=0;f<e.length;f++)s+=e[f];return s/e.length},t})();g.SSIM=i},function(E,g,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var p=u(6);g.arithmetic=p;var l=u(28);g.HueStatistics=l.HueStatistics;var a=u(22);g.Palette=a.Palette;var i=u(24);g.Point=i.Point;var t=u(23);g.PointContainer=t.PointContainer}])})},{}],75:[function(M,H,w){typeof Object.create=="function"?H.exports=function(g,u){u&&(g.super_=u,g.prototype=Object.create(u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}))}:H.exports=function(g,u){if(u){g.super_=u;var p=function(){};p.prototype=u.prototype,g.prototype=new p,g.prototype.constructor=g}}},{}],76:[function(M,H,w){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */H.exports=function(u){return u!=null&&(E(u)||g(u)||!!u._isBuffer)};function E(u){return!!u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u)}function g(u){return typeof u.readFloatLE=="function"&&typeof u.slice=="function"&&E(u.slice(0,0))}},{}],77:[function(M,H,w){var E=Function.prototype.toString,g=/^\s*class\b/,u=function(s){try{var f=E.call(s);return g.test(f)}catch{return!1}},p=function(s){try{return u(s)?!1:(E.call(s),!0)}catch{return!1}},l=Object.prototype.toString,a="[object Function]",i="[object GeneratorFunction]",t=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";H.exports=function(s){if(!s||typeof s!="function"&&typeof s!="object")return!1;if(typeof s=="function"&&!s.prototype)return!0;if(t)return p(s);if(u(s))return!1;var f=l.call(s);return f===a||f===i}},{}],78:[function(M,H,w){H.exports=g;var E=Object.prototype.toString;function g(u){var p=E.call(u);return p==="[object Function]"||typeof u=="function"&&p!=="[object RegExp]"||typeof Ie<"u"&&(u===Ie.setTimeout||u===Ie.alert||u===Ie.confirm||u===Ie.prompt)}},{}],79:[function(M,H,w){var E={}.toString;H.exports=Array.isArray||function(g){return E.call(g)=="[object Array]"}},{}],80:[function(M,H,w){var E=M("./lib/encoder"),g=M("./lib/decoder");H.exports={encode:E,decode:g}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(M,H,w){(function(E){var g=(function(){var l=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),a=4017,i=799,t=3406,e=2276,s=1567,f=3784,n=5793,o=2896;function r(){}function h(S,R){for(var L=0,T=[],x,z,k=16;k>0&&!S[k-1];)k--;T.push({children:[],index:0});var O=T[0],D;for(x=0;x<k;x++){for(z=0;z<S[x];z++){for(O=T.pop(),O.children[O.index]=R[L];O.index>0;){if(T.length===0)throw new Error("Could not recreate Huffman Table");O=T.pop()}for(O.index++,T.push(O);T.length<=x;)T.push(D={children:[],index:0}),O.children[O.index]=D.children,O=D;L++}x+1<k&&(T.push(D={children:[],index:0}),O.children[O.index]=D.children,O=D)}return T[0].children}function c(S,R,L,T,x,z,k,O,D,W){L.precision,L.samplesPerLine,L.scanLines;var q=L.mcusPerLine,te=L.progressive;L.maxH,L.maxV;var K=R,F=0,Y=0;function j(){if(Y>0)return Y--,F>>Y&1;if(F=S[R++],F==255){var Ce=S[R++];if(Ce)throw new Error("unexpected marker: "+(F<<8|Ce).toString(16))}return Y=7,F>>>7}function Q(Ce){for(var Me=Ce,Se;(Se=j())!==null;){if(Me=Me[Se],typeof Me=="number")return Me;if(typeof Me!="object")throw new Error("invalid huffman sequence")}return null}function re(Ce){for(var Me=0;Ce>0;){var Se=j();if(Se===null)return;Me=Me<<1|Se,Ce--}return Me}function se(Ce){var Me=re(Ce);return Me>=1<<Ce-1?Me:Me+(-1<<Ce)+1}function le(Ce,Me){var Se=Q(Ce.huffmanTableDC),Be=Se===0?0:se(Se);Me[0]=Ce.pred+=Be;for(var Oe=1;Oe<64;){var N=Q(Ce.huffmanTableAC),ce=N&15,de=N>>4;if(ce===0){if(de<15)break;Oe+=16;continue}Oe+=de;var ye=l[Oe];Me[ye]=se(ce),Oe++}}function fe(Ce,Me){var Se=Q(Ce.huffmanTableDC),Be=Se===0?0:se(Se)<<D;Me[0]=Ce.pred+=Be}function ve(Ce,Me){Me[0]|=j()<<D}var ne=0;function ie(Ce,Me){if(ne>0){ne--;return}for(var Se=z,Be=k;Se<=Be;){var Oe=Q(Ce.huffmanTableAC),N=Oe&15,ce=Oe>>4;if(N===0){if(ce<15){ne=re(ce)+(1<<ce)-1;break}Se+=16;continue}Se+=ce;var de=l[Se];Me[de]=se(N)*(1<<D),Se++}}var V=0,ee;function $(Ce,Me){for(var Se=z,Be=k,Oe=0;Se<=Be;){var N=l[Se],ce=Me[N]<0?-1:1;switch(V){case 0:var de=Q(Ce.huffmanTableAC),ye=de&15,Oe=de>>4;if(ye===0)Oe<15?(ne=re(Oe)+(1<<Oe),V=4):(Oe=16,V=1);else{if(ye!==1)throw new Error("invalid ACn encoding");ee=se(ye),V=Oe?2:3}continue;case 1:case 2:Me[N]?Me[N]+=(j()<<D)*ce:(Oe--,Oe===0&&(V=V==2?3:0));break;case 3:Me[N]?Me[N]+=(j()<<D)*ce:(Me[N]=ee<<D,V=0);break;case 4:Me[N]&&(Me[N]+=(j()<<D)*ce);break}Se++}V===4&&(ne--,ne===0&&(V=0))}function G(Ce,Me,Se,Be,Oe){var N=Se/q|0,ce=Se%q,de=N*Ce.v+Be,ye=ce*Ce.h+Oe;Ce.blocks[de]===void 0&&W.tolerantDecoding||Me(Ce,Ce.blocks[de][ye])}function I(Ce,Me,Se){var Be=Se/Ce.blocksPerLine|0,Oe=Se%Ce.blocksPerLine;Ce.blocks[Be]===void 0&&W.tolerantDecoding||Me(Ce,Ce.blocks[Be][Oe])}var P=T.length,Z,U,C,A,X,ae;te?z===0?ae=O===0?fe:ve:ae=O===0?ie:$:ae=le;var pe=0,_e,Ee;P==1?Ee=T[0].blocksPerLine*T[0].blocksPerColumn:Ee=q*L.mcusPerColumn,x||(x=Ee);for(var Pe,Re;pe<Ee;){for(U=0;U<P;U++)T[U].pred=0;if(ne=0,P==1)for(Z=T[0],X=0;X<x;X++)I(Z,ae,pe),pe++;else for(X=0;X<x;X++){for(U=0;U<P;U++)for(Z=T[U],Pe=Z.h,Re=Z.v,C=0;C<Re;C++)for(A=0;A<Pe;A++)G(Z,ae,pe,C,A);if(pe++,pe===Ee)break}if(pe===Ee)do{if(S[R]===255&&S[R+1]!==0)break;R+=1}while(R<S.length-2);if(Y=0,_e=S[R]<<8|S[R+1],_e<65280)throw new Error("marker was not found");if(_e>=65488&&_e<=65495)R+=2;else break}return R-K}function d(S,R){var L=[],T=R.blocksPerLine,x=R.blocksPerColumn,z=T<<3,k=new Int32Array(64),O=new Uint8Array(64);function D(re,se,le){var fe=R.quantizationTable,ve,ne,ie,V,ee,$,G,I,P,Z=le,U;for(U=0;U<64;U++)Z[U]=re[U]*fe[U];for(U=0;U<8;++U){var C=8*U;if(Z[1+C]==0&&Z[2+C]==0&&Z[3+C]==0&&Z[4+C]==0&&Z[5+C]==0&&Z[6+C]==0&&Z[7+C]==0){P=n*Z[0+C]+512>>10,Z[0+C]=P,Z[1+C]=P,Z[2+C]=P,Z[3+C]=P,Z[4+C]=P,Z[5+C]=P,Z[6+C]=P,Z[7+C]=P;continue}ve=n*Z[0+C]+128>>8,ne=n*Z[4+C]+128>>8,ie=Z[2+C],V=Z[6+C],ee=o*(Z[1+C]-Z[7+C])+128>>8,I=o*(Z[1+C]+Z[7+C])+128>>8,$=Z[3+C]<<4,G=Z[5+C]<<4,P=ve-ne+1>>1,ve=ve+ne+1>>1,ne=P,P=ie*f+V*s+128>>8,ie=ie*s-V*f+128>>8,V=P,P=ee-G+1>>1,ee=ee+G+1>>1,G=P,P=I+$+1>>1,$=I-$+1>>1,I=P,P=ve-V+1>>1,ve=ve+V+1>>1,V=P,P=ne-ie+1>>1,ne=ne+ie+1>>1,ie=P,P=ee*e+I*t+2048>>12,ee=ee*t-I*e+2048>>12,I=P,P=$*i+G*a+2048>>12,$=$*a-G*i+2048>>12,G=P,Z[0+C]=ve+I,Z[7+C]=ve-I,Z[1+C]=ne+G,Z[6+C]=ne-G,Z[2+C]=ie+$,Z[5+C]=ie-$,Z[3+C]=V+ee,Z[4+C]=V-ee}for(U=0;U<8;++U){var A=U;if(Z[8+A]==0&&Z[16+A]==0&&Z[24+A]==0&&Z[32+A]==0&&Z[40+A]==0&&Z[48+A]==0&&Z[56+A]==0){P=n*le[U+0]+8192>>14,Z[0+A]=P,Z[8+A]=P,Z[16+A]=P,Z[24+A]=P,Z[32+A]=P,Z[40+A]=P,Z[48+A]=P,Z[56+A]=P;continue}ve=n*Z[0+A]+2048>>12,ne=n*Z[32+A]+2048>>12,ie=Z[16+A],V=Z[48+A],ee=o*(Z[8+A]-Z[56+A])+2048>>12,I=o*(Z[8+A]+Z[56+A])+2048>>12,$=Z[24+A],G=Z[40+A],P=ve-ne+1>>1,ve=ve+ne+1>>1,ne=P,P=ie*f+V*s+2048>>12,ie=ie*s-V*f+2048>>12,V=P,P=ee-G+1>>1,ee=ee+G+1>>1,G=P,P=I+$+1>>1,$=I-$+1>>1,I=P,P=ve-V+1>>1,ve=ve+V+1>>1,V=P,P=ne-ie+1>>1,ne=ne+ie+1>>1,ie=P,P=ee*e+I*t+2048>>12,ee=ee*t-I*e+2048>>12,I=P,P=$*i+G*a+2048>>12,$=$*a-G*i+2048>>12,G=P,Z[0+A]=ve+I,Z[56+A]=ve-I,Z[8+A]=ne+G,Z[48+A]=ne-G,Z[16+A]=ie+$,Z[40+A]=ie-$,Z[24+A]=V+ee,Z[32+A]=V-ee}for(U=0;U<64;++U){var X=128+(Z[U]+8>>4);se[U]=X<0?0:X>255?255:X}}y(z*x*8);for(var W,q,te=0;te<x;te++){var K=te<<3;for(W=0;W<8;W++)L.push(new Uint8Array(z));for(var F=0;F<T;F++){D(R.blocks[te][F],O,k);var Y=0,j=F<<3;for(q=0;q<8;q++){var Q=L[K+q];for(W=0;W<8;W++)Q[j+W]=O[Y++]}}}return L}function v(S){return S<0?0:S>255?255:S}r.prototype={load:function(R){var L=new XMLHttpRequest;L.open("GET",R,!0),L.responseType="arraybuffer",L.onload=(function(){var T=new Uint8Array(L.response||L.mozResponseArrayBuffer);this.parse(T),this.onload&&this.onload()}).bind(this),L.send(null)},parse:function(R){var L=this.opts.maxResolutionInMP*1e3*1e3,T=0;R.length;function x(){var Oe=R[T]<<8|R[T+1];return T+=2,Oe}function z(){var Oe=x(),N=R.subarray(T,T+Oe-2);return T+=N.length,N}function k(Oe){var N=0,ce=0,de,ye;for(ye in Oe.components)Oe.components.hasOwnProperty(ye)&&(de=Oe.components[ye],N<de.h&&(N=de.h),ce<de.v&&(ce=de.v));var he=Math.ceil(Oe.samplesPerLine/8/N),ge=Math.ceil(Oe.scanLines/8/ce);for(ye in Oe.components)if(Oe.components.hasOwnProperty(ye)){de=Oe.components[ye];var J=Math.ceil(Math.ceil(Oe.samplesPerLine/8)*de.h/N),we=Math.ceil(Math.ceil(Oe.scanLines/8)*de.v/ce),ke=he*de.h,m=ge*de.v,ue=m*ke,me=[];y(ue*256);for(var B=0;B<m;B++){for(var oe=[],be=0;be<ke;be++)oe.push(new Int32Array(64));me.push(oe)}de.blocksPerLine=J,de.blocksPerColumn=we,de.blocks=me}Oe.maxH=N,Oe.maxV=ce,Oe.mcusPerLine=he,Oe.mcusPerColumn=ge}var O=null,D=null,W,q,te=[],K=[],F=[],Y=[],j=x();if(j!=65496)throw new Error("SOI not found");for(j=x();j!=65497;){var Q,re;switch(j){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var se=z();j===65504&&se[0]===74&&se[1]===70&&se[2]===73&&se[3]===70&&se[4]===0&&(O={version:{major:se[5],minor:se[6]},densityUnits:se[7],xDensity:se[8]<<8|se[9],yDensity:se[10]<<8|se[11],thumbWidth:se[12],thumbHeight:se[13],thumbData:se.subarray(14,14+3*se[12]*se[13])}),j===65505&&se[0]===69&&se[1]===120&&se[2]===105&&se[3]===102&&se[4]===0&&(this.exifBuffer=se.subarray(5,se.length)),j===65518&&se[0]===65&&se[1]===100&&se[2]===111&&se[3]===98&&se[4]===101&&se[5]===0&&(D={version:se[6],flags0:se[7]<<8|se[8],flags1:se[9]<<8|se[10],transformCode:se[11]});break;case 65499:for(var le=x(),fe=le+T-2;T<fe;){var ve=R[T++];y(256);var ne=new Int32Array(64);if(ve>>4===0)for(re=0;re<64;re++){var ie=l[re];ne[ie]=R[T++]}else if(ve>>4===1)for(re=0;re<64;re++){var ie=l[re];ne[ie]=x()}else throw new Error("DQT: invalid table spec");te[ve&15]=ne}break;case 65472:case 65473:case 65474:x(),W={},W.extended=j===65473,W.progressive=j===65474,W.precision=R[T++],W.scanLines=x(),W.samplesPerLine=x(),W.components={},W.componentsOrder=[];var V=W.scanLines*W.samplesPerLine;if(V>L){var ee=Math.ceil((V-L)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${ee}MP`)}var $=R[T++],G;for(Q=0;Q<$;Q++){G=R[T];var I=R[T+1]>>4,P=R[T+1]&15,Z=R[T+2];W.componentsOrder.push(G),W.components[G]={h:I,v:P,quantizationIdx:Z},T+=3}k(W),K.push(W);break;case 65476:var U=x();for(Q=2;Q<U;){var C=R[T++],A=new Uint8Array(16),X=0;for(re=0;re<16;re++,T++)X+=A[re]=R[T];y(16+X);var ae=new Uint8Array(X);for(re=0;re<X;re++,T++)ae[re]=R[T];Q+=17+X,(C>>4===0?Y:F)[C&15]=h(A,ae)}break;case 65501:x(),q=x();break;case 65498:x();var pe=R[T++],_e=[],Ee;for(Q=0;Q<pe;Q++){Ee=W.components[R[T++]];var Pe=R[T++];Ee.huffmanTableDC=Y[Pe>>4],Ee.huffmanTableAC=F[Pe&15],_e.push(Ee)}var Re=R[T++],Ce=R[T++],Me=R[T++],Se=c(R,T,W,_e,q,Re,Ce,Me>>4,Me&15,this.opts);T+=Se;break;case 65535:R[T]!==255&&T--;break;default:if(R[T-3]==255&&R[T-2]>=192&&R[T-2]<=254){T-=3;break}throw new Error("unknown JPEG marker "+j.toString(16))}j=x()}if(K.length!=1)throw new Error("only single frame JPEGs supported");for(var Q=0;Q<K.length;Q++){var Be=K[Q].components;for(var re in Be)Be[re].quantizationTable=te[Be[re].quantizationIdx],delete Be[re].quantizationIdx}this.width=W.samplesPerLine,this.height=W.scanLines,this.jfif=O,this.adobe=D,this.components=[];for(var Q=0;Q<W.componentsOrder.length;Q++){var Ee=W.components[W.componentsOrder[Q]];this.components.push({lines:d(W,Ee),scaleX:Ee.h/W.maxH,scaleY:Ee.v/W.maxV})}},getData:function(R,L){var T=this.width/R,x=this.height/L,z,k,O,D,W,q,te,K,F,Y,j=0,Q,re,se,le,fe,ve,ne,ie,V,ee,$,G=R*L*this.components.length;y(G);var I=new Uint8Array(G);switch(this.components.length){case 1:for(z=this.components[0],Y=0;Y<L;Y++)for(W=z.lines[0|Y*z.scaleY*x],F=0;F<R;F++)Q=W[0|F*z.scaleX*T],I[j++]=Q;break;case 2:for(z=this.components[0],k=this.components[1],Y=0;Y<L;Y++)for(W=z.lines[0|Y*z.scaleY*x],q=k.lines[0|Y*k.scaleY*x],F=0;F<R;F++)Q=W[0|F*z.scaleX*T],I[j++]=Q,Q=q[0|F*k.scaleX*T],I[j++]=Q;break;case 3:for($=!0,this.adobe&&this.adobe.transformCode?$=!0:typeof this.opts.colorTransform<"u"&&($=!!this.opts.colorTransform),z=this.components[0],k=this.components[1],O=this.components[2],Y=0;Y<L;Y++)for(W=z.lines[0|Y*z.scaleY*x],q=k.lines[0|Y*k.scaleY*x],te=O.lines[0|Y*O.scaleY*x],F=0;F<R;F++)$?(Q=W[0|F*z.scaleX*T],re=q[0|F*k.scaleX*T],se=te[0|F*O.scaleX*T],ie=v(Q+1.402*(se-128)),V=v(Q-.3441363*(re-128)-.71413636*(se-128)),ee=v(Q+1.772*(re-128))):(ie=W[0|F*z.scaleX*T],V=q[0|F*k.scaleX*T],ee=te[0|F*O.scaleX*T]),I[j++]=ie,I[j++]=V,I[j++]=ee;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for($=!1,this.adobe&&this.adobe.transformCode?$=!0:typeof this.opts.colorTransform<"u"&&($=!!this.opts.colorTransform),z=this.components[0],k=this.components[1],O=this.components[2],D=this.components[3],Y=0;Y<L;Y++)for(W=z.lines[0|Y*z.scaleY*x],q=k.lines[0|Y*k.scaleY*x],te=O.lines[0|Y*O.scaleY*x],K=D.lines[0|Y*D.scaleY*x],F=0;F<R;F++)$?(Q=W[0|F*z.scaleX*T],re=q[0|F*k.scaleX*T],se=te[0|F*O.scaleX*T],le=K[0|F*D.scaleX*T],fe=255-v(Q+1.402*(se-128)),ve=255-v(Q-.3441363*(re-128)-.71413636*(se-128)),ne=255-v(Q+1.772*(re-128))):(fe=W[0|F*z.scaleX*T],ve=q[0|F*k.scaleX*T],ne=te[0|F*O.scaleX*T],le=K[0|F*D.scaleX*T]),I[j++]=255-fe,I[j++]=255-ve,I[j++]=255-ne,I[j++]=255-le;break;default:throw new Error("Unsupported color mode")}return I},copyToImageData:function(R,L){var T=R.width,x=R.height,z=R.data,k=this.getData(T,x),O=0,D=0,W,q,te,K,F,Y,j,Q,re;switch(this.components.length){case 1:for(q=0;q<x;q++)for(W=0;W<T;W++)te=k[O++],z[D++]=te,z[D++]=te,z[D++]=te,L&&(z[D++]=255);break;case 3:for(q=0;q<x;q++)for(W=0;W<T;W++)j=k[O++],Q=k[O++],re=k[O++],z[D++]=j,z[D++]=Q,z[D++]=re,L&&(z[D++]=255);break;case 4:for(q=0;q<x;q++)for(W=0;W<T;W++)F=k[O++],Y=k[O++],te=k[O++],K=k[O++],j=255-v(F*(1-K/255)+K),Q=255-v(Y*(1-K/255)+K),re=255-v(te*(1-K/255)+K),z[D++]=j,z[D++]=Q,z[D++]=re,L&&(z[D++]=255);break;default:throw new Error("Unsupported color mode")}}};var _=0,b=0;function y(S=0){var R=_+S;if(R>b){var L=Math.ceil((R-b)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${L}MB`)}_=R}return r.resetMaxMemoryUsage=function(S){_=0,b=S},r.getBytesAllocated=function(){return _},r.requestMemoryAllocation=y,r})();typeof H<"u"?H.exports=u:typeof Ie<"u"&&(Ie["jpeg-js"]=Ie["jpeg-js"]||{},Ie["jpeg-js"].decode=u);function u(p,l={}){var a={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},i={...a,...l},t=new Uint8Array(p),e=new g;e.opts=i,g.resetMaxMemoryUsage(i.maxMemoryUsageInMB*1024*1024),e.parse(t);var s=i.formatAsRGBA?4:3,f=e.width*e.height*s;try{g.requestMemoryAllocation(f);var n={width:e.width,height:e.height,exifBuffer:e.exifBuffer,data:i.useTArray?new Uint8Array(f):new E(f)}}catch(o){throw o instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+f):o}return e.copyToImageData(n,i.formatAsRGBA),n}}).call(this,M("buffer").Buffer)},{buffer:48}],82:[function(M,H,w){(function(E){function g(p){var l=Math.floor,a=new Array(64),i=new Array(64),t=new Array(64),e=new Array(64),s,f,n,o,r=new Array(65535),h=new Array(65535),c=new Array(64),d=new Array(64),v=[],_=0,b=7,y=new Array(64),S=new Array(64),R=new Array(64),L=new Array(256),T=new Array(2048),x,z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(A){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var pe=l((X[ae]*A+50)/100);pe<1?pe=1:pe>255&&(pe=255),a[z[ae]]=pe}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Pe=l((_e[Ee]*A+50)/100);Pe<1?Pe=1:Pe>255&&(Pe=255),i[z[Ee]]=Pe}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Me=0;Me<8;Me++)for(var Se=0;Se<8;Se++)t[Ce]=1/(a[z[Ce]]*Re[Me]*Re[Se]*8),e[Ce]=1/(i[z[Ce]]*Re[Me]*Re[Se]*8),Ce++}function j(A,X){for(var ae=0,pe=0,_e=new Array,Ee=1;Ee<=16;Ee++){for(var Pe=1;Pe<=A[Ee];Pe++)_e[X[pe]]=[],_e[X[pe]][0]=ae,_e[X[pe]][1]=Ee,pe++,ae++;ae*=2}return _e}function Q(){s=j(k,O),f=j(q,te),n=j(D,W),o=j(K,F)}function re(){for(var A=1,X=2,ae=1;ae<=15;ae++){for(var pe=A;pe<X;pe++)h[32767+pe]=ae,r[32767+pe]=[],r[32767+pe][1]=ae,r[32767+pe][0]=pe;for(var _e=-(X-1);_e<=-A;_e++)h[32767+_e]=ae,r[32767+_e]=[],r[32767+_e][1]=ae,r[32767+_e][0]=X-1+_e;A<<=1,X<<=1}}function se(){for(var A=0;A<256;A++)T[A]=19595*A,T[A+256>>0]=38470*A,T[A+512>>0]=7471*A+32768,T[A+768>>0]=-11059*A,T[A+1024>>0]=-21709*A,T[A+1280>>0]=32768*A+8421375,T[A+1536>>0]=-27439*A,T[A+1792>>0]=-5329*A}function le(A){for(var X=A[0],ae=A[1]-1;ae>=0;)X&1<<ae&&(_|=1<<b),ae--,b--,b<0&&(_==255?(fe(255),fe(0)):fe(_),b=7,_=0)}function fe(A){v.push(A)}function ve(A){fe(A>>8&255),fe(A&255)}function ne(A,X){var ae,pe,_e,Ee,Pe,Re,Ce,Me,Se=0,Be,Oe=8,N=64;for(Be=0;Be<Oe;++Be){ae=A[Se],pe=A[Se+1],_e=A[Se+2],Ee=A[Se+3],Pe=A[Se+4],Re=A[Se+5],Ce=A[Se+6],Me=A[Se+7];var ce=ae+Me,de=ae-Me,ye=pe+Ce,he=pe-Ce,ge=_e+Re,J=_e-Re,we=Ee+Pe,ke=Ee-Pe,m=ce+we,ue=ce-we,me=ye+ge,B=ye-ge;A[Se]=m+me,A[Se+4]=m-me;var oe=(B+ue)*.707106781;A[Se+2]=ue+oe,A[Se+6]=ue-oe,m=ke+J,me=J+he,B=he+de;var be=(m-B)*.382683433,Te=.5411961*m+be,Ae=1.306562965*B+be,Le=me*.707106781,De=de+Le,Ye=de-Le;A[Se+5]=Ye+Te,A[Se+3]=Ye-Te,A[Se+1]=De+Ae,A[Se+7]=De-Ae,Se+=8}for(Se=0,Be=0;Be<Oe;++Be){ae=A[Se],pe=A[Se+8],_e=A[Se+16],Ee=A[Se+24],Pe=A[Se+32],Re=A[Se+40],Ce=A[Se+48],Me=A[Se+56];var Ue=ae+Me,ze=ae-Me,Ge=pe+Ce,He=pe-Ce,Xe=_e+Re,Je=_e-Re,qe=Ee+Pe,je=Ee-Pe,Ve=Ue+qe,We=Ue-qe,Ke=Ge+Xe,Qe=Ge-Xe;A[Se]=Ve+Ke,A[Se+32]=Ve-Ke;var $e=(Qe+We)*.707106781;A[Se+16]=We+$e,A[Se+48]=We-$e,Ve=je+Je,Ke=Je+He,Qe=He+ze;var gt=(Ve-Qe)*.382683433,bt=.5411961*Ve+gt,yt=1.306562965*Qe+gt,wt=Ke*.707106781,Et=ze+wt,St=ze-wt;A[Se+40]=St+bt,A[Se+24]=St-bt,A[Se+8]=Et+yt,A[Se+56]=Et-yt,Se++}var et;for(Be=0;Be<N;++Be)et=A[Be]*X[Be],c[Be]=et>0?et+.5|0:et-.5|0;return c}function ie(){ve(65504),ve(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),ve(1),ve(1),fe(0),fe(0)}function V(A){if(A){ve(65505),A[0]===69&&A[1]===120&&A[2]===105&&A[3]===102?ve(A.length+2):(ve(A.length+5+2),fe(69),fe(120),fe(105),fe(102),fe(0));for(var X=0;X<A.length;X++)fe(A[X])}}function ee(A,X){ve(65472),ve(17),fe(8),ve(X),ve(A),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}function $(){ve(65499),ve(132),fe(0);for(var A=0;A<64;A++)fe(a[A]);fe(1);for(var X=0;X<64;X++)fe(i[X])}function G(){ve(65476),ve(418),fe(0);for(var A=0;A<16;A++)fe(k[A+1]);for(var X=0;X<=11;X++)fe(O[X]);fe(16);for(var ae=0;ae<16;ae++)fe(D[ae+1]);for(var pe=0;pe<=161;pe++)fe(W[pe]);fe(1);for(var _e=0;_e<16;_e++)fe(q[_e+1]);for(var Ee=0;Ee<=11;Ee++)fe(te[Ee]);fe(17);for(var Pe=0;Pe<16;Pe++)fe(K[Pe+1]);for(var Re=0;Re<=161;Re++)fe(F[Re])}function I(){ve(65498),ve(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0)}function P(A,X,ae,pe,_e){for(var Ee=_e[0],Pe=_e[240],Re,Ce=16,Me=63,Se=64,Be=ne(A,X),Oe=0;Oe<Se;++Oe)d[z[Oe]]=Be[Oe];var N=d[0]-ae;ae=d[0],N==0?le(pe[0]):(Re=32767+N,le(pe[h[Re]]),le(r[Re]));for(var ce=63;ce>0&&d[ce]==0;ce--);if(ce==0)return le(Ee),ae;for(var de=1,ye;de<=ce;){for(var he=de;d[de]==0&&de<=ce;++de);var ge=de-he;if(ge>=Ce){ye=ge>>4;for(var J=1;J<=ye;++J)le(Pe);ge=ge&15}Re=32767+d[de],le(_e[(ge<<4)+h[Re]]),le(r[Re]),de++}return ce!=Me&&le(Ee),ae}function Z(){for(var A=String.fromCharCode,X=0;X<256;X++)L[X]=A(X)}this.encode=function(A,X){new Date().getTime(),X&&U(X),v=new Array,_=0,b=7,ve(65496),ie(),V(A.exifBuffer),$(),ee(A.width,A.height),G(),I();var ae=0,pe=0,_e=0;_=0,b=7,this.encode.displayName="_encode_";for(var Ee=A.data,Pe=A.width,Re=A.height,Ce=Pe*4,Me,Se=0,Be,Oe,N,ce,de,ye,he,ge;Se<Re;){for(Me=0;Me<Ce;){for(ce=Ce*Se+Me,de=ce,ye=-1,he=0,ge=0;ge<64;ge++)he=ge>>3,ye=(ge&7)*4,de=ce+he*Ce+ye,Se+he>=Re&&(de-=Ce*(Se+1+he-Re)),Me+ye>=Ce&&(de-=Me+ye-Ce+4),Be=Ee[de++],Oe=Ee[de++],N=Ee[de++],y[ge]=(T[Be]+T[Oe+256>>0]+T[N+512>>0]>>16)-128,S[ge]=(T[Be+768>>0]+T[Oe+1024>>0]+T[N+1280>>0]>>16)-128,R[ge]=(T[Be+1280>>0]+T[Oe+1536>>0]+T[N+1792>>0]>>16)-128;ae=P(y,t,ae,s,n),pe=P(S,e,pe,f,o),_e=P(R,e,_e,f,o),Me+=32}Se+=8}if(b>=0){var J=[];J[1]=b+1,J[0]=(1<<b+1)-1,le(J)}return ve(65497),typeof H>"u"?new Uint8Array(v):new E(v)};function U(A){if(A<=0&&(A=1),A>100&&(A=100),x!=A){var X=0;A<50?X=Math.floor(5e3/A):X=Math.floor(200-A*2),Y(X),x=A}}function C(){var A=new Date().getTime();p||(p=50),Z(),Q(),re(),se(),U(p),new Date().getTime()-A}C()}typeof H<"u"?H.exports=u:typeof Ie<"u"&&(Ie["jpeg-js"]=Ie["jpeg-js"]||{},Ie["jpeg-js"].encode=u);function u(p,l){typeof l>"u"&&(l=50);var a=new g(l),i=a.encode(p,l);return{data:i,width:p.width,height:p.height}}}).call(this,M("buffer").Buffer)},{buffer:48}],83:[function(M,H,w){(function(E){var g=M("path"),u=M("fs"),p=parseInt("0777",8);H.exports=l.mkdirp=l.mkdirP=l;function l(a,i,t,e){typeof i=="function"?(t=i,i={}):(!i||typeof i!="object")&&(i={mode:i});var s=i.mode,f=i.fs||u;s===void 0&&(s=p&~E.umask()),e||(e=null);var n=t||function(){};a=g.resolve(a),f.mkdir(a,s,function(o){if(!o)return e=e||a,n(null,e);switch(o.code){case"ENOENT":l(g.dirname(a),i,function(r,h){r?n(r,h):l(a,i,n,h)});break;default:f.stat(a,function(r,h){r||!h.isDirectory()?n(o,e):n(null,e)});break}})}l.sync=function a(i,t,e){(!t||typeof t!="object")&&(t={mode:t});var s=t.mode,f=t.fs||u;s===void 0&&(s=p&~E.umask()),e||(e=null),i=g.resolve(i);try{f.mkdirSync(i,s),e=e||i}catch(o){switch(o.code){case"ENOENT":e=a(g.dirname(i),t,e),a(i,t,e);break;default:var n;try{n=f.statSync(i)}catch{throw o}if(!n.isDirectory())throw o;break}}return e}}).call(this,M("_process"))},{_process:133,fs:47,path:107}],84:[function(M,H,w){var E=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function p(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function l(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var i={},t=0;t<10;t++)i["_"+String.fromCharCode(t)]=t;var e=Object.getOwnPropertyNames(i).map(function(f){return i[f]});if(e.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(f){s[f]=f}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H.exports=l()?Object.assign:function(a,i){for(var t,e=p(a),s,f=1;f<arguments.length;f++){t=Object(arguments[f]);for(var n in t)g.call(t,n)&&(e[n]=t[n]);if(E){s=E(t);for(var o=0;o<s.length;o++)u.call(t,s[o])&&(e[s[o]]=t[s[o]])}}return e}},{}],85:[function(M,H,w){arguments[4][64][0].apply(w,arguments)},{dup:64}],86:[function(M,H,w){var E=M("./lib/utils/common").assign,g=M("./lib/deflate"),u=M("./lib/inflate"),p=M("./lib/zlib/constants"),l={};E(l,g,u,p),H.exports=l},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(M,H,w){var E=M("./zlib/deflate"),g=M("./utils/common"),u=M("./utils/strings"),p=M("./zlib/messages"),l=M("./zlib/zstream"),a=Object.prototype.toString,i=0,t=4,e=0,s=1,f=2,n=-1,o=0,r=8;function h(_){if(!(this instanceof h))return new h(_);this.options=g.assign({level:n,method:r,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},_||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=E.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(y!==e)throw new Error(p[y]);if(b.header&&E.deflateSetHeader(this.strm,b.header),b.dictionary){var S;if(typeof b.dictionary=="string"?S=u.string2buf(b.dictionary):a.call(b.dictionary)==="[object ArrayBuffer]"?S=new Uint8Array(b.dictionary):S=b.dictionary,y=E.deflateSetDictionary(this.strm,S),y!==e)throw new Error(p[y]);this._dict_set=!0}}h.prototype.push=function(_,b){var y=this.strm,S=this.options.chunkSize,R,L;if(this.ended)return!1;L=b===~~b?b:b===!0?t:i,typeof _=="string"?y.input=u.string2buf(_):a.call(_)==="[object ArrayBuffer]"?y.input=new Uint8Array(_):y.input=_,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new g.Buf8(S),y.next_out=0,y.avail_out=S),R=E.deflate(y,L),R!==s&&R!==e)return this.onEnd(R),this.ended=!0,!1;(y.avail_out===0||y.avail_in===0&&(L===t||L===f))&&(this.options.to==="string"?this.onData(u.buf2binstring(g.shrinkBuf(y.output,y.next_out))):this.onData(g.shrinkBuf(y.output,y.next_out)))}while((y.avail_in>0||y.avail_out===0)&&R!==s);return L===t?(R=E.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===e):(L===f&&(this.onEnd(e),y.avail_out=0),!0)},h.prototype.onData=function(_){this.chunks.push(_)},h.prototype.onEnd=function(_){_===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function c(_,b){var y=new h(b);if(y.push(_,!0),y.err)throw y.msg||p[y.err];return y.result}function d(_,b){return b=b||{},b.raw=!0,c(_,b)}function v(_,b){return b=b||{},b.gzip=!0,c(_,b)}w.Deflate=h,w.deflate=c,w.deflateRaw=d,w.gzip=v},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(M,H,w){var E=M("./zlib/inflate"),g=M("./utils/common"),u=M("./utils/strings"),p=M("./zlib/constants"),l=M("./zlib/messages"),a=M("./zlib/zstream"),i=M("./zlib/gzheader"),t=Object.prototype.toString;function e(n){if(!(this instanceof e))return new e(n);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},n||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(n&&n.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15)===0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=E.inflateInit2(this.strm,o.windowBits);if(r!==p.Z_OK)throw new Error(l[r]);this.header=new i,E.inflateGetHeader(this.strm,this.header)}e.prototype.push=function(n,o){var r=this.strm,h=this.options.chunkSize,c=this.options.dictionary,d,v,_,b,y,S,R=!1;if(this.ended)return!1;v=o===~~o?o:o===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof n=="string"?r.input=u.binstring2buf(n):t.call(n)==="[object ArrayBuffer]"?r.input=new Uint8Array(n):r.input=n,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new g.Buf8(h),r.next_out=0,r.avail_out=h),d=E.inflate(r,p.Z_NO_FLUSH),d===p.Z_NEED_DICT&&c&&(typeof c=="string"?S=u.string2buf(c):t.call(c)==="[object ArrayBuffer]"?S=new Uint8Array(c):S=c,d=E.inflateSetDictionary(this.strm,S)),d===p.Z_BUF_ERROR&&R===!0&&(d=p.Z_OK,R=!1),d!==p.Z_STREAM_END&&d!==p.Z_OK)return this.onEnd(d),this.ended=!0,!1;r.next_out&&(r.avail_out===0||d===p.Z_STREAM_END||r.avail_in===0&&(v===p.Z_FINISH||v===p.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=u.utf8border(r.output,r.next_out),b=r.next_out-_,y=u.buf2string(r.output,_),r.next_out=b,r.avail_out=h-b,b&&g.arraySet(r.output,r.output,_,b,0),this.onData(y)):this.onData(g.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(R=!0)}while((r.avail_in>0||r.avail_out===0)&&d!==p.Z_STREAM_END);return d===p.Z_STREAM_END&&(v=p.Z_FINISH),v===p.Z_FINISH?(d=E.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===p.Z_OK):(v===p.Z_SYNC_FLUSH&&(this.onEnd(p.Z_OK),r.avail_out=0),!0)},e.prototype.onData=function(n){this.chunks.push(n)},e.prototype.onEnd=function(n){n===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function s(n,o){var r=new e(o);if(r.push(n,!0),r.err)throw r.msg||l[r.err];return r.result}function f(n,o){return o=o||{},o.raw=!0,s(n,o)}w.Inflate=e,w.inflate=s,w.inflateRaw=f,w.ungzip=s},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(M,H,w){arguments[4][36][0].apply(w,arguments)},{dup:36}],90:[function(M,H,w){var E=M("./common"),g=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var p=new E.Buf8(256),l=0;l<256;l++)p[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;p[254]=p[254]=1,w.string2buf=function(i){var t,e,s,f,n,o=i.length,r=0;for(f=0;f<o;f++)e=i.charCodeAt(f),(e&64512)===55296&&f+1<o&&(s=i.charCodeAt(f+1),(s&64512)===56320&&(e=65536+(e-55296<<10)+(s-56320),f++)),r+=e<128?1:e<2048?2:e<65536?3:4;for(t=new E.Buf8(r),n=0,f=0;n<r;f++)e=i.charCodeAt(f),(e&64512)===55296&&f+1<o&&(s=i.charCodeAt(f+1),(s&64512)===56320&&(e=65536+(e-55296<<10)+(s-56320),f++)),e<128?t[n++]=e:e<2048?(t[n++]=192|e>>>6,t[n++]=128|e&63):e<65536?(t[n++]=224|e>>>12,t[n++]=128|e>>>6&63,t[n++]=128|e&63):(t[n++]=240|e>>>18,t[n++]=128|e>>>12&63,t[n++]=128|e>>>6&63,t[n++]=128|e&63);return t};function a(i,t){if(t<65537&&(i.subarray&&u||!i.subarray&&g))return String.fromCharCode.apply(null,E.shrinkBuf(i,t));for(var e="",s=0;s<t;s++)e+=String.fromCharCode(i[s]);return e}w.buf2binstring=function(i){return a(i,i.length)},w.binstring2buf=function(i){for(var t=new E.Buf8(i.length),e=0,s=t.length;e<s;e++)t[e]=i.charCodeAt(e);return t},w.buf2string=function(i,t){var e,s,f,n,o=t||i.length,r=new Array(o*2);for(s=0,e=0;e<o;){if(f=i[e++],f<128){r[s++]=f;continue}if(n=p[f],n>4){r[s++]=65533,e+=n-1;continue}for(f&=n===2?31:n===3?15:7;n>1&&e<o;)f=f<<6|i[e++]&63,n--;if(n>1){r[s++]=65533;continue}f<65536?r[s++]=f:(f-=65536,r[s++]=55296|f>>10&1023,r[s++]=56320|f&1023)}return a(r,s)},w.utf8border=function(i,t){var e;for(t=t||i.length,t>i.length&&(t=i.length),e=t-1;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+p[i[e]]>t?e:t}},{"./common":89}],91:[function(M,H,w){arguments[4][37][0].apply(w,arguments)},{dup:37}],92:[function(M,H,w){arguments[4][38][0].apply(w,arguments)},{dup:38}],93:[function(M,H,w){arguments[4][39][0].apply(w,arguments)},{dup:39}],94:[function(M,H,w){var E=M("../utils/common"),g=M("./trees"),u=M("./adler32"),p=M("./crc32"),l=M("./messages"),a=0,i=1,t=3,e=4,s=5,f=0,n=1,o=-2,r=-3,h=-5,c=-1,d=1,v=2,_=3,b=4,y=0,S=2,R=8,L=9,T=15,x=8,z=29,k=256,O=k+1+z,D=30,W=19,q=2*O+1,te=15,K=3,F=258,Y=F+K+1,j=32,Q=42,re=69,se=73,le=91,fe=103,ve=113,ne=666,ie=1,V=2,ee=3,$=4,G=3;function I(m,ue){return m.msg=l[ue],ue}function P(m){return(m<<1)-(m>4?9:0)}function Z(m){for(var ue=m.length;--ue>=0;)m[ue]=0}function U(m){var ue=m.state,me=ue.pending;me>m.avail_out&&(me=m.avail_out),me!==0&&(E.arraySet(m.output,ue.pending_buf,ue.pending_out,me,m.next_out),m.next_out+=me,ue.pending_out+=me,m.total_out+=me,m.avail_out-=me,ue.pending-=me,ue.pending===0&&(ue.pending_out=0))}function C(m,ue){g._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,ue),m.block_start=m.strstart,U(m.strm)}function A(m,ue){m.pending_buf[m.pending++]=ue}function X(m,ue){m.pending_buf[m.pending++]=ue>>>8&255,m.pending_buf[m.pending++]=ue&255}function ae(m,ue,me,B){var oe=m.avail_in;return oe>B&&(oe=B),oe===0?0:(m.avail_in-=oe,E.arraySet(ue,m.input,m.next_in,oe,me),m.state.wrap===1?m.adler=u(m.adler,ue,oe,me):m.state.wrap===2&&(m.adler=p(m.adler,ue,oe,me)),m.next_in+=oe,m.total_in+=oe,oe)}function pe(m,ue){var me=m.max_chain_length,B=m.strstart,oe,be,Te=m.prev_length,Ae=m.nice_match,Le=m.strstart>m.w_size-Y?m.strstart-(m.w_size-Y):0,De=m.window,Ye=m.w_mask,Ue=m.prev,ze=m.strstart+F,Ge=De[B+Te-1],He=De[B+Te];m.prev_length>=m.good_match&&(me>>=2),Ae>m.lookahead&&(Ae=m.lookahead);do if(oe=ue,!(De[oe+Te]!==He||De[oe+Te-1]!==Ge||De[oe]!==De[B]||De[++oe]!==De[B+1])){B+=2,oe++;do;while(De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&De[++B]===De[++oe]&&B<ze);if(be=F-(ze-B),B=ze-F,be>Te){if(m.match_start=ue,Te=be,be>=Ae)break;Ge=De[B+Te-1],He=De[B+Te]}}while((ue=Ue[ue&Ye])>Le&&--me!==0);return Te<=m.lookahead?Te:m.lookahead}function _e(m){var ue=m.w_size,me,B,oe,be,Te;do{if(be=m.window_size-m.lookahead-m.strstart,m.strstart>=ue+(ue-Y)){E.arraySet(m.window,m.window,ue,ue,0),m.match_start-=ue,m.strstart-=ue,m.block_start-=ue,B=m.hash_size,me=B;do oe=m.head[--me],m.head[me]=oe>=ue?oe-ue:0;while(--B);B=ue,me=B;do oe=m.prev[--me],m.prev[me]=oe>=ue?oe-ue:0;while(--B);be+=ue}if(m.strm.avail_in===0)break;if(B=ae(m.strm,m.window,m.strstart+m.lookahead,be),m.lookahead+=B,m.lookahead+m.insert>=K)for(Te=m.strstart-m.insert,m.ins_h=m.window[Te],m.ins_h=(m.ins_h<<m.hash_shift^m.window[Te+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[Te+K-1])&m.hash_mask,m.prev[Te&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=Te,Te++,m.insert--,!(m.lookahead+m.insert<K)););}while(m.lookahead<Y&&m.strm.avail_in!==0)}function Ee(m,ue){var me=65535;for(me>m.pending_buf_size-5&&(me=m.pending_buf_size-5);;){if(m.lookahead<=1){if(_e(m),m.lookahead===0&&ue===a)return ie;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var B=m.block_start+me;if((m.strstart===0||m.strstart>=B)&&(m.lookahead=m.strstart-B,m.strstart=B,C(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-Y&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=0,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):(m.strstart>m.block_start&&(C(m,!1),m.strm.avail_out===0),ie)}function Pe(m,ue){for(var me,B;;){if(m.lookahead<Y){if(_e(m),m.lookahead<Y&&ue===a)return ie;if(m.lookahead===0)break}if(me=0,m.lookahead>=K&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),me!==0&&m.strstart-me<=m.w_size-Y&&(m.match_length=pe(m,me)),m.match_length>=K)if(B=g._tr_tally(m,m.strstart-m.match_start,m.match_length-K),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=K){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else B=g._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(B&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=m.strstart<K-1?m.strstart:K-1,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Re(m,ue){for(var me,B,oe;;){if(m.lookahead<Y){if(_e(m),m.lookahead<Y&&ue===a)return ie;if(m.lookahead===0)break}if(me=0,m.lookahead>=K&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=K-1,me!==0&&m.prev_length<m.max_lazy_match&&m.strstart-me<=m.w_size-Y&&(m.match_length=pe(m,me),m.match_length<=5&&(m.strategy===d||m.match_length===K&&m.strstart-m.match_start>4096)&&(m.match_length=K-1)),m.prev_length>=K&&m.match_length<=m.prev_length){oe=m.strstart+m.lookahead-K,B=g._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-K),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=oe&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+K-1])&m.hash_mask,me=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=K-1,m.strstart++,B&&(C(m,!1),m.strm.avail_out===0))return ie}else if(m.match_available){if(B=g._tr_tally(m,0,m.window[m.strstart-1]),B&&C(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return ie}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(B=g._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<K-1?m.strstart:K-1,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Ce(m,ue){for(var me,B,oe,be,Te=m.window;;){if(m.lookahead<=F){if(_e(m),m.lookahead<=F&&ue===a)return ie;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=K&&m.strstart>0&&(oe=m.strstart-1,B=Te[oe],B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe])){be=m.strstart+F;do;while(B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&B===Te[++oe]&&oe<be);m.match_length=F-(be-oe),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=K?(me=g._tr_tally(m,1,m.match_length-K),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(me=g._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),me&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=0,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Me(m,ue){for(var me;;){if(m.lookahead===0&&(_e(m),m.lookahead===0)){if(ue===a)return ie;break}if(m.match_length=0,me=g._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,me&&(C(m,!1),m.strm.avail_out===0))return ie}return m.insert=0,ue===e?(C(m,!0),m.strm.avail_out===0?ee:$):m.last_lit&&(C(m,!1),m.strm.avail_out===0)?ie:V}function Se(m,ue,me,B,oe){this.good_length=m,this.max_lazy=ue,this.nice_length=me,this.max_chain=B,this.func=oe}var Be;Be=[new Se(0,0,0,0,Ee),new Se(4,4,8,4,Pe),new Se(4,5,16,8,Pe),new Se(4,6,32,32,Pe),new Se(4,4,16,16,Re),new Se(8,16,32,32,Re),new Se(8,16,128,128,Re),new Se(8,32,128,256,Re),new Se(32,128,258,1024,Re),new Se(32,258,258,4096,Re)];function Oe(m){m.window_size=2*m.w_size,Z(m.head),m.max_lazy_match=Be[m.level].max_lazy,m.good_match=Be[m.level].good_length,m.nice_match=Be[m.level].nice_length,m.max_chain_length=Be[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=K-1,m.match_available=0,m.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(q*2),this.dyn_dtree=new E.Buf16((2*D+1)*2),this.bl_tree=new E.Buf16((2*W+1)*2),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(te+1),this.heap=new E.Buf16(2*O+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*O+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(m){var ue;return!m||!m.state?I(m,o):(m.total_in=m.total_out=0,m.data_type=S,ue=m.state,ue.pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?Q:ve,m.adler=ue.wrap===2?0:1,ue.last_flush=a,g._tr_init(ue),f)}function de(m){var ue=ce(m);return ue===f&&Oe(m.state),ue}function ye(m,ue){return!m||!m.state||m.state.wrap!==2?o:(m.state.gzhead=ue,f)}function he(m,ue,me,B,oe,be){if(!m)return o;var Te=1;if(ue===c&&(ue=6),B<0?(Te=0,B=-B):B>15&&(Te=2,B-=16),oe<1||oe>L||me!==R||B<8||B>15||ue<0||ue>9||be<0||be>b)return I(m,o);B===8&&(B=9);var Ae=new N;return m.state=Ae,Ae.strm=m,Ae.wrap=Te,Ae.gzhead=null,Ae.w_bits=B,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=oe+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+K-1)/K),Ae.window=new E.Buf8(Ae.w_size*2),Ae.head=new E.Buf16(Ae.hash_size),Ae.prev=new E.Buf16(Ae.w_size),Ae.lit_bufsize=1<<oe+6,Ae.pending_buf_size=Ae.lit_bufsize*4,Ae.pending_buf=new E.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=ue,Ae.strategy=be,Ae.method=me,de(m)}function ge(m,ue){return he(m,ue,R,T,x,y)}function J(m,ue){var me,B,oe,be;if(!m||!m.state||ue>s||ue<0)return m?I(m,o):o;if(B=m.state,!m.output||!m.input&&m.avail_in!==0||B.status===ne&&ue!==e)return I(m,m.avail_out===0?h:o);if(B.strm=m,me=B.last_flush,B.last_flush=ue,B.status===Q)if(B.wrap===2)m.adler=0,A(B,31),A(B,139),A(B,8),B.gzhead?(A(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),A(B,B.gzhead.time&255),A(B,B.gzhead.time>>8&255),A(B,B.gzhead.time>>16&255),A(B,B.gzhead.time>>24&255),A(B,B.level===9?2:B.strategy>=v||B.level<2?4:0),A(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(A(B,B.gzhead.extra.length&255),A(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(m.adler=p(m.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=re):(A(B,0),A(B,0),A(B,0),A(B,0),A(B,0),A(B,B.level===9?2:B.strategy>=v||B.level<2?4:0),A(B,G),B.status=ve);else{var Te=R+(B.w_bits-8<<4)<<8,Ae=-1;B.strategy>=v||B.level<2?Ae=0:B.level<6?Ae=1:B.level===6?Ae=2:Ae=3,Te|=Ae<<6,B.strstart!==0&&(Te|=j),Te+=31-Te%31,B.status=ve,X(B,Te),B.strstart!==0&&(X(B,m.adler>>>16),X(B,m.adler&65535)),m.adler=1}if(B.status===re)if(B.gzhead.extra){for(oe=B.pending;B.gzindex<(B.gzhead.extra.length&65535)&&!(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),U(m),oe=B.pending,B.pending===B.pending_buf_size));)A(B,B.gzhead.extra[B.gzindex]&255),B.gzindex++;B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=se)}else B.status=se;if(B.status===se)if(B.gzhead.name){oe=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),U(m),oe=B.pending,B.pending===B.pending_buf_size)){be=1;break}B.gzindex<B.gzhead.name.length?be=B.gzhead.name.charCodeAt(B.gzindex++)&255:be=0,A(B,be)}while(be!==0);B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),be===0&&(B.gzindex=0,B.status=le)}else B.status=le;if(B.status===le)if(B.gzhead.comment){oe=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),U(m),oe=B.pending,B.pending===B.pending_buf_size)){be=1;break}B.gzindex<B.gzhead.comment.length?be=B.gzhead.comment.charCodeAt(B.gzindex++)&255:be=0,A(B,be)}while(be!==0);B.gzhead.hcrc&&B.pending>oe&&(m.adler=p(m.adler,B.pending_buf,B.pending-oe,oe)),be===0&&(B.status=fe)}else B.status=fe;if(B.status===fe&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&U(m),B.pending+2<=B.pending_buf_size&&(A(B,m.adler&255),A(B,m.adler>>8&255),m.adler=0,B.status=ve)):B.status=ve),B.pending!==0){if(U(m),m.avail_out===0)return B.last_flush=-1,f}else if(m.avail_in===0&&P(ue)<=P(me)&&ue!==e)return I(m,h);if(B.status===ne&&m.avail_in!==0)return I(m,h);if(m.avail_in!==0||B.lookahead!==0||ue!==a&&B.status!==ne){var Le=B.strategy===v?Me(B,ue):B.strategy===_?Ce(B,ue):Be[B.level].func(B,ue);if((Le===ee||Le===$)&&(B.status=ne),Le===ie||Le===ee)return m.avail_out===0&&(B.last_flush=-1),f;if(Le===V&&(ue===i?g._tr_align(B):ue!==s&&(g._tr_stored_block(B,0,0,!1),ue===t&&(Z(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),U(m),m.avail_out===0))return B.last_flush=-1,f}return ue!==e?f:B.wrap<=0?n:(B.wrap===2?(A(B,m.adler&255),A(B,m.adler>>8&255),A(B,m.adler>>16&255),A(B,m.adler>>24&255),A(B,m.total_in&255),A(B,m.total_in>>8&255),A(B,m.total_in>>16&255),A(B,m.total_in>>24&255)):(X(B,m.adler>>>16),X(B,m.adler&65535)),U(m),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?f:n)}function we(m){var ue;return!m||!m.state?o:(ue=m.state.status,ue!==Q&&ue!==re&&ue!==se&&ue!==le&&ue!==fe&&ue!==ve&&ue!==ne?I(m,o):(m.state=null,ue===ve?I(m,r):f))}function ke(m,ue){var me=ue.length,B,oe,be,Te,Ae,Le,De,Ye;if(!m||!m.state||(B=m.state,Te=B.wrap,Te===2||Te===1&&B.status!==Q||B.lookahead))return o;for(Te===1&&(m.adler=u(m.adler,ue,me,0)),B.wrap=0,me>=B.w_size&&(Te===0&&(Z(B.head),B.strstart=0,B.block_start=0,B.insert=0),Ye=new E.Buf8(B.w_size),E.arraySet(Ye,ue,me-B.w_size,B.w_size,0),ue=Ye,me=B.w_size),Ae=m.avail_in,Le=m.next_in,De=m.input,m.avail_in=me,m.next_in=0,m.input=ue,_e(B);B.lookahead>=K;){oe=B.strstart,be=B.lookahead-(K-1);do B.ins_h=(B.ins_h<<B.hash_shift^B.window[oe+K-1])&B.hash_mask,B.prev[oe&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=oe,oe++;while(--be);B.strstart=oe,B.lookahead=K-1,_e(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=K-1,B.match_available=0,m.next_in=Le,m.input=De,m.avail_in=Ae,B.wrap=Te,f}w.deflateInit=ge,w.deflateInit2=he,w.deflateReset=de,w.deflateResetKeep=ce,w.deflateSetHeader=ye,w.deflate=J,w.deflateEnd=we,w.deflateSetDictionary=ke,w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(M,H,w){function E(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}H.exports=E},{}],96:[function(M,H,w){arguments[4][41][0].apply(w,arguments)},{dup:41}],97:[function(M,H,w){arguments[4][42][0].apply(w,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(M,H,w){arguments[4][43][0].apply(w,arguments)},{"../utils/common":89,dup:43}],99:[function(M,H,w){arguments[4][44][0].apply(w,arguments)},{dup:44}],100:[function(M,H,w){var E=M("../utils/common"),g=4,u=0,p=1,l=2;function a(N){for(var ce=N.length;--ce>=0;)N[ce]=0}var i=0,t=1,e=2,s=3,f=258,n=29,o=256,r=o+1+n,h=30,c=19,d=2*r+1,v=15,_=16,b=7,y=256,S=16,R=17,L=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,D=new Array((r+2)*2);a(D);var W=new Array(h*2);a(W);var q=new Array(O);a(q);var te=new Array(f-s+1);a(te);var K=new Array(n);a(K);var F=new Array(h);a(F);function Y(N,ce,de,ye,he){this.static_tree=N,this.extra_bits=ce,this.extra_base=de,this.elems=ye,this.max_length=he,this.has_stree=N&&N.length}var j,Q,re;function se(N,ce){this.dyn_tree=N,this.max_code=0,this.stat_desc=ce}function le(N){return N<256?q[N]:q[256+(N>>>7)]}function fe(N,ce){N.pending_buf[N.pending++]=ce&255,N.pending_buf[N.pending++]=ce>>>8&255}function ve(N,ce,de){N.bi_valid>_-de?(N.bi_buf|=ce<<N.bi_valid&65535,fe(N,N.bi_buf),N.bi_buf=ce>>_-N.bi_valid,N.bi_valid+=de-_):(N.bi_buf|=ce<<N.bi_valid&65535,N.bi_valid+=de)}function ne(N,ce,de){ve(N,de[ce*2],de[ce*2+1])}function ie(N,ce){var de=0;do de|=N&1,N>>>=1,de<<=1;while(--ce>0);return de>>>1}function V(N){N.bi_valid===16?(fe(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function ee(N,ce){var de=ce.dyn_tree,ye=ce.max_code,he=ce.stat_desc.static_tree,ge=ce.stat_desc.has_stree,J=ce.stat_desc.extra_bits,we=ce.stat_desc.extra_base,ke=ce.stat_desc.max_length,m,ue,me,B,oe,be,Te=0;for(B=0;B<=v;B++)N.bl_count[B]=0;for(de[N.heap[N.heap_max]*2+1]=0,m=N.heap_max+1;m<d;m++)ue=N.heap[m],B=de[de[ue*2+1]*2+1]+1,B>ke&&(B=ke,Te++),de[ue*2+1]=B,!(ue>ye)&&(N.bl_count[B]++,oe=0,ue>=we&&(oe=J[ue-we]),be=de[ue*2],N.opt_len+=be*(B+oe),ge&&(N.static_len+=be*(he[ue*2+1]+oe)));if(Te!==0){do{for(B=ke-1;N.bl_count[B]===0;)B--;N.bl_count[B]--,N.bl_count[B+1]+=2,N.bl_count[ke]--,Te-=2}while(Te>0);for(B=ke;B!==0;B--)for(ue=N.bl_count[B];ue!==0;)me=N.heap[--m],!(me>ye)&&(de[me*2+1]!==B&&(N.opt_len+=(B-de[me*2+1])*de[me*2],de[me*2+1]=B),ue--)}}function $(N,ce,de){var ye=new Array(v+1),he=0,ge,J;for(ge=1;ge<=v;ge++)ye[ge]=he=he+de[ge-1]<<1;for(J=0;J<=ce;J++){var we=N[J*2+1];we!==0&&(N[J*2]=ie(ye[we]++,we))}}function G(){var N,ce,de,ye,he,ge=new Array(v+1);for(de=0,ye=0;ye<n-1;ye++)for(K[ye]=de,N=0;N<1<<T[ye];N++)te[de++]=ye;for(te[de-1]=ye,he=0,ye=0;ye<16;ye++)for(F[ye]=he,N=0;N<1<<x[ye];N++)q[he++]=ye;for(he>>=7;ye<h;ye++)for(F[ye]=he<<7,N=0;N<1<<x[ye]-7;N++)q[256+he++]=ye;for(ce=0;ce<=v;ce++)ge[ce]=0;for(N=0;N<=143;)D[N*2+1]=8,N++,ge[8]++;for(;N<=255;)D[N*2+1]=9,N++,ge[9]++;for(;N<=279;)D[N*2+1]=7,N++,ge[7]++;for(;N<=287;)D[N*2+1]=8,N++,ge[8]++;for($(D,r+1,ge),N=0;N<h;N++)W[N*2+1]=5,W[N*2]=ie(N,5);j=new Y(D,T,o+1,r,v),Q=new Y(W,x,0,h,v),re=new Y(new Array(0),z,0,c,b)}function I(N){var ce;for(ce=0;ce<r;ce++)N.dyn_ltree[ce*2]=0;for(ce=0;ce<h;ce++)N.dyn_dtree[ce*2]=0;for(ce=0;ce<c;ce++)N.bl_tree[ce*2]=0;N.dyn_ltree[y*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function P(N){N.bi_valid>8?fe(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Z(N,ce,de,ye){P(N),fe(N,de),fe(N,~de),E.arraySet(N.pending_buf,N.window,ce,de,N.pending),N.pending+=de}function U(N,ce,de,ye){var he=ce*2,ge=de*2;return N[he]<N[ge]||N[he]===N[ge]&&ye[ce]<=ye[de]}function C(N,ce,de){for(var ye=N.heap[de],he=de<<1;he<=N.heap_len&&(he<N.heap_len&&U(ce,N.heap[he+1],N.heap[he],N.depth)&&he++,!U(ce,ye,N.heap[he],N.depth));)N.heap[de]=N.heap[he],de=he,he<<=1;N.heap[de]=ye}function A(N,ce,de){var ye,he,ge=0,J,we;if(N.last_lit!==0)do ye=N.pending_buf[N.d_buf+ge*2]<<8|N.pending_buf[N.d_buf+ge*2+1],he=N.pending_buf[N.l_buf+ge],ge++,ye===0?ne(N,he,ce):(J=te[he],ne(N,J+o+1,ce),we=T[J],we!==0&&(he-=K[J],ve(N,he,we)),ye--,J=le(ye),ne(N,J,de),we=x[J],we!==0&&(ye-=F[J],ve(N,ye,we)));while(ge<N.last_lit);ne(N,y,ce)}function X(N,ce){var de=ce.dyn_tree,ye=ce.stat_desc.static_tree,he=ce.stat_desc.has_stree,ge=ce.stat_desc.elems,J,we,ke=-1,m;for(N.heap_len=0,N.heap_max=d,J=0;J<ge;J++)de[J*2]!==0?(N.heap[++N.heap_len]=ke=J,N.depth[J]=0):de[J*2+1]=0;for(;N.heap_len<2;)m=N.heap[++N.heap_len]=ke<2?++ke:0,de[m*2]=1,N.depth[m]=0,N.opt_len--,he&&(N.static_len-=ye[m*2+1]);for(ce.max_code=ke,J=N.heap_len>>1;J>=1;J--)C(N,de,J);m=ge;do J=N.heap[1],N.heap[1]=N.heap[N.heap_len--],C(N,de,1),we=N.heap[1],N.heap[--N.heap_max]=J,N.heap[--N.heap_max]=we,de[m*2]=de[J*2]+de[we*2],N.depth[m]=(N.depth[J]>=N.depth[we]?N.depth[J]:N.depth[we])+1,de[J*2+1]=de[we*2+1]=m,N.heap[1]=m++,C(N,de,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],ee(N,ce),$(de,ke,N.bl_count)}function ae(N,ce,de){var ye,he=-1,ge,J=ce[1],we=0,ke=7,m=4;for(J===0&&(ke=138,m=3),ce[(de+1)*2+1]=65535,ye=0;ye<=de;ye++)ge=J,J=ce[(ye+1)*2+1],!(++we<ke&&ge===J)&&(we<m?N.bl_tree[ge*2]+=we:ge!==0?(ge!==he&&N.bl_tree[ge*2]++,N.bl_tree[S*2]++):we<=10?N.bl_tree[R*2]++:N.bl_tree[L*2]++,we=0,he=ge,J===0?(ke=138,m=3):ge===J?(ke=6,m=3):(ke=7,m=4))}function pe(N,ce,de){var ye,he=-1,ge,J=ce[1],we=0,ke=7,m=4;for(J===0&&(ke=138,m=3),ye=0;ye<=de;ye++)if(ge=J,J=ce[(ye+1)*2+1],!(++we<ke&&ge===J)){if(we<m)do ne(N,ge,N.bl_tree);while(--we!==0);else ge!==0?(ge!==he&&(ne(N,ge,N.bl_tree),we--),ne(N,S,N.bl_tree),ve(N,we-3,2)):we<=10?(ne(N,R,N.bl_tree),ve(N,we-3,3)):(ne(N,L,N.bl_tree),ve(N,we-11,7));we=0,he=ge,J===0?(ke=138,m=3):ge===J?(ke=6,m=3):(ke=7,m=4)}}function _e(N){var ce;for(ae(N,N.dyn_ltree,N.l_desc.max_code),ae(N,N.dyn_dtree,N.d_desc.max_code),X(N,N.bl_desc),ce=c-1;ce>=3&&N.bl_tree[k[ce]*2+1]===0;ce--);return N.opt_len+=3*(ce+1)+5+5+4,ce}function Ee(N,ce,de,ye){var he;for(ve(N,ce-257,5),ve(N,de-1,5),ve(N,ye-4,4),he=0;he<ye;he++)ve(N,N.bl_tree[k[he]*2+1],3);pe(N,N.dyn_ltree,ce-1),pe(N,N.dyn_dtree,de-1)}function Pe(N){var ce=4093624447,de;for(de=0;de<=31;de++,ce>>>=1)if(ce&1&&N.dyn_ltree[de*2]!==0)return u;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return p;for(de=32;de<o;de++)if(N.dyn_ltree[de*2]!==0)return p;return u}var Re=!1;function Ce(N){Re||(G(),Re=!0),N.l_desc=new se(N.dyn_ltree,j),N.d_desc=new se(N.dyn_dtree,Q),N.bl_desc=new se(N.bl_tree,re),N.bi_buf=0,N.bi_valid=0,I(N)}function Me(N,ce,de,ye){ve(N,(i<<1)+(ye?1:0),3),Z(N,ce,de)}function Se(N){ve(N,t<<1,3),ne(N,y,D),V(N)}function Be(N,ce,de,ye){var he,ge,J=0;N.level>0?(N.strm.data_type===l&&(N.strm.data_type=Pe(N)),X(N,N.l_desc),X(N,N.d_desc),J=_e(N),he=N.opt_len+3+7>>>3,ge=N.static_len+3+7>>>3,ge<=he&&(he=ge)):he=ge=de+5,de+4<=he&&ce!==-1?Me(N,ce,de,ye):N.strategy===g||ge===he?(ve(N,(t<<1)+(ye?1:0),3),A(N,D,W)):(ve(N,(e<<1)+(ye?1:0),3),Ee(N,N.l_desc.max_code+1,N.d_desc.max_code+1,J+1),A(N,N.dyn_ltree,N.dyn_dtree)),I(N),ye&&P(N)}function Oe(N,ce,de){return N.pending_buf[N.d_buf+N.last_lit*2]=ce>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=ce&255,N.pending_buf[N.l_buf+N.last_lit]=de&255,N.last_lit++,ce===0?N.dyn_ltree[de*2]++:(N.matches++,ce--,N.dyn_ltree[(te[de]+o+1)*2]++,N.dyn_dtree[le(ce)*2]++),N.last_lit===N.lit_bufsize-1}w._tr_init=Ce,w._tr_stored_block=Me,w._tr_flush_block=Be,w._tr_tally=Oe,w._tr_align=Se},{"../utils/common":89}],101:[function(M,H,w){arguments[4][46][0].apply(w,arguments)},{dup:46}],102:[function(M,H,w){H.exports=function(l){if(!l)throw new Error("no data provided");l=l.toString().trim();var a={pages:[],chars:[],kernings:[]},i=l.split(/\r\n?|\n/g);if(i.length===0)throw new Error("no data in BMFont file");for(var t=0;t<i.length;t++){var e=E(i[t],t);if(e)if(e.key==="page"){if(typeof e.data.id!="number")throw new Error("malformed file at line "+t+" -- needs page id=N");if(typeof e.data.file!="string")throw new Error("malformed file at line "+t+' -- needs page file="path"');a.pages[e.data.id]=e.data.file}else e.key==="chars"||e.key==="kernings"||(e.key==="char"?a.chars.push(e.data):e.key==="kerning"?a.kernings.push(e.data):a[e.key]=e.data)}return a};function E(p,l){if(p=p.replace(/\t+/g," ").trim(),!p)return null;var a=p.indexOf(" ");if(a===-1)throw new Error("no named row at line "+l);var i=p.substring(0,a);p=p.substring(a+1),p=p.replace(/letter=[\'\"]\S+[\'\"]/gi,""),p=p.split("="),p=p.map(function(n){return n.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var t=[],e=0;e<p.length;e++){var s=p[e];e===0?t.push({key:s[0],data:""}):e===p.length-1?t[t.length-1].data=g(s[0]):(t[t.length-1].data=g(s[0]),t.push({key:s[1],data:""}))}var f={key:i,data:{}};return t.forEach(function(n){f.data[n.key]=n.data}),f}function g(p){return!p||p.length===0?"":p.indexOf('"')===0||p.indexOf("'")===0?p.substring(1,p.length-1):p.indexOf(",")!==-1?u(p):parseInt(p,10)}function u(p){return p.split(",").map(function(l){return parseInt(l,10)})}},{}],103:[function(M,H,w){var E=[66,77,70];H.exports=function(f){if(f.length<6)throw new Error("invalid buffer length for BMFont");var n=E.every(function(d,v){return f.readUInt8(v)===d});if(!n)throw new Error("BMFont missing BMF byte header");var o=3,r=f.readUInt8(o++);if(r>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var h={kernings:[],chars:[]},c=0;c<5;c++)o+=g(h,f,o);return h};function g(s,f,n){if(n>f.length-1)return 0;var o=f.readUInt8(n++),r=f.readInt32LE(n);switch(n+=4,o){case 1:s.info=u(f,n);break;case 2:s.common=p(f,n);break;case 3:s.pages=l(f,n,r);break;case 4:s.chars=a(f,n,r);break;case 5:s.kernings=i(f,n,r);break}return 5+r}function u(s,f){var n={};n.size=s.readInt16LE(f);var o=s.readUInt8(f+2);return n.smooth=o>>7&1,n.unicode=o>>6&1,n.italic=o>>5&1,n.bold=o>>4&1,o>>3&1&&(n.fixedHeight=1),n.charset=s.readUInt8(f+3)||"",n.stretchH=s.readUInt16LE(f+4),n.aa=s.readUInt8(f+6),n.padding=[s.readInt8(f+7),s.readInt8(f+8),s.readInt8(f+9),s.readInt8(f+10)],n.spacing=[s.readInt8(f+11),s.readInt8(f+12)],n.outline=s.readUInt8(f+13),n.face=e(s,f+14),n}function p(s,f){var n={};return n.lineHeight=s.readUInt16LE(f),n.base=s.readUInt16LE(f+2),n.scaleW=s.readUInt16LE(f+4),n.scaleH=s.readUInt16LE(f+6),n.pages=s.readUInt16LE(f+8),s.readUInt8(f+10),n.packed=0,n.alphaChnl=s.readUInt8(f+11),n.redChnl=s.readUInt8(f+12),n.greenChnl=s.readUInt8(f+13),n.blueChnl=s.readUInt8(f+14),n}function l(s,f,n){for(var o=[],r=t(s,f),h=r.length+1,c=n/h,d=0;d<c;d++)o[d]=s.slice(f,f+r.length).toString("utf8"),f+=h;return o}function a(s,f,n){for(var o=[],r=n/20,h=0;h<r;h++){var c={},d=h*20;c.id=s.readUInt32LE(f+0+d),c.x=s.readUInt16LE(f+4+d),c.y=s.readUInt16LE(f+6+d),c.width=s.readUInt16LE(f+8+d),c.height=s.readUInt16LE(f+10+d),c.xoffset=s.readInt16LE(f+12+d),c.yoffset=s.readInt16LE(f+14+d),c.xadvance=s.readInt16LE(f+16+d),c.page=s.readUInt8(f+18+d),c.chnl=s.readUInt8(f+19+d),o[h]=c}return o}function i(s,f,n){for(var o=[],r=n/10,h=0;h<r;h++){var c={},d=h*10;c.first=s.readUInt32LE(f+0+d),c.second=s.readUInt32LE(f+4+d),c.amount=s.readInt16LE(f+8+d),o[h]=c}return o}function t(s,f){for(var n=f;n<s.length&&s[n]!==0;n++);return s.slice(f,n)}function e(s,f){return t(s,f).toString("utf8")}},{}],104:[function(M,H,w){var E=M("./parse-attribs"),g=M("xml-parse-from-string"),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};H.exports=function(t){t=t.toString();var e=g(t),s={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(d){var v=e.getElementsByTagName(d)[0];v&&(s[d]=E(p(v)))});var f=e.getElementsByTagName("pages")[0];if(!f)throw new Error("malformed file -- no <pages> element");for(var n=f.getElementsByTagName("page"),o=0;o<n.length;o++){var r=n[o],h=parseInt(r.getAttribute("id"),10),c=r.getAttribute("file");if(isNaN(h))throw new Error('malformed file -- page "id" attribute is NaN');if(!c)throw new Error('malformed file -- needs page "file" attribute');s.pages[parseInt(h,10)]=c}return["chars","kernings"].forEach(function(d){var v=e.getElementsByTagName(d)[0];if(v)for(var _=d.substring(0,d.length-1),b=v.getElementsByTagName(_),y=0;y<b.length;y++){var S=b[y];s[d].push(E(p(S)))}}),s};function p(i){var t=l(i);return t.reduce(function(e,s){var f=a(s.nodeName);return e[f]=s.nodeValue,e},{})}function l(i){for(var t=[],e=0;e<i.attributes.length;e++)t.push(i.attributes[e]);return t}function a(i){return u[i.toLowerCase()]||i}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(M,H,w){var E="chasrset";H.exports=function(p){E in p&&(p.charset=p[E],delete p[E]);for(var l in p)l==="face"||l==="charset"||(l==="padding"||l==="spacing"?p[l]=g(p[l]):p[l]=parseInt(p[l],10));return p};function g(u){return u.split(",").map(function(p){return parseInt(p,10)})}},{}],106:[function(M,H,w){var E=M("trim"),g=M("for-each"),u=function(p){return Object.prototype.toString.call(p)==="[object Array]"};H.exports=function(p){if(!p)return{};var l={};return g(E(p).split(`
`),function(a){var i=a.indexOf(":"),t=E(a.slice(0,i)).toLowerCase(),e=E(a.slice(i+1));typeof l[t]>"u"?l[t]=e:u(l[t])?l[t].push(e):l[t]=[l[t],e]}),l}},{"for-each":63,trim:179}],107:[function(M,H,w){(function(E){function g(a,i){for(var t=0,e=a.length-1;e>=0;e--){var s=a[e];s==="."?a.splice(e,1):s===".."?(a.splice(e,1),t++):t&&(a.splice(e,1),t--)}if(i)for(;t--;t)a.unshift("..");return a}w.resolve=function(){for(var a="",i=!1,t=arguments.length-1;t>=-1&&!i;t--){var e=t>=0?arguments[t]:E.cwd();if(typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)continue;a=e+"/"+a,i=e.charAt(0)==="/"}return a=g(p(a.split("/"),function(s){return!!s}),!i).join("/"),(i?"/":"")+a||"."},w.normalize=function(a){var i=w.isAbsolute(a),t=l(a,-1)==="/";return a=g(p(a.split("/"),function(e){return!!e}),!i).join("/"),!a&&!i&&(a="."),a&&t&&(a+="/"),(i?"/":"")+a},w.isAbsolute=function(a){return a.charAt(0)==="/"},w.join=function(){var a=Array.prototype.slice.call(arguments,0);return w.normalize(p(a,function(i,t){if(typeof i!="string")throw new TypeError("Arguments to path.join must be strings");return i}).join("/"))},w.relative=function(a,i){a=w.resolve(a).substr(1),i=w.resolve(i).substr(1);function t(h){for(var c=0;c<h.length&&h[c]==="";c++);for(var d=h.length-1;d>=0&&h[d]==="";d--);return c>d?[]:h.slice(c,d-c+1)}for(var e=t(a.split("/")),s=t(i.split("/")),f=Math.min(e.length,s.length),n=f,o=0;o<f;o++)if(e[o]!==s[o]){n=o;break}for(var r=[],o=n;o<e.length;o++)r.push("..");return r=r.concat(s.slice(n)),r.join("/")},w.sep="/",w.delimiter=":",w.dirname=function(a){if(typeof a!="string"&&(a=a+""),a.length===0)return".";for(var i=a.charCodeAt(0),t=i===47,e=-1,s=!0,f=a.length-1;f>=1;--f)if(i=a.charCodeAt(f),i===47){if(!s){e=f;break}}else s=!1;return e===-1?t?"/":".":t&&e===1?"/":a.slice(0,e)};function u(a){typeof a!="string"&&(a=a+"");var i=0,t=-1,e=!0,s;for(s=a.length-1;s>=0;--s)if(a.charCodeAt(s)===47){if(!e){i=s+1;break}}else t===-1&&(e=!1,t=s+1);return t===-1?"":a.slice(i,t)}w.basename=function(a,i){var t=u(a);return i&&t.substr(-1*i.length)===i&&(t=t.substr(0,t.length-i.length)),t},w.extname=function(a){typeof a!="string"&&(a=a+"");for(var i=-1,t=0,e=-1,s=!0,f=0,n=a.length-1;n>=0;--n){var o=a.charCodeAt(n);if(o===47){if(!s){t=n+1;break}continue}e===-1&&(s=!1,e=n+1),o===46?i===-1?i=n:f!==1&&(f=1):i!==-1&&(f=-1)}return i===-1||e===-1||f===0||f===1&&i===e-1&&i===t+1?"":a.slice(i,e)};function p(a,i){if(a.filter)return a.filter(i);for(var t=[],e=0;e<a.length;e++)i(a[e],e,a)&&t.push(a[e]);return t}var l="ab".substr(-1)==="b"?function(a,i,t){return a.substr(i,t)}:function(a,i,t){return i<0&&(i=a.length+i),a.substr(i,t)}}).call(this,M("_process"))},{_process:133}],108:[function(M,H,w){(function(E){var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},u=M("http"),p=M("https"),l=M("url"),a=M("querystring"),i=M("zlib"),t=M("util"),e=function(f,n){if(typeof f!="string"&&!f.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var o=(typeof f>"u"?"undefined":g(f))==="object"?l.parse(f.url):l.parse(f),r={hostname:o.hostname,port:o.port||(o.protocol.toLowerCase()==="http:"?80:443),path:o.path,method:"GET",headers:{},auth:o.auth||null,parse:"none",stream:!1};if((typeof f>"u"?"undefined":g(f))==="object"&&(r=Object.assign(r,f)),r.port=Number(r.port),r.hasOwnProperty("timeout")&&delete r.timeout,r.compressed===!0&&(r.headers["accept-encoding"]="gzip, deflate"),f.hasOwnProperty("form")){if(g(f.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var h=a.stringify(f.form);r.headers["Content-Type"]="application/x-www-form-urlencoded",r.headers["Content-Length"]=E.byteLength(h),f.data=h}var c=void 0,d=function(y){var S=y;r.compressed===!0&&(y.headers["content-encoding"]==="gzip"?S=y.pipe(i.createGunzip()):y.headers["content-encoding"]==="deflate"&&(S=y.pipe(i.createInflate()))),r.stream===!0?(y.stream=S,n(null,y)):(y.body=new E([]),S.on("data",function(R){y.body=E.concat([y.body,R])}),S.on("end",function(){if(n){if(r.parse==="json")try{y.body=JSON.parse(y.body.toString())}catch{n("Invalid JSON received.",y);return}n(null,y)}}))};switch(o.protocol.toLowerCase()){case"http:":c=u.request(r,d);break;case"https:":c=p.request(r,d);break;default:n&&n(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof f.timeout=="number"&&c.setTimeout(f.timeout,function(){c.abort(),n(new Error("Timeout has been reached."),null),n=null}),c.on("error",function(b){n&&n(b,null)}),f.hasOwnProperty("data")){var v=f.data;if(!(f.data instanceof E)&&g(f.data)==="object"){var _=r.headers["content-type"]||r.headers["Content-Type"];if(_==="application/x-www-form-urlencoded")v=a.stringify(f.data);else try{v=JSON.stringify(f.data)}catch{n(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}c.write(v)}c.end()};e.promisified=function(s,f){return new Promise(function(n,o){e(s,function(r,h){r?o(r):n(h)})})},t.promisify&&(e[t.promisify.custom]=e.promisified),H.exports=e}).call(this,M("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(M,H,w){H.exports=E;function E(s,f,n,o,r,h){h||(h={});for(var c=h.threshold===void 0?.1:h.threshold,d=35215*c*c,v=0,_=0;_<r;_++)for(var b=0;b<o;b++){var y=(_*o+b)*4,S=u(s,f,y,y);if(S>d)!h.includeAA&&(g(s,b,_,o,r,f)||g(f,b,_,o,r,s))?n&&t(n,y,255,255,0):(n&&t(n,y,255,0,0),v++);else if(n){var R=i(e(s,y),.1);t(n,y,R,R,R)}}return v}function g(s,f,n,o,r,h){for(var c=Math.max(f-1,0),d=Math.max(n-1,0),v=Math.min(f+1,o-1),_=Math.min(n+1,r-1),b=(n*o+f)*4,y=0,S=0,R=0,L=0,T=0,x,z,k,O,D=c;D<=v;D++)for(var W=d;W<=_;W++)if(!(D===f&&W===n)){var q=u(s,s,b,(W*o+D)*4,!0);if(q===0?y++:q<0?R++:q>0&&S++,y>2)return!1;h&&(q<L&&(L=q,x=D,z=W),q>T&&(T=q,k=D,O=W))}return h?R===0||S===0?!1:!g(s,x,z,o,r)&&!g(h,x,z,o,r)||!g(s,k,O,o,r)&&!g(h,k,O,o,r):!0}function u(s,f,n,o,r){var h=s[n+3]/255,c=f[o+3]/255,d=i(s[n+0],h),v=i(s[n+1],h),_=i(s[n+2],h),b=i(f[o+0],c),y=i(f[o+1],c),S=i(f[o+2],c),R=p(d,v,_)-p(b,y,S);if(r)return R;var L=l(d,v,_)-l(b,y,S),T=a(d,v,_)-a(b,y,S);return .5053*R*R+.299*L*L+.1957*T*T}function p(s,f,n){return s*.29889531+f*.58662247+n*.11448223}function l(s,f,n){return s*.59597799-f*.2741761-n*.32180189}function a(s,f,n){return s*.21147017-f*.52261711+n*.31114694}function i(s,f){return 255+(s-255)*f}function t(s,f,n,o,r){s[f+0]=n,s[f+1]=o,s[f+2]=r,s[f+3]=255}function e(s,f){var n=s[f+3]/255,o=i(s[f+0],n),r=i(s[f+1],n),h=i(s[f+2],n);return p(o,r,h)}},{}],110:[function(M,H,w){(function(E){var g=M("./interlace"),u={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function p(i,t){var e=[],s=0;function f(){if(s===i.length)throw new Error("Ran out of data");var n=i[s];s++;var o,r,h,c,d,v,_,b;switch(t){default:throw new Error("unrecognised depth");case 16:_=i[s],s++,e.push((n<<8)+_);break;case 4:_=n&15,b=n>>4,e.push(b,_);break;case 2:d=n&3,v=n>>2&3,_=n>>4&3,b=n>>6&3,e.push(b,_,v,d);break;case 1:o=n&1,r=n>>1&1,h=n>>2&1,c=n>>3&1,d=n>>4&1,v=n>>5&1,_=n>>6&1,b=n>>7&1,e.push(b,_,v,d,c,h,r,o);break}}return{get:function(n){for(;e.length<n;)f();var o=e.slice(0,n);return e=e.slice(n),o},resetAfterLine:function(){e.length=0},end:function(){if(s!==i.length)throw new Error("extra data found")}}}function l(i,t,e,s,f,n){for(var o=i.width,r=i.height,h=i.index,c=0;c<r;c++)for(var d=0;d<o;d++){for(var v=e(d,c,h),_=0;_<4;_++){var b=u[s][_];if(b===255)t[v+_]=255;else{var y=b+n;if(y===f.length)throw new Error("Ran out of data");t[v+_]=f[y]}}n+=s}return n}function a(i,t,e,s,f,n){for(var o=i.width,r=i.height,h=i.index,c=0;c<r;c++){for(var d=0;d<o;d++)for(var v=f.get(s),_=e(d,c,h),b=0;b<4;b++){var y=u[s][b];t[_+b]=y!==255?v[y]:n}f.resetAfterLine()}}w.dataToBitMap=function(i,t){var e=t.width,s=t.height,f=t.depth,n=t.bpp,o=t.interlace;if(f!==8)var r=p(i,f);var h;f<=8?h=new E(e*s*4):h=new Uint16Array(e*s*4);var c=Math.pow(2,f)-1,d=0,v,_;if(o)v=g.getImagePasses(e,s),_=g.getInterlaceIterator(e,s);else{var b=0;_=function(){var S=b;return b+=4,S},v=[{width:e,height:s}]}for(var y=0;y<v.length;y++)f===8?d=l(v[y],h,_,n,i,d):a(v[y],h,_,n,r,c);if(f===8){if(d!==i.length)throw new Error("extra data found")}else r.end();return h}}).call(this,M("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(M,H,w){(function(E){var g=M("./constants");H.exports=function(u,p,l,a){var i=[g.COLORTYPE_COLOR_ALPHA,g.COLORTYPE_ALPHA].indexOf(a.colorType)!==-1;if(a.colorType===a.inputColorType){var t=(function(){var S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]!==256})();if(a.bitDepth===8||a.bitDepth===16&&t)return u}var e=a.bitDepth!==16?u:new Uint16Array(u.buffer),s=255,f=g.COLORTYPE_TO_BPP_MAP[a.inputColorType];f==4&&!a.inputHasAlpha&&(f=3);var n=g.COLORTYPE_TO_BPP_MAP[a.colorType];a.bitDepth===16&&(s=65535,n*=2);var o=new E(p*l*n),r=0,h=0,c=a.bgColor||{};c.red===void 0&&(c.red=s),c.green===void 0&&(c.green=s),c.blue===void 0&&(c.blue=s);function d(S,R){var L,T,x,z=s;switch(a.inputColorType){case g.COLORTYPE_COLOR_ALPHA:z=S[R+3],L=S[R],T=S[R+1],x=S[R+2];break;case g.COLORTYPE_COLOR:L=S[R],T=S[R+1],x=S[R+2];break;case g.COLORTYPE_ALPHA:z=S[R+1],L=S[R],T=L,x=L;break;case g.COLORTYPE_GRAYSCALE:L=S[R],T=L,x=L;break;default:throw new Error("input color type:"+a.inputColorType+" is not supported at present")}return a.inputHasAlpha&&(i||(z/=s,L=Math.min(Math.max(Math.round((1-z)*c.red+z*L),0),s),T=Math.min(Math.max(Math.round((1-z)*c.green+z*T),0),s),x=Math.min(Math.max(Math.round((1-z)*c.blue+z*x),0),s))),{red:L,green:T,blue:x,alpha:z}}for(var v=0;v<l;v++)for(var _=0;_<p;_++){var b=d(e,r);switch(a.colorType){case g.COLORTYPE_COLOR_ALPHA:case g.COLORTYPE_COLOR:a.bitDepth===8?(o[h]=b.red,o[h+1]=b.green,o[h+2]=b.blue,i&&(o[h+3]=b.alpha)):(o.writeUInt16BE(b.red,h),o.writeUInt16BE(b.green,h+2),o.writeUInt16BE(b.blue,h+4),i&&o.writeUInt16BE(b.alpha,h+6));break;case g.COLORTYPE_ALPHA:case g.COLORTYPE_GRAYSCALE:var y=(b.red+b.green+b.blue)/3;a.bitDepth===8?(o[h]=y,i&&(o[h+1]=b.alpha)):(o.writeUInt16BE(y,h),i&&o.writeUInt16BE(b.alpha,h+2));break}r+=f,h+=n}return o}}).call(this,M("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(M,H,w){(function(E,g){var u=M("util"),p=M("stream"),l=H.exports=function(){p.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};u.inherits(l,p),l.prototype.read=function(a,i){this._reads.push({length:Math.abs(a),allowLess:a<0,func:i}),E.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},l.prototype.write=function(a,i){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var t;return g.isBuffer(a)?t=a:t=new g(a,i||this._encoding),this._buffers.push(t),this._buffered+=t.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},l.prototype.end=function(a,i){a&&this.write(a,i),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},l.prototype.destroySoon=l.prototype.end,l.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},l.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},l.prototype._processReadAllowingLess=function(a){this._reads.shift();var i=this._buffers[0];i.length>a.length?(this._buffered-=a.length,this._buffers[0]=i.slice(a.length),a.func.call(this,i.slice(0,a.length))):(this._buffered-=i.length,this._buffers.shift(),a.func.call(this,i))},l.prototype._processRead=function(a){this._reads.shift();for(var i=0,t=0,e=new g(a.length);i<a.length;){var s=this._buffers[t++],f=Math.min(s.length,a.length-i);s.copy(e,i,0,f),i+=f,f!==s.length&&(this._buffers[--t]=s.slice(f))}t>0&&this._buffers.splice(0,t),this._buffered-=a.length,a.func.call(this,e)},l.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var a=this._reads[0];if(a.allowLess)this._processReadAllowingLess(a);else if(this._buffered>=a.length)this._processRead(a);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(i){this.emit("error",i)}}}).call(this,M("_process"),M("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(M,H,w){H.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(M,H,w){var E=[];(function(){for(var u=0;u<256;u++){for(var p=u,l=0;l<8;l++)p&1?p=3988292384^p>>>1:p=p>>>1;E[u]=p}})();var g=H.exports=function(){this._crc=-1};g.prototype.write=function(u){for(var p=0;p<u.length;p++)this._crc=E[(this._crc^u[p])&255]^this._crc>>>8;return!0},g.prototype.crc32=function(){return this._crc^-1},g.crc32=function(u){for(var p=-1,l=0;l<u.length;l++)p=E[(p^u[l])&255]^p>>>8;return p^-1}},{}],115:[function(M,H,w){(function(E){var g=M("./paeth-predictor");function u(h,c,d,v,_){for(var b=0;b<d;b++)v[_+b]=h[c+b]}function p(h,c,d){for(var v=0,_=c+d,b=c;b<_;b++)v+=Math.abs(h[b]);return v}function l(h,c,d,v,_,b){for(var y=0;y<d;y++){var S=y>=b?h[c+y-b]:0,R=h[c+y]-S;v[_+y]=R}}function a(h,c,d,v){for(var _=0,b=0;b<d;b++){var y=b>=v?h[c+b-v]:0,S=h[c+b]-y;_+=Math.abs(S)}return _}function i(h,c,d,v,_){for(var b=0;b<d;b++){var y=c>0?h[c+b-d]:0,S=h[c+b]-y;v[_+b]=S}}function t(h,c,d){for(var v=0,_=c+d,b=c;b<_;b++){var y=c>0?h[b-d]:0,S=h[b]-y;v+=Math.abs(S)}return v}function e(h,c,d,v,_,b){for(var y=0;y<d;y++){var S=y>=b?h[c+y-b]:0,R=c>0?h[c+y-d]:0,L=h[c+y]-(S+R>>1);v[_+y]=L}}function s(h,c,d,v){for(var _=0,b=0;b<d;b++){var y=b>=v?h[c+b-v]:0,S=c>0?h[c+b-d]:0,R=h[c+b]-(y+S>>1);_+=Math.abs(R)}return _}function f(h,c,d,v,_,b){for(var y=0;y<d;y++){var S=y>=b?h[c+y-b]:0,R=c>0?h[c+y-d]:0,L=c>0&&y>=b?h[c+y-(d+b)]:0,T=h[c+y]-g(S,R,L);v[_+y]=T}}function n(h,c,d,v){for(var _=0,b=0;b<d;b++){var y=b>=v?h[c+b-v]:0,S=c>0?h[c+b-d]:0,R=c>0&&b>=v?h[c+b-(d+v)]:0,L=h[c+b]-g(y,S,R);_+=Math.abs(L)}return _}var o={0:u,1:l,2:i,3:e,4:f},r={0:p,1:a,2:t,3:s,4:n};H.exports=function(h,c,d,v,_){var b;if(!("filterType"in v)||v.filterType===-1)b=[0,1,2,3,4];else if(typeof v.filterType=="number")b=[v.filterType];else throw new Error("unrecognised filter types");v.bitDepth===16&&(_*=2);for(var y=c*_,S=0,R=0,L=new E((y+1)*d),T=b[0],x=0;x<d;x++){if(b.length>1)for(var z=1/0,k=0;k<b.length;k++){var O=r[b[k]](h,R,y,_);O<z&&(T=b[k],z=O)}L[S]=T,S++,o[T](h,R,y,L,S,_),S+=y,R+=y}return L}}).call(this,M("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(M,H,w){(function(E){var g=M("util"),u=M("./chunkstream"),p=M("./filter-parse"),l=H.exports=function(a){u.call(this);var i=[],t=this;this._filter=new p(a,{read:this.read.bind(this),write:function(e){i.push(e)},complete:function(){t.emit("complete",E.concat(i))}}),this._filter.start()};g.inherits(l,u)}).call(this,M("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(M,H,w){(function(E){var g=M("./sync-reader"),u=M("./filter-parse");w.process=function(p,l){var a=[],i=new g(p),t=new u(l,{read:i.read.bind(i),write:function(e){a.push(e)},complete:function(){}});return t.start(),i.process(),E.concat(a)}}).call(this,M("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(M,H,w){(function(E){var g=M("./interlace"),u=M("./paeth-predictor");function p(a,i,t){var e=a*i;return t!==8&&(e=Math.ceil(e/(8/t))),e}var l=H.exports=function(a,i){var t=a.width,e=a.height,s=a.interlace,f=a.bpp,n=a.depth;if(this.read=i.read,this.write=i.write,this.complete=i.complete,this._imageIndex=0,this._images=[],s)for(var o=g.getImagePasses(t,e),r=0;r<o.length;r++)this._images.push({byteWidth:p(o[r].width,f,n),height:o[r].height,lineIndex:0});else this._images.push({byteWidth:p(t,f,n),height:e,lineIndex:0});n===8?this._xComparison=f:n===16?this._xComparison=f*2:this._xComparison=1};l.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},l.prototype._unFilterType1=function(a,i,t){for(var e=this._xComparison,s=e-1,f=0;f<t;f++){var n=a[1+f],o=f>s?i[f-e]:0;i[f]=n+o}},l.prototype._unFilterType2=function(a,i,t){for(var e=this._lastLine,s=0;s<t;s++){var f=a[1+s],n=e?e[s]:0;i[s]=f+n}},l.prototype._unFilterType3=function(a,i,t){for(var e=this._xComparison,s=e-1,f=this._lastLine,n=0;n<t;n++){var o=a[1+n],r=f?f[n]:0,h=n>s?i[n-e]:0,c=Math.floor((h+r)/2);i[n]=o+c}},l.prototype._unFilterType4=function(a,i,t){for(var e=this._xComparison,s=e-1,f=this._lastLine,n=0;n<t;n++){var o=a[1+n],r=f?f[n]:0,h=n>s?i[n-e]:0,c=n>s&&f?f[n-e]:0,d=u(h,r,c);i[n]=o+d}},l.prototype._reverseFilterLine=function(a){var i=a[0],t,e=this._images[this._imageIndex],s=e.byteWidth;if(i===0)t=a.slice(1,s+1);else switch(t=new E(s),i){case 1:this._unFilterType1(a,t,s);break;case 2:this._unFilterType2(a,t,s);break;case 3:this._unFilterType3(a,t,s);break;case 4:this._unFilterType4(a,t,s);break;default:throw new Error("Unrecognised filter type - "+i)}this.write(t),e.lineIndex++,e.lineIndex>=e.height?(this._lastLine=null,this._imageIndex++,e=this._images[this._imageIndex]):this._lastLine=t,e?this.read(e.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,M("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(M,H,w){(function(E){function g(l,a,i,t,e){for(var s=0,f=0;f<t;f++)for(var n=0;n<i;n++){var o=e[l[s]];if(!o)throw new Error("index "+l[s]+" not in palette");for(var r=0;r<4;r++)a[s+r]=o[r];s+=4}}function u(l,a,i,t,e){for(var s=0,f=0;f<t;f++)for(var n=0;n<i;n++){var o=!1;if(e.length===1?e[0]===l[s]&&(o=!0):e[0]===l[s]&&e[1]===l[s+1]&&e[2]===l[s+2]&&(o=!0),o)for(var r=0;r<4;r++)a[s+r]=0;s+=4}}function p(l,a,i,t,e){for(var s=255,f=Math.pow(2,e)-1,n=0,o=0;o<t;o++)for(var r=0;r<i;r++){for(var h=0;h<4;h++)a[n+h]=Math.floor(l[n+h]*s/f+.5);n+=4}}H.exports=function(l,a){var i=a.depth,t=a.width,e=a.height,s=a.colorType,f=a.transColor,n=a.palette,o=l;return s===3?g(l,o,t,e,n):(f&&u(l,o,t,e,f),i!==8&&(i===16&&(o=new E(t*e*4)),p(l,o,t,e,i))),o}}).call(this,M("buffer").Buffer)},{buffer:48}],120:[function(M,H,w){var E=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];w.getImagePasses=function(g,u){for(var p=[],l=g%8,a=u%8,i=(g-l)/8,t=(u-a)/8,e=0;e<E.length;e++){for(var s=E[e],f=i*s.x.length,n=t*s.y.length,o=0;o<s.x.length&&s.x[o]<l;o++)f++;for(o=0;o<s.y.length&&s.y[o]<a;o++)n++;f>0&&n>0&&p.push({width:f,height:n,index:e})}return p},w.getInterlaceIterator=function(g){return function(u,p,l){var a=u%E[l].x.length,i=(u-a)/E[l].x.length*8+E[l].x[a],t=p%E[l].y.length,e=(p-t)/E[l].y.length*8+E[l].y[t];return i*4+e*g*4}}},{}],121:[function(M,H,w){(function(E){var g=M("util"),u=M("stream"),p=M("./constants"),l=M("./packer"),a=H.exports=function(i){u.call(this);var t=i||{};this._packer=new l(t),this._deflate=this._packer.createDeflate(),this.readable=!0};g.inherits(a,u),a.prototype.pack=function(i,t,e,s){this.emit("data",new E(p.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,e)),s&&this.emit("data",this._packer.packGAMA(s));var f=this._packer.filterData(i,t,e);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(n){this.emit("data",this._packer.packIDAT(n))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(f)}}).call(this,M("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(M,H,w){(function(E){var g=!0,u=M("zlib");u.deflateSync||(g=!1);var p=M("./constants"),l=M("./packer");H.exports=function(a,i){if(!g)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var t=i||{},e=new l(t),s=[];s.push(new E(p.PNG_SIGNATURE)),s.push(e.packIHDR(a.width,a.height)),a.gamma&&s.push(e.packGAMA(a.gamma));var f=e.filterData(a.data,a.width,a.height),n=u.deflateSync(f,e.getDeflateOptions());if(f=null,!n||!n.length)throw new Error("bad png - invalid compressed data response");return s.push(e.packIDAT(n)),s.push(e.packIEND()),E.concat(s)}}).call(this,M("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(M,H,w){(function(E){var g=M("./constants"),u=M("./crc"),p=M("./bitpacker"),l=M("./filter-pack"),a=M("zlib"),i=H.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||a.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:g.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:g.COLORTYPE_COLOR_ALPHA,[g.COLORTYPE_GRAYSCALE,g.COLORTYPE_COLOR,g.COLORTYPE_COLOR_ALPHA,g.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([g.COLORTYPE_GRAYSCALE,g.COLORTYPE_COLOR,g.COLORTYPE_COLOR_ALPHA,g.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};i.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},i.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},i.prototype.filterData=function(t,e,s){var f=p(t,e,s,this._options),n=g.COLORTYPE_TO_BPP_MAP[this._options.colorType],o=l(f,e,s,this._options,n);return o},i.prototype._packChunk=function(t,e){var s=e?e.length:0,f=new E(s+12);return f.writeUInt32BE(s,0),f.writeUInt32BE(t,4),e&&e.copy(f,8),f.writeInt32BE(u.crc32(f.slice(4,f.length-4)),f.length-4),f},i.prototype.packGAMA=function(t){var e=new E(4);return e.writeUInt32BE(Math.floor(t*g.GAMMA_DIVISION),0),this._packChunk(g.TYPE_gAMA,e)},i.prototype.packIHDR=function(t,e){var s=new E(13);return s.writeUInt32BE(t,0),s.writeUInt32BE(e,4),s[8]=this._options.bitDepth,s[9]=this._options.colorType,s[10]=0,s[11]=0,s[12]=0,this._packChunk(g.TYPE_IHDR,s)},i.prototype.packIDAT=function(t){return this._packChunk(g.TYPE_IDAT,t)},i.prototype.packIEND=function(){return this._packChunk(g.TYPE_IEND,null)}}).call(this,M("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(M,H,w){H.exports=function(g,u,p){var l=g+u-p,a=Math.abs(l-g),i=Math.abs(l-u),t=Math.abs(l-p);return a<=i&&a<=t?g:i<=t?u:p}},{}],125:[function(M,H,w){var E=M("util"),g=M("zlib"),u=M("./chunkstream"),p=M("./filter-parse-async"),l=M("./parser"),a=M("./bitmapper"),i=M("./format-normaliser"),t=H.exports=function(e){u.call(this),this._parser=new l(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};E.inherits(t,u),t.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},t.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=g.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var s=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,f=s*this._bitmapInfo.height,n=Math.max(f,g.Z_MIN_CHUNK);this._inflate=g.createInflate({chunkSize:n});var o=f,r=this.emit.bind(this,"error");this._inflate.on("error",function(c){o&&r(c)}),this._filter.on("complete",this._complete.bind(this));var h=this._filter.write.bind(this._filter);this._inflate.on("data",function(c){o&&(c.length>o&&(c=c.slice(0,o)),o-=c.length,h(c))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},t.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new p(this._bitmapInfo)},t.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},t.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},t.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},t.prototype._complete=function(e){if(!this.errord){try{var s=a.dataToBitMap(e,this._bitmapInfo),f=i(s,this._bitmapInfo);s=null}catch(n){this._handleError(n);return}this.emit("parsed",f)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(M,H,w){(function(E){var g=!0,u=M("zlib"),p=M("./sync-inflate");u.deflateSync||(g=!1);var l=M("./sync-reader"),a=M("./filter-parse-sync"),i=M("./parser"),t=M("./bitmapper"),e=M("./format-normaliser");H.exports=function(s,f){if(!g)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var n;function o(W){n=W}var r;function h(W){r=W}function c(W){r.transColor=W}function d(W){r.palette=W}var v;function _(W){v=W}var b=[];function y(W){b.push(W)}var S=new l(s),R=new i(f,{read:S.read.bind(S),error:o,metadata:h,gamma:_,palette:d,transColor:c,inflateData:y});if(R.start(),S.process(),n)throw n;var L=E.concat(b);b.length=0;var T;if(r.interlace)T=u.inflateSync(L);else{var x=(r.width*r.bpp*r.depth+7>>3)+1,z=x*r.height;T=p(L,{chunkSize:z,maxLength:z})}if(L=null,!T||!T.length)throw new Error("bad png - invalid inflate data response");var k=a.process(T,r);L=null;var O=t.dataToBitMap(k,r);k=null;var D=e(O,r);return r.data=D,r.gamma=v||0,r}}).call(this,M("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(M,H,w){(function(E){var g=M("./constants"),u=M("./crc"),p=H.exports=function(l,a){this._options=l,l.checkCRC=l.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[g.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[g.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[g.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[g.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[g.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[g.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=a.read,this.error=a.error,this.metadata=a.metadata,this.gamma=a.gamma,this.transColor=a.transColor,this.palette=a.palette,this.parsed=a.parsed,this.inflateData=a.inflateData,this.finished=a.finished};p.prototype.start=function(){this.read(g.PNG_SIGNATURE.length,this._parseSignature.bind(this))},p.prototype._parseSignature=function(l){for(var a=g.PNG_SIGNATURE,i=0;i<a.length;i++)if(l[i]!==a[i]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},p.prototype._parseChunkBegin=function(l){for(var a=l.readUInt32BE(0),i=l.readUInt32BE(4),t="",e=4;e<8;e++)t+=String.fromCharCode(l[e]);var s=!!(l[4]&32);if(!this._hasIHDR&&i!==g.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new u,this._crc.write(new E(t)),this._chunks[i])return this._chunks[i](a);if(!s){this.error(new Error("Unsupported critical chunk type "+t));return}this.read(a+4,this._skipChunk.bind(this))},p.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},p.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},p.prototype._parseChunkEnd=function(l){var a=l.readInt32BE(0),i=this._crc.crc32();if(this._options.checkCRC&&i!==a){this.error(new Error("Crc error - "+a+" - "+i));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},p.prototype._handleIHDR=function(l){this.read(l,this._parseIHDR.bind(this))},p.prototype._parseIHDR=function(l){this._crc.write(l);var a=l.readUInt32BE(0),i=l.readUInt32BE(4),t=l[8],e=l[9],s=l[10],f=l[11],n=l[12];if(t!==8&&t!==4&&t!==2&&t!==1&&t!==16){this.error(new Error("Unsupported bit depth "+t));return}if(!(e in g.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(s!==0){this.error(new Error("Unsupported compression method"));return}if(f!==0){this.error(new Error("Unsupported filter method"));return}if(n!==0&&n!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=e;var o=g.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:a,height:i,depth:t,interlace:!!n,palette:!!(e&g.COLORTYPE_PALETTE),color:!!(e&g.COLORTYPE_COLOR),alpha:!!(e&g.COLORTYPE_ALPHA),bpp:o,colorType:e}),this._handleChunkEnd()},p.prototype._handlePLTE=function(l){this.read(l,this._parsePLTE.bind(this))},p.prototype._parsePLTE=function(l){this._crc.write(l);for(var a=Math.floor(l.length/3),i=0;i<a;i++)this._palette.push([l[i*3],l[i*3+1],l[i*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},p.prototype._handleTRNS=function(l){this.read(l,this._parseTRNS.bind(this))},p.prototype._parseTRNS=function(l){if(this._crc.write(l),this._colorType===g.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(l.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var a=0;a<l.length;a++)this._palette[a][3]=l[a];this.palette(this._palette)}this._colorType===g.COLORTYPE_GRAYSCALE&&this.transColor([l.readUInt16BE(0)]),this._colorType===g.COLORTYPE_COLOR&&this.transColor([l.readUInt16BE(0),l.readUInt16BE(2),l.readUInt16BE(4)]),this._handleChunkEnd()},p.prototype._handleGAMA=function(l){this.read(l,this._parseGAMA.bind(this))},p.prototype._parseGAMA=function(l){this._crc.write(l),this.gamma(l.readUInt32BE(0)/g.GAMMA_DIVISION),this._handleChunkEnd()},p.prototype._handleIDAT=function(l){this.read(-l,this._parseIDAT.bind(this,l))},p.prototype._parseIDAT=function(l,a){if(this._crc.write(a),this._colorType===g.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(a);var i=l-a.length;i>0?this._handleIDAT(i):this._handleChunkEnd()},p.prototype._handleIEND=function(l){this.read(l,this._parseIEND.bind(this))},p.prototype._parseIEND=function(l){this._crc.write(l),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,M("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(M,H,w){var E=M("./parser-sync"),g=M("./packer-sync");w.read=function(u,p){return E(u,p||{})},w.write=function(u,p){return g(u,p)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(M,H,w){(function(E,g){var u=M("util"),p=M("stream"),l=M("./parser-async"),a=M("./packer-async"),i=M("./png-sync"),t=w.PNG=function(e){p.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?new g(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new l(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(s){this.data=s,this.emit("parsed",s)}).bind(this)),this._packer=new a(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};u.inherits(t,p),t.sync=i,t.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(E.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this)},t.prototype.parse=function(e,s){if(s){var f,n;f=(function(o){this.removeListener("error",n),this.data=o,s(null,this)}).bind(this),n=(function(o){this.removeListener("parsed",f),s(o,null)}).bind(this),this.once("parsed",f),this.once("error",n)}return this.end(e),this},t.prototype.write=function(e){return this._parser.write(e),!0},t.prototype.end=function(e){this._parser.end(e)},t.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},t.prototype._gamma=function(e){this.gamma=e},t.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},t.bitblt=function(e,s,f,n,o,r,h,c){if(f|=0,n|=0,o|=0,r|=0,h|=0,c|=0,f>e.width||n>e.height||f+o>e.width||n+r>e.height)throw new Error("bitblt reading outside image");if(h>s.width||c>s.height||h+o>s.width||c+r>s.height)throw new Error("bitblt writing outside image");for(var d=0;d<r;d++)e.data.copy(s.data,(c+d)*s.width+h<<2,(n+d)*e.width+f<<2,(n+d)*e.width+f+o<<2)},t.prototype.bitblt=function(e,s,f,n,o,r,h){return t.bitblt(this,e,s,f,n,o,r,h),this},t.adjustGamma=function(e){if(e.gamma){for(var s=0;s<e.height;s++)for(var f=0;f<e.width;f++)for(var n=e.width*s+f<<2,o=0;o<3;o++){var r=e.data[n+o]/255;r=Math.pow(r,1/2.2/e.gamma),e.data[n+o]=Math.round(r*255)}e.gamma=0}},t.prototype.adjustGamma=function(){t.adjustGamma(this)}}).call(this,M("_process"),M("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(M,H,w){(function(E,g){var u=M("assert").ok,p=M("zlib"),l=M("util"),a=M("buffer").kMaxLength;function i(n){if(!(this instanceof i))return new i(n);n&&n.chunkSize<p.Z_MIN_CHUNK&&(n.chunkSize=p.Z_MIN_CHUNK),p.Inflate.call(this,n),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,n&&n.maxLength!=null&&(this._maxLength=n.maxLength)}function t(n){return new i(n)}function e(n,o){n._handle&&(n._handle.close(),n._handle=null)}i.prototype._processChunk=function(n,o,r){if(typeof r=="function")return p.Inflate._processChunk.call(this,n,o,r);var h=this,c=n&&n.length,d=this._chunkSize-this._offset,v=this._maxLength,_=0,b=[],y=0,S;this.on("error",function(x){S=x});function R(x,z){if(!h._hadError){var k=d-z;if(u(k>=0,"have should not go down"),k>0){var O=h._buffer.slice(h._offset,h._offset+k);if(h._offset+=k,O.length>v&&(O=O.slice(0,v)),b.push(O),y+=O.length,v-=O.length,v===0)return!1}return(z===0||h._offset>=h._chunkSize)&&(d=h._chunkSize,h._offset=0,h._buffer=g.allocUnsafe(h._chunkSize)),z===0?(_+=c-x,c=x,!0):!1}}u(this._handle,"zlib binding closed");do{var L=this._handle.writeSync(o,n,_,c,this._buffer,this._offset,d);L=L||this._writeState}while(!this._hadError&&R(L[0],L[1]));if(this._hadError)throw S;if(y>=a)throw e(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+a.toString(16)+" bytes");var T=g.concat(b,y);return e(this),T},l.inherits(i,p.Inflate);function s(n,o){if(typeof o=="string"&&(o=g.from(o)),!(o instanceof g))throw new TypeError("Not a string or buffer");var r=n._finishFlushFlag;return r==null&&(r=p.Z_FINISH),n._processChunk(o,r)}function f(n,o){return s(new i(o),n)}H.exports=w=f,w.Inflate=i,w.createInflate=t,w.inflateSync=f}).call(this,M("_process"),M("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(M,H,w){var E=H.exports=function(g){this._buffer=g,this._reads=[]};E.prototype.read=function(g,u){this._reads.push({length:Math.abs(g),allowLess:g<0,func:u})},E.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var g=this._reads[0];if(this._buffer.length&&(this._buffer.length>=g.length||g.allowLess)){this._reads.shift();var u=this._buffer;this._buffer=u.slice(g.length),g.func.call(this,u.slice(0,g.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(M,H,w){(function(E){typeof E>"u"||!E.version||E.version.indexOf("v0.")===0||E.version.indexOf("v1.")===0&&E.version.indexOf("v1.8.")!==0?H.exports={nextTick:g}:H.exports=E;function g(u,p,l,a){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,t,e;switch(i){case 0:case 1:return E.nextTick(u);case 2:return E.nextTick(function(){u.call(null,p)});case 3:return E.nextTick(function(){u.call(null,p,l)});case 4:return E.nextTick(function(){u.call(null,p,l,a)});default:for(t=new Array(i-1),e=0;e<t.length;)t[e++]=arguments[e];return E.nextTick(function(){u.apply(null,t)})}}}).call(this,M("_process"))},{_process:133}],133:[function(M,H,w){var E=H.exports={},g,u;function p(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?g=setTimeout:g=p}catch{g=p}try{typeof clearTimeout=="function"?u=clearTimeout:u=l}catch{u=l}})();function a(c){if(g===setTimeout)return setTimeout(c,0);if((g===p||!g)&&setTimeout)return g=setTimeout,setTimeout(c,0);try{return g(c,0)}catch{try{return g.call(null,c,0)}catch{return g.call(this,c,0)}}}function i(c){if(u===clearTimeout)return clearTimeout(c);if((u===l||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(c);try{return u(c)}catch{try{return u.call(null,c)}catch{return u.call(this,c)}}}var t=[],e=!1,s,f=-1;function n(){!e||!s||(e=!1,s.length?t=s.concat(t):f=-1,t.length&&o())}function o(){if(!e){var c=a(n);e=!0;for(var d=t.length;d;){for(s=t,t=[];++f<d;)s&&s[f].run();f=-1,d=t.length}s=null,e=!1,i(c)}}E.nextTick=function(c){var d=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)d[v-1]=arguments[v];t.push(new r(c,d)),t.length===1&&!e&&a(o)};function r(c,d){this.fun=c,this.array=d}r.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={};function h(){}E.on=h,E.addListener=h,E.once=h,E.off=h,E.removeListener=h,E.removeAllListeners=h,E.emit=h,E.prependListener=h,E.prependOnceListener=h,E.listeners=function(c){return[]},E.binding=function(c){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(c){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],134:[function(M,H,w){(function(E){(function(g){var u=typeof w=="object"&&w&&!w.nodeType&&w,p=typeof H=="object"&&H&&!H.nodeType&&H,l=typeof E=="object"&&E;(l.global===l||l.window===l||l.self===l)&&(g=l);var a,i=2147483647,t=36,e=1,s=26,f=38,n=700,o=72,r=128,h="-",c=/^xn--/,d=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=t-e,y=Math.floor,S=String.fromCharCode,R;function L(Y){throw new RangeError(_[Y])}function T(Y,j){for(var Q=Y.length,re=[];Q--;)re[Q]=j(Y[Q]);return re}function x(Y,j){var Q=Y.split("@"),re="";Q.length>1&&(re=Q[0]+"@",Y=Q[1]),Y=Y.replace(v,".");var se=Y.split("."),le=T(se,j).join(".");return re+le}function z(Y){for(var j=[],Q=0,re=Y.length,se,le;Q<re;)se=Y.charCodeAt(Q++),se>=55296&&se<=56319&&Q<re?(le=Y.charCodeAt(Q++),(le&64512)==56320?j.push(((se&1023)<<10)+(le&1023)+65536):(j.push(se),Q--)):j.push(se);return j}function k(Y){return T(Y,function(j){var Q="";return j>65535&&(j-=65536,Q+=S(j>>>10&1023|55296),j=56320|j&1023),Q+=S(j),Q}).join("")}function O(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:t}function D(Y,j){return Y+22+75*(Y<26)-((j!=0)<<5)}function W(Y,j,Q){var re=0;for(Y=Q?y(Y/n):Y>>1,Y+=y(Y/j);Y>b*s>>1;re+=t)Y=y(Y/b);return y(re+(b+1)*Y/(Y+f))}function q(Y){var j=[],Q=Y.length,re,se=0,le=r,fe=o,ve,ne,ie,V,ee,$,G,I,P;for(ve=Y.lastIndexOf(h),ve<0&&(ve=0),ne=0;ne<ve;++ne)Y.charCodeAt(ne)>=128&&L("not-basic"),j.push(Y.charCodeAt(ne));for(ie=ve>0?ve+1:0;ie<Q;){for(V=se,ee=1,$=t;ie>=Q&&L("invalid-input"),G=O(Y.charCodeAt(ie++)),(G>=t||G>y((i-se)/ee))&&L("overflow"),se+=G*ee,I=$<=fe?e:$>=fe+s?s:$-fe,!(G<I);$+=t)P=t-I,ee>y(i/P)&&L("overflow"),ee*=P;re=j.length+1,fe=W(se-V,re,V==0),y(se/re)>i-le&&L("overflow"),le+=y(se/re),se%=re,j.splice(se++,0,le)}return k(j)}function te(Y){var j,Q,re,se,le,fe,ve,ne,ie,V,ee,$=[],G,I,P,Z;for(Y=z(Y),G=Y.length,j=r,Q=0,le=o,fe=0;fe<G;++fe)ee=Y[fe],ee<128&&$.push(S(ee));for(re=se=$.length,se&&$.push(h);re<G;){for(ve=i,fe=0;fe<G;++fe)ee=Y[fe],ee>=j&&ee<ve&&(ve=ee);for(I=re+1,ve-j>y((i-Q)/I)&&L("overflow"),Q+=(ve-j)*I,j=ve,fe=0;fe<G;++fe)if(ee=Y[fe],ee<j&&++Q>i&&L("overflow"),ee==j){for(ne=Q,ie=t;V=ie<=le?e:ie>=le+s?s:ie-le,!(ne<V);ie+=t)Z=ne-V,P=t-V,$.push(S(D(V+Z%P,0))),ne=y(Z/P);$.push(S(D(ne,0))),le=W(Q,I,re==se),Q=0,++re}++Q,++j}return $.join("")}function K(Y){return x(Y,function(j){return c.test(j)?q(j.slice(4).toLowerCase()):j})}function F(Y){return x(Y,function(j){return d.test(j)?"xn--"+te(j):j})}if(a={version:"1.4.1",ucs2:{decode:z,encode:k},decode:q,encode:te,toASCII:F,toUnicode:K},u&&p)if(H.exports==u)p.exports=a;else for(R in a)a.hasOwnProperty(R)&&(u[R]=a[R]);else g.punycode=a})(this)}).call(this,typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{}],135:[function(M,H,w){function E(u,p){return Object.prototype.hasOwnProperty.call(u,p)}H.exports=function(u,p,l,a){p=p||"&",l=l||"=";var i={};if(typeof u!="string"||u.length===0)return i;var t=/\+/g;u=u.split(p);var e=1e3;a&&typeof a.maxKeys=="number"&&(e=a.maxKeys);var s=u.length;e>0&&s>e&&(s=e);for(var f=0;f<s;++f){var n=u[f].replace(t,"%20"),o=n.indexOf(l),r,h,c,d;o>=0?(r=n.substr(0,o),h=n.substr(o+1)):(r=n,h=""),c=decodeURIComponent(r),d=decodeURIComponent(h),E(i,c)?g(i[c])?i[c].push(d):i[c]=[i[c],d]:i[c]=d}return i};var g=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"}},{}],136:[function(M,H,w){var E=function(l){switch(typeof l){case"string":return l;case"boolean":return l?"true":"false";case"number":return isFinite(l)?l:"";default:return""}};H.exports=function(l,a,i,t){return a=a||"&",i=i||"=",l===null&&(l=void 0),typeof l=="object"?u(p(l),function(e){var s=encodeURIComponent(E(e))+i;return g(l[e])?u(l[e],function(f){return s+encodeURIComponent(E(f))}).join(a):s+encodeURIComponent(E(l[e]))}).join(a):t?encodeURIComponent(E(t))+i+encodeURIComponent(E(l)):""};var g=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function u(l,a){if(l.map)return l.map(a);for(var i=[],t=0;t<l.length;t++)i.push(a(l[t],t));return i}var p=Object.keys||function(l){var a=[];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&a.push(i);return a}},{}],137:[function(M,H,w){w.decode=w.parse=M("./decode"),w.encode=w.stringify=M("./encode")},{"./decode":135,"./encode":136}],138:[function(M,H,w){H.exports=M("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(M,H,w){var E=M("process-nextick-args"),g=Object.keys||function(n){var o=[];for(var r in n)o.push(r);return o};H.exports=e;var u=M("core-util-is");u.inherits=M("inherits");var p=M("./_stream_readable"),l=M("./_stream_writable");u.inherits(e,p);for(var a=g(l.prototype),i=0;i<a.length;i++){var t=a[i];e.prototype[t]||(e.prototype[t]=l.prototype[t])}function e(n){if(!(this instanceof e))return new e(n);p.call(this,n),l.call(this,n),n&&n.readable===!1&&(this.readable=!1),n&&n.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,n&&n.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",s)}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(){this.allowHalfOpen||this._writableState.ended||E.nextTick(f,this)}function f(n){n.end()}Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}}),e.prototype._destroy=function(n,o){this.push(null),this.end(),E.nextTick(o,n)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(M,H,w){H.exports=u;var E=M("./_stream_transform"),g=M("core-util-is");g.inherits=M("inherits"),g.inherits(u,E);function u(p){if(!(this instanceof u))return new u(p);E.call(this,p)}u.prototype._transform=function(p,l,a){a(null,p)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(M,H,w){(function(E,g){var u=M("process-nextick-args");H.exports=y;var p=M("isarray"),l;y.ReadableState=b,M("events").EventEmitter;var a=function(V,ee){return V.listeners(ee).length},i=M("./internal/streams/stream"),t=M("safe-buffer").Buffer,e=g.Uint8Array||function(){};function s(V){return t.from(V)}function f(V){return t.isBuffer(V)||V instanceof e}var n=M("core-util-is");n.inherits=M("inherits");var o=M("util"),r=void 0;o&&o.debuglog?r=o.debuglog("stream"):r=function(){};var h=M("./internal/streams/BufferList"),c=M("./internal/streams/destroy"),d;n.inherits(y,i);var v=["error","close","destroy","pause","resume"];function _(V,ee,$){if(typeof V.prependListener=="function")return V.prependListener(ee,$);!V._events||!V._events[ee]?V.on(ee,$):p(V._events[ee])?V._events[ee].unshift($):V._events[ee]=[$,V._events[ee]]}function b(V,ee){l=l||M("./_stream_duplex"),V=V||{};var $=ee instanceof l;this.objectMode=!!V.objectMode,$&&(this.objectMode=this.objectMode||!!V.readableObjectMode);var G=V.highWaterMark,I=V.readableHighWaterMark,P=this.objectMode?16:16*1024;G||G===0?this.highWaterMark=G:$&&(I||I===0)?this.highWaterMark=I:this.highWaterMark=P,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(d||(d=M("string_decoder/").StringDecoder),this.decoder=new d(V.encoding),this.encoding=V.encoding)}function y(V){if(l=l||M("./_stream_duplex"),!(this instanceof y))return new y(V);this._readableState=new b(V,this),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),i.call(this)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),y.prototype.destroy=c.destroy,y.prototype._undestroy=c.undestroy,y.prototype._destroy=function(V,ee){this.push(null),ee(V)},y.prototype.push=function(V,ee){var $=this._readableState,G;return $.objectMode?G=!0:typeof V=="string"&&(ee=ee||$.defaultEncoding,ee!==$.encoding&&(V=t.from(V,ee),ee=""),G=!0),S(this,V,ee,!1,G)},y.prototype.unshift=function(V){return S(this,V,null,!0,!1)};function S(V,ee,$,G,I){var P=V._readableState;if(ee===null)P.reading=!1,O(V,P);else{var Z;I||(Z=L(P,ee)),Z?V.emit("error",Z):P.objectMode||ee&&ee.length>0?(typeof ee!="string"&&!P.objectMode&&Object.getPrototypeOf(ee)!==t.prototype&&(ee=s(ee)),G?P.endEmitted?V.emit("error",new Error("stream.unshift() after end event")):R(V,P,ee,!0):P.ended?V.emit("error",new Error("stream.push() after EOF")):(P.reading=!1,P.decoder&&!$?(ee=P.decoder.write(ee),P.objectMode||ee.length!==0?R(V,P,ee,!1):q(V,P)):R(V,P,ee,!1))):G||(P.reading=!1)}return T(P)}function R(V,ee,$,G){ee.flowing&&ee.length===0&&!ee.sync?(V.emit("data",$),V.read(0)):(ee.length+=ee.objectMode?1:$.length,G?ee.buffer.unshift($):ee.buffer.push($),ee.needReadable&&D(V)),q(V,ee)}function L(V,ee){var $;return!f(ee)&&typeof ee!="string"&&ee!==void 0&&!V.objectMode&&($=new TypeError("Invalid non-string/buffer chunk")),$}function T(V){return!V.ended&&(V.needReadable||V.length<V.highWaterMark||V.length===0)}y.prototype.isPaused=function(){return this._readableState.flowing===!1},y.prototype.setEncoding=function(V){return d||(d=M("string_decoder/").StringDecoder),this._readableState.decoder=new d(V),this._readableState.encoding=V,this};var x=8388608;function z(V){return V>=x?V=x:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function k(V,ee){return V<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:V!==V?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(V>ee.highWaterMark&&(ee.highWaterMark=z(V)),V<=ee.length?V:ee.ended?ee.length:(ee.needReadable=!0,0))}y.prototype.read=function(V){r("read",V),V=parseInt(V,10);var ee=this._readableState,$=V;if(V!==0&&(ee.emittedReadable=!1),V===0&&ee.needReadable&&(ee.length>=ee.highWaterMark||ee.ended))return r("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?ve(this):D(this),null;if(V=k(V,ee),V===0&&ee.ended)return ee.length===0&&ve(this),null;var G=ee.needReadable;r("need readable",G),(ee.length===0||ee.length-V<ee.highWaterMark)&&(G=!0,r("length less than watermark",G)),ee.ended||ee.reading?(G=!1,r("reading or ended",G)):G&&(r("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(V=k($,ee)));var I;return V>0?I=re(V,ee):I=null,I===null?(ee.needReadable=!0,V=0):ee.length-=V,ee.length===0&&(ee.ended||(ee.needReadable=!0),$!==V&&ee.ended&&ve(this)),I!==null&&this.emit("data",I),I};function O(V,ee){if(!ee.ended){if(ee.decoder){var $=ee.decoder.end();$&&$.length&&(ee.buffer.push($),ee.length+=ee.objectMode?1:$.length)}ee.ended=!0,D(V)}}function D(V){var ee=V._readableState;ee.needReadable=!1,ee.emittedReadable||(r("emitReadable",ee.flowing),ee.emittedReadable=!0,ee.sync?u.nextTick(W,V):W(V))}function W(V){r("emit readable"),V.emit("readable"),Q(V)}function q(V,ee){ee.readingMore||(ee.readingMore=!0,u.nextTick(te,V,ee))}function te(V,ee){for(var $=ee.length;!ee.reading&&!ee.flowing&&!ee.ended&&ee.length<ee.highWaterMark&&(r("maybeReadMore read 0"),V.read(0),$!==ee.length);)$=ee.length;ee.readingMore=!1}y.prototype._read=function(V){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(V,ee){var $=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=V;break;case 1:G.pipes=[G.pipes,V];break;default:G.pipes.push(V);break}G.pipesCount+=1,r("pipe count=%d opts=%j",G.pipesCount,ee);var I=(!ee||ee.end!==!1)&&V!==E.stdout&&V!==E.stderr,P=I?U:Re;G.endEmitted?u.nextTick(P):$.once("end",P),V.on("unpipe",Z);function Z(Ce,Me){r("onunpipe"),Ce===$&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,X())}function U(){r("onend"),V.end()}var C=K($);V.on("drain",C);var A=!1;function X(){r("cleanup"),V.removeListener("close",Ee),V.removeListener("finish",Pe),V.removeListener("drain",C),V.removeListener("error",_e),V.removeListener("unpipe",Z),$.removeListener("end",U),$.removeListener("end",Re),$.removeListener("data",pe),A=!0,G.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&C()}var ae=!1;$.on("data",pe);function pe(Ce){r("ondata"),ae=!1;var Me=V.write(Ce);Me===!1&&!ae&&((G.pipesCount===1&&G.pipes===V||G.pipesCount>1&&ie(G.pipes,V)!==-1)&&!A&&(r("false write response, pause",$._readableState.awaitDrain),$._readableState.awaitDrain++,ae=!0),$.pause())}function _e(Ce){r("onerror",Ce),Re(),V.removeListener("error",_e),a(V,"error")===0&&V.emit("error",Ce)}_(V,"error",_e);function Ee(){V.removeListener("finish",Pe),Re()}V.once("close",Ee);function Pe(){r("onfinish"),V.removeListener("close",Ee),Re()}V.once("finish",Pe);function Re(){r("unpipe"),$.unpipe(V)}return V.emit("pipe",$),G.flowing||(r("pipe resume"),$.resume()),V};function K(V){return function(){var ee=V._readableState;r("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&a(V,"data")&&(ee.flowing=!0,Q(V))}}y.prototype.unpipe=function(V){var ee=this._readableState,$={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return V&&V!==ee.pipes?this:(V||(V=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,V&&V.emit("unpipe",this,$),this);if(!V){var G=ee.pipes,I=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var P=0;P<I;P++)G[P].emit("unpipe",this,$);return this}var Z=ie(ee.pipes,V);return Z===-1?this:(ee.pipes.splice(Z,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),V.emit("unpipe",this,$),this)},y.prototype.on=function(V,ee){var $=i.prototype.on.call(this,V,ee);if(V==="data")this._readableState.flowing!==!1&&this.resume();else if(V==="readable"){var G=this._readableState;!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.emittedReadable=!1,G.reading?G.length&&D(this):u.nextTick(F,this))}return $},y.prototype.addListener=y.prototype.on;function F(V){r("readable nexttick read 0"),V.read(0)}y.prototype.resume=function(){var V=this._readableState;return V.flowing||(r("resume"),V.flowing=!0,Y(this,V)),this};function Y(V,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,u.nextTick(j,V,ee))}function j(V,ee){ee.reading||(r("resume read 0"),V.read(0)),ee.resumeScheduled=!1,ee.awaitDrain=0,V.emit("resume"),Q(V),ee.flowing&&!ee.reading&&V.read(0)}y.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Q(V){var ee=V._readableState;for(r("flow",ee.flowing);ee.flowing&&V.read()!==null;);}y.prototype.wrap=function(V){var ee=this,$=this._readableState,G=!1;V.on("end",function(){if(r("wrapped end"),$.decoder&&!$.ended){var Z=$.decoder.end();Z&&Z.length&&ee.push(Z)}ee.push(null)}),V.on("data",function(Z){if(r("wrapped data"),$.decoder&&(Z=$.decoder.write(Z)),!($.objectMode&&Z==null)&&!(!$.objectMode&&(!Z||!Z.length))){var U=ee.push(Z);U||(G=!0,V.pause())}});for(var I in V)this[I]===void 0&&typeof V[I]=="function"&&(this[I]=(function(Z){return function(){return V[Z].apply(V,arguments)}})(I));for(var P=0;P<v.length;P++)V.on(v[P],this.emit.bind(this,v[P]));return this._read=function(Z){r("wrapped _read",Z),G&&(G=!1,V.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=re;function re(V,ee){if(ee.length===0)return null;var $;return ee.objectMode?$=ee.buffer.shift():!V||V>=ee.length?(ee.decoder?$=ee.buffer.join(""):ee.buffer.length===1?$=ee.buffer.head.data:$=ee.buffer.concat(ee.length),ee.buffer.clear()):$=se(V,ee.buffer,ee.decoder),$}function se(V,ee,$){var G;return V<ee.head.data.length?(G=ee.head.data.slice(0,V),ee.head.data=ee.head.data.slice(V)):V===ee.head.data.length?G=ee.shift():G=$?le(V,ee):fe(V,ee),G}function le(V,ee){var $=ee.head,G=1,I=$.data;for(V-=I.length;$=$.next;){var P=$.data,Z=V>P.length?P.length:V;if(Z===P.length?I+=P:I+=P.slice(0,V),V-=Z,V===0){Z===P.length?(++G,$.next?ee.head=$.next:ee.head=ee.tail=null):(ee.head=$,$.data=P.slice(Z));break}++G}return ee.length-=G,I}function fe(V,ee){var $=t.allocUnsafe(V),G=ee.head,I=1;for(G.data.copy($),V-=G.data.length;G=G.next;){var P=G.data,Z=V>P.length?P.length:V;if(P.copy($,$.length-V,0,Z),V-=Z,V===0){Z===P.length?(++I,G.next?ee.head=G.next:ee.head=ee.tail=null):(ee.head=G,G.data=P.slice(Z));break}++I}return ee.length-=I,$}function ve(V){var ee=V._readableState;if(ee.length>0)throw new Error('"endReadable()" called on non-empty stream');ee.endEmitted||(ee.ended=!0,u.nextTick(ne,ee,V))}function ne(V,ee){!V.endEmitted&&V.length===0&&(V.endEmitted=!0,ee.readable=!1,ee.emit("end"))}function ie(V,ee){for(var $=0,G=V.length;$<G;$++)if(V[$]===ee)return $;return-1}}).call(this,M("_process"),typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(M,H,w){H.exports=p;var E=M("./_stream_duplex"),g=M("core-util-is");g.inherits=M("inherits"),g.inherits(p,E);function u(i,t){var e=this._transformState;e.transforming=!1;var s=e.writecb;if(!s)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,t!=null&&this.push(t),s(i);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function p(i){if(!(this instanceof p))return new p(i);E.call(this,i),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",l)}function l(){var i=this;typeof this._flush=="function"?this._flush(function(t,e){a(i,t,e)}):a(this,null,null)}p.prototype.push=function(i,t){return this._transformState.needTransform=!1,E.prototype.push.call(this,i,t)},p.prototype._transform=function(i,t,e){throw new Error("_transform() is not implemented")},p.prototype._write=function(i,t,e){var s=this._transformState;if(s.writecb=e,s.writechunk=i,s.writeencoding=t,!s.transforming){var f=this._readableState;(s.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},p.prototype._read=function(i){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},p.prototype._destroy=function(i,t){var e=this;E.prototype._destroy.call(this,i,function(s){t(s),e.emit("close")})};function a(i,t,e){if(t)return i.emit("error",t);if(e!=null&&i.push(e),i._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(i._transformState.transforming)throw new Error("Calling transform done when still transforming");return i.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(M,H,w){(function(E,g,u){var p=M("process-nextick-args");H.exports=_;function l(j){var Q=this;this.next=null,this.entry=null,this.finish=function(){Y(Q,j)}}var a=!E.browser&&["v0.10","v0.9."].indexOf(E.version.slice(0,5))>-1?u:p.nextTick,i;_.WritableState=d;var t=M("core-util-is");t.inherits=M("inherits");var e={deprecate:M("util-deprecate")},s=M("./internal/streams/stream"),f=M("safe-buffer").Buffer,n=g.Uint8Array||function(){};function o(j){return f.from(j)}function r(j){return f.isBuffer(j)||j instanceof n}var h=M("./internal/streams/destroy");t.inherits(_,s);function c(){}function d(j,Q){i=i||M("./_stream_duplex"),j=j||{};var re=Q instanceof i;this.objectMode=!!j.objectMode,re&&(this.objectMode=this.objectMode||!!j.writableObjectMode);var se=j.highWaterMark,le=j.writableHighWaterMark,fe=this.objectMode?16:16*1024;se||se===0?this.highWaterMark=se:re&&(le||le===0)?this.highWaterMark=le:this.highWaterMark=fe,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=j.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){z(Q,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}d.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,re=[];Q;)re.push(Q),Q=Q.next;return re},(function(){try{Object.defineProperty(d.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var v;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(j){return v.call(this,j)?!0:this!==_?!1:j&&j._writableState instanceof d}})):v=function(j){return j instanceof this};function _(j){if(i=i||M("./_stream_duplex"),!v.call(_,this)&&!(this instanceof i))return new _(j);this._writableState=new d(j,this),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),s.call(this)}_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function b(j,Q){var re=new Error("write after end");j.emit("error",re),p.nextTick(Q,re)}function y(j,Q,re,se){var le=!0,fe=!1;return re===null?fe=new TypeError("May not write null values to stream"):typeof re!="string"&&re!==void 0&&!Q.objectMode&&(fe=new TypeError("Invalid non-string/buffer chunk")),fe&&(j.emit("error",fe),p.nextTick(se,fe),le=!1),le}_.prototype.write=function(j,Q,re){var se=this._writableState,le=!1,fe=!se.objectMode&&r(j);return fe&&!f.isBuffer(j)&&(j=o(j)),typeof Q=="function"&&(re=Q,Q=null),fe?Q="buffer":Q||(Q=se.defaultEncoding),typeof re!="function"&&(re=c),se.ended?b(this,re):(fe||y(this,se,j,re))&&(se.pendingcb++,le=R(this,se,fe,j,Q,re)),le},_.prototype.cork=function(){var j=this._writableState;j.corked++},_.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,!j.writing&&!j.corked&&!j.finished&&!j.bufferProcessing&&j.bufferedRequest&&D(this,j))},_.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Q);return this._writableState.defaultEncoding=Q,this};function S(j,Q,re){return!j.objectMode&&j.decodeStrings!==!1&&typeof Q=="string"&&(Q=f.from(Q,re)),Q}Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(j,Q,re,se,le,fe){if(!re){var ve=S(Q,se,le);se!==ve&&(re=!0,le="buffer",se=ve)}var ne=Q.objectMode?1:se.length;Q.length+=ne;var ie=Q.length<Q.highWaterMark;if(ie||(Q.needDrain=!0),Q.writing||Q.corked){var V=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:se,encoding:le,isBuf:re,callback:fe,next:null},V?V.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else L(j,Q,!1,ne,se,le,fe);return ie}function L(j,Q,re,se,le,fe,ve){Q.writelen=se,Q.writecb=ve,Q.writing=!0,Q.sync=!0,re?j._writev(le,Q.onwrite):j._write(le,fe,Q.onwrite),Q.sync=!1}function T(j,Q,re,se,le){--Q.pendingcb,re?(p.nextTick(le,se),p.nextTick(K,j,Q),j._writableState.errorEmitted=!0,j.emit("error",se)):(le(se),j._writableState.errorEmitted=!0,j.emit("error",se),K(j,Q))}function x(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}function z(j,Q){var re=j._writableState,se=re.sync,le=re.writecb;if(x(re),Q)T(j,re,se,Q,le);else{var fe=W(re);!fe&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&D(j,re),se?a(k,j,re,fe,le):k(j,re,fe,le)}}function k(j,Q,re,se){re||O(j,Q),Q.pendingcb--,se(),K(j,Q)}function O(j,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,j.emit("drain"))}function D(j,Q){Q.bufferProcessing=!0;var re=Q.bufferedRequest;if(j._writev&&re&&re.next){var se=Q.bufferedRequestCount,le=new Array(se),fe=Q.corkedRequestsFree;fe.entry=re;for(var ve=0,ne=!0;re;)le[ve]=re,re.isBuf||(ne=!1),re=re.next,ve+=1;le.allBuffers=ne,L(j,Q,!0,Q.length,le,"",fe.finish),Q.pendingcb++,Q.lastBufferedRequest=null,fe.next?(Q.corkedRequestsFree=fe.next,fe.next=null):Q.corkedRequestsFree=new l(Q),Q.bufferedRequestCount=0}else{for(;re;){var ie=re.chunk,V=re.encoding,ee=re.callback,$=Q.objectMode?1:ie.length;if(L(j,Q,!1,$,ie,V,ee),re=re.next,Q.bufferedRequestCount--,Q.writing)break}re===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=re,Q.bufferProcessing=!1}_.prototype._write=function(j,Q,re){re(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(j,Q,re){var se=this._writableState;typeof j=="function"?(re=j,j=null,Q=null):typeof Q=="function"&&(re=Q,Q=null),j!=null&&this.write(j,Q),se.corked&&(se.corked=1,this.uncork()),!se.ending&&!se.finished&&F(this,se,re)};function W(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function q(j,Q){j._final(function(re){Q.pendingcb--,re&&j.emit("error",re),Q.prefinished=!0,j.emit("prefinish"),K(j,Q)})}function te(j,Q){!Q.prefinished&&!Q.finalCalled&&(typeof j._final=="function"?(Q.pendingcb++,Q.finalCalled=!0,p.nextTick(q,j,Q)):(Q.prefinished=!0,j.emit("prefinish")))}function K(j,Q){var re=W(Q);return re&&(te(j,Q),Q.pendingcb===0&&(Q.finished=!0,j.emit("finish"))),re}function F(j,Q,re){Q.ending=!0,K(j,Q),re&&(Q.finished?p.nextTick(re):j.once("finish",re)),Q.ended=!0,j.writable=!1}function Y(j,Q,re){var se=j.entry;for(j.entry=null;se;){var le=se.callback;Q.pendingcb--,le(re),se=se.next}Q.corkedRequestsFree?Q.corkedRequestsFree.next=j:Q.corkedRequestsFree=j}Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),_.prototype.destroy=h.destroy,_.prototype._undestroy=h.undestroy,_.prototype._destroy=function(j,Q){this.end(),Q(j)}}).call(this,M("_process"),typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{},M("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(M,H,w){function E(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}var g=M("safe-buffer").Buffer,u=M("util");function p(l,a,i){l.copy(a,i)}H.exports=(function(){function l(){E(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(i){var t={data:i,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},l.prototype.unshift=function(i){var t={data:i,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},l.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(i){if(this.length===0)return"";for(var t=this.head,e=""+t.data;t=t.next;)e+=i+t.data;return e},l.prototype.concat=function(i){if(this.length===0)return g.alloc(0);if(this.length===1)return this.head.data;for(var t=g.allocUnsafe(i>>>0),e=this.head,s=0;e;)p(e.data,t,s),s+=e.data.length,e=e.next;return t},l})(),u&&u.inspect&&u.inspect.custom&&(H.exports.prototype[u.inspect.custom]=function(){var l=u.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":147,util:33}],145:[function(M,H,w){var E=M("process-nextick-args");function g(l,a){var i=this,t=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return t||e?(a?a(l):l&&(!this._writableState||!this._writableState.errorEmitted)&&E.nextTick(p,this,l),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(s){!a&&s?(E.nextTick(p,i,s),i._writableState&&(i._writableState.errorEmitted=!0)):a&&a(s)}),this)}function u(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(l,a){l.emit("error",a)}H.exports={destroy:g,undestroy:u}},{"process-nextick-args":132}],146:[function(M,H,w){H.exports=M("events").EventEmitter},{events:52}],147:[function(M,H,w){var E=M("buffer"),g=E.Buffer;function u(l,a){for(var i in l)a[i]=l[i]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?H.exports=E:(u(E,w),w.Buffer=p);function p(l,a,i){return g(l,a,i)}u(g,p),p.from=function(l,a,i){if(typeof l=="number")throw new TypeError("Argument must not be a number");return g(l,a,i)},p.alloc=function(l,a,i){if(typeof l!="number")throw new TypeError("Argument must be a number");var t=g(l);return a!==void 0?typeof i=="string"?t.fill(a,i):t.fill(a):t.fill(0),t},p.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return g(l)},p.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(l)}},{buffer:48}],148:[function(M,H,w){var E=M("safe-buffer").Buffer,g=E.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(v){if(!v)return"utf8";for(var _;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(_)return;v=(""+v).toLowerCase(),_=!0}}function p(v){var _=u(v);if(typeof _!="string"&&(E.isEncoding===g||!g(v)))throw new Error("Unknown encoding: "+v);return _||v}w.StringDecoder=l;function l(v){this.encoding=p(v);var _;switch(this.encoding){case"utf16le":this.text=n,this.end=o,_=4;break;case"utf8":this.fillLast=e,_=4;break;case"base64":this.text=r,this.end=h,_=3;break;default:this.write=c,this.end=d;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(_)}l.prototype.write=function(v){if(v.length===0)return"";var _,b;if(this.lastNeed){if(_=this.fillLast(v),_===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<v.length?_?_+this.text(v,b):this.text(v,b):_||""},l.prototype.end=f,l.prototype.text=s,l.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function a(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function i(v,_,b){var y=_.length-1;if(y<b)return 0;var S=a(_[y]);return S>=0?(S>0&&(v.lastNeed=S-1),S):--y<b||S===-2?0:(S=a(_[y]),S>=0?(S>0&&(v.lastNeed=S-2),S):--y<b||S===-2?0:(S=a(_[y]),S>=0?(S>0&&(S===2?S=0:v.lastNeed=S-3),S):0))}function t(v,_,b){if((_[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return v.lastNeed=2,""}}function e(v){var _=this.lastTotal-this.lastNeed,b=t(this,v);if(b!==void 0)return b;if(this.lastNeed<=v.length)return v.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,_,0,v.length),this.lastNeed-=v.length}function s(v,_){var b=i(this,v,_);if(!this.lastNeed)return v.toString("utf8",_);this.lastTotal=b;var y=v.length-(b-this.lastNeed);return v.copy(this.lastChar,0,y),v.toString("utf8",_,y)}function f(v){var _=v&&v.length?this.write(v):"";return this.lastNeed?_+"":_}function n(v,_){if((v.length-_)%2===0){var b=v.toString("utf16le",_);if(b){var y=b.charCodeAt(b.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",_,v.length-1)}function o(v){var _=v&&v.length?this.write(v):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,b)}return _}function r(v,_){var b=(v.length-_)%3;return b===0?v.toString("base64",_):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",_,v.length-b))}function h(v){var _=v&&v.length?this.write(v):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function c(v){return v.toString(this.encoding)}function d(v){return v&&v.length?this.write(v):""}},{"safe-buffer":147}],149:[function(M,H,w){H.exports=M("./readable").PassThrough},{"./readable":150}],150:[function(M,H,w){w=H.exports=M("./lib/_stream_readable.js"),w.Stream=w,w.Readable=w,w.Writable=M("./lib/_stream_writable.js"),w.Duplex=M("./lib/_stream_duplex.js"),w.Transform=M("./lib/_stream_transform.js"),w.PassThrough=M("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(M,H,w){H.exports=M("./readable").Transform},{"./readable":150}],152:[function(M,H,w){H.exports=M("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(M,H,w){var E=(function(g){var u=Object.prototype,p=u.hasOwnProperty,l,a=typeof Symbol=="function"?Symbol:{},i=a.iterator||"@@iterator",t=a.asyncIterator||"@@asyncIterator",e=a.toStringTag||"@@toStringTag";function s(te,K,F,Y){var j=K&&K.prototype instanceof d?K:d,Q=Object.create(j.prototype),re=new D(Y||[]);return Q._invoke=x(te,F,re),Q}g.wrap=s;function f(te,K,F){try{return{type:"normal",arg:te.call(K,F)}}catch(Y){return{type:"throw",arg:Y}}}var n="suspendedStart",o="suspendedYield",r="executing",h="completed",c={};function d(){}function v(){}function _(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,S=y&&y(y(W([])));S&&S!==u&&p.call(S,i)&&(b=S);var R=_.prototype=d.prototype=Object.create(b);v.prototype=R.constructor=_,_.constructor=v,_[e]=v.displayName="GeneratorFunction";function L(te){["next","throw","return"].forEach(function(K){te[K]=function(F){return this._invoke(K,F)}})}g.isGeneratorFunction=function(te){var K=typeof te=="function"&&te.constructor;return K?K===v||(K.displayName||K.name)==="GeneratorFunction":!1},g.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,_):(te.__proto__=_,e in te||(te[e]="GeneratorFunction")),te.prototype=Object.create(R),te},g.awrap=function(te){return{__await:te}};function T(te){function K(j,Q,re,se){var le=f(te[j],te,Q);if(le.type==="throw")se(le.arg);else{var fe=le.arg,ve=fe.value;return ve&&typeof ve=="object"&&p.call(ve,"__await")?Promise.resolve(ve.__await).then(function(ne){K("next",ne,re,se)},function(ne){K("throw",ne,re,se)}):Promise.resolve(ve).then(function(ne){fe.value=ne,re(fe)},function(ne){return K("throw",ne,re,se)})}}var F;function Y(j,Q){function re(){return new Promise(function(se,le){K(j,Q,se,le)})}return F=F?F.then(re,re):re()}this._invoke=Y}L(T.prototype),T.prototype[t]=function(){return this},g.AsyncIterator=T,g.async=function(te,K,F,Y){var j=new T(s(te,K,F,Y));return g.isGeneratorFunction(K)?j:j.next().then(function(Q){return Q.done?Q.value:j.next()})};function x(te,K,F){var Y=n;return function(Q,re){if(Y===r)throw new Error("Generator is already running");if(Y===h){if(Q==="throw")throw re;return q()}for(F.method=Q,F.arg=re;;){var se=F.delegate;if(se){var le=z(se,F);if(le){if(le===c)continue;return le}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(Y===n)throw Y=h,F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);Y=r;var fe=f(te,K,F);if(fe.type==="normal"){if(Y=F.done?h:o,fe.arg===c)continue;return{value:fe.arg,done:F.done}}else fe.type==="throw"&&(Y=h,F.method="throw",F.arg=fe.arg)}}}function z(te,K){var F=te.iterator[K.method];if(F===l){if(K.delegate=null,K.method==="throw"){if(te.iterator.return&&(K.method="return",K.arg=l,z(te,K),K.method==="throw"))return c;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var Y=f(F,te.iterator,K.arg);if(Y.type==="throw")return K.method="throw",K.arg=Y.arg,K.delegate=null,c;var j=Y.arg;if(!j)return K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,c;if(j.done)K[te.resultName]=j.value,K.next=te.nextLoc,K.method!=="return"&&(K.method="next",K.arg=l);else return j;return K.delegate=null,c}L(R),R[e]="Generator",R[i]=function(){return this},R.toString=function(){return"[object Generator]"};function k(te){var K={tryLoc:te[0]};1 in te&&(K.catchLoc=te[1]),2 in te&&(K.finallyLoc=te[2],K.afterLoc=te[3]),this.tryEntries.push(K)}function O(te){var K=te.completion||{};K.type="normal",delete K.arg,te.completion=K}function D(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(k,this),this.reset(!0)}g.keys=function(te){var K=[];for(var F in te)K.push(F);return K.reverse(),function Y(){for(;K.length;){var j=K.pop();if(j in te)return Y.value=j,Y.done=!1,Y}return Y.done=!0,Y}};function W(te){if(te){var K=te[i];if(K)return K.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var F=-1,Y=function j(){for(;++F<te.length;)if(p.call(te,F))return j.value=te[F],j.done=!1,j;return j.value=l,j.done=!0,j};return Y.next=Y}}return{next:q}}g.values=W;function q(){return{value:l,done:!0}}return D.prototype={constructor:D,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(O),!te)for(var K in this)K.charAt(0)==="t"&&p.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=l)},stop:function(){this.done=!0;var te=this.tryEntries[0],K=te.completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var K=this;function F(le,fe){return Q.type="throw",Q.arg=te,K.next=le,fe&&(K.method="next",K.arg=l),!!fe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var j=this.tryEntries[Y],Q=j.completion;if(j.tryLoc==="root")return F("end");if(j.tryLoc<=this.prev){var re=p.call(j,"catchLoc"),se=p.call(j,"finallyLoc");if(re&&se){if(this.prev<j.catchLoc)return F(j.catchLoc,!0);if(this.prev<j.finallyLoc)return F(j.finallyLoc)}else if(re){if(this.prev<j.catchLoc)return F(j.catchLoc,!0)}else if(se){if(this.prev<j.finallyLoc)return F(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(te,K){for(var F=this.tryEntries.length-1;F>=0;--F){var Y=this.tryEntries[F];if(Y.tryLoc<=this.prev&&p.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var j=Y;break}}j&&(te==="break"||te==="continue")&&j.tryLoc<=K&&K<=j.finallyLoc&&(j=null);var Q=j?j.completion:{};return Q.type=te,Q.arg=K,j?(this.method="next",this.next=j.finallyLoc,c):this.complete(Q)},complete:function(te,K){if(te.type==="throw")throw te.arg;return te.type==="break"||te.type==="continue"?this.next=te.arg:te.type==="return"?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):te.type==="normal"&&K&&(this.next=K),c},finish:function(te){for(var K=this.tryEntries.length-1;K>=0;--K){var F=this.tryEntries[K];if(F.finallyLoc===te)return this.complete(F.completion,F.afterLoc),O(F),c}},catch:function(te){for(var K=this.tryEntries.length-1;K>=0;--K){var F=this.tryEntries[K];if(F.tryLoc===te){var Y=F.completion;if(Y.type==="throw"){var j=Y.arg;O(F)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(te,K,F){return this.delegate={iterator:W(te),resultName:K,nextLoc:F},this.method==="next"&&(this.arg=l),c}},g})(typeof H=="object"?H.exports:{});try{regeneratorRuntime=E}catch{Function("r","regeneratorRuntime = r")(E)}},{}],154:[function(M,H,w){var E=M("buffer"),g=E.Buffer;function u(l,a){for(var i in l)a[i]=l[i]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?H.exports=E:(u(E,w),w.Buffer=p);function p(l,a,i){return g(l,a,i)}p.prototype=Object.create(g.prototype),u(g,p),p.from=function(l,a,i){if(typeof l=="number")throw new TypeError("Argument must not be a number");return g(l,a,i)},p.alloc=function(l,a,i){if(typeof l!="number")throw new TypeError("Argument must be a number");var t=g(l);return a!==void 0?typeof i=="string"?t.fill(a,i):t.fill(a):t.fill(0),t},p.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return g(l)},p.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(l)}},{buffer:48}],155:[function(M,H,w){H.exports=u;var E=M("events").EventEmitter,g=M("inherits");g(u,E),u.Readable=M("readable-stream/readable.js"),u.Writable=M("readable-stream/writable.js"),u.Duplex=M("readable-stream/duplex.js"),u.Transform=M("readable-stream/transform.js"),u.PassThrough=M("readable-stream/passthrough.js"),u.Stream=u;function u(){E.call(this)}u.prototype.pipe=function(p,l){var a=this;function i(r){p.writable&&p.write(r)===!1&&a.pause&&a.pause()}a.on("data",i);function t(){a.readable&&a.resume&&a.resume()}p.on("drain",t),!p._isStdio&&(!l||l.end!==!1)&&(a.on("end",s),a.on("close",f));var e=!1;function s(){e||(e=!0,p.end())}function f(){e||(e=!0,typeof p.destroy=="function"&&p.destroy())}function n(r){if(o(),E.listenerCount(this,"error")===0)throw r}a.on("error",n),p.on("error",n);function o(){a.removeListener("data",i),p.removeListener("drain",t),a.removeListener("end",s),a.removeListener("close",f),a.removeListener("error",n),p.removeListener("error",n),a.removeListener("end",o),a.removeListener("close",o),p.removeListener("close",o)}return a.on("end",o),a.on("close",o),p.on("close",o),p.emit("pipe",a),p}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(M,H,w){(function(E){var g=M("./lib/request"),u=M("./lib/response"),p=M("xtend"),l=M("builtin-status-codes"),a=M("url"),i=w;i.request=function(t,e){typeof t=="string"?t=a.parse(t):t=p(t);var s=E.location.protocol.search(/^https?:$/)===-1?"http:":"",f=t.protocol||s,n=t.hostname||t.host,o=t.port,r=t.path||"/";n&&n.indexOf(":")!==-1&&(n="["+n+"]"),t.url=(n?f+"//"+n:"")+(o?":"+o:"")+r,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new g(t);return e&&h.on("response",e),h},i.get=function(e,s){var f=i.request(e,s);return f.end(),f},i.ClientRequest=g,i.IncomingMessage=u.IncomingMessage,i.Agent=function(){},i.Agent.defaultMaxSockets=4,i.globalAgent=new i.Agent,i.STATUS_CODES=l,i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(M,H,w){(function(E){w.fetch=l(E.fetch)&&l(E.ReadableStream),w.writableStream=l(E.WritableStream),w.abortController=l(E.AbortController);var g;function u(){if(g!==void 0)return g;if(E.XMLHttpRequest){g=new E.XMLHttpRequest;try{g.open("GET",E.XDomainRequest?"/":"https://example.com")}catch{g=null}}else g=null;return g}function p(a){var i=u();if(!i)return!1;try{return i.responseType=a,i.responseType===a}catch{}return!1}w.arraybuffer=w.fetch||p("arraybuffer"),w.msstream=!w.fetch&&p("ms-stream"),w.mozchunkedarraybuffer=!w.fetch&&p("moz-chunked-arraybuffer"),w.overrideMimeType=w.fetch||(u()?l(u().overrideMimeType):!1);function l(a){return typeof a=="function"}g=null}).call(this,typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{}],158:[function(M,H,w){(function(E,g,u){var p=M("./capability"),l=M("inherits"),a=M("./response"),i=M("readable-stream"),t=a.IncomingMessage,e=a.readyStates;function s(r,h){return p.fetch&&h?"fetch":p.mozchunkedarraybuffer?"moz-chunked-arraybuffer":p.msstream?"ms-stream":p.arraybuffer&&r?"arraybuffer":"text"}var f=H.exports=function(r){var h=this;i.Writable.call(h),h._opts=r,h._body=[],h._headers={},r.auth&&h.setHeader("Authorization","Basic "+u.from(r.auth).toString("base64")),Object.keys(r.headers).forEach(function(v){h.setHeader(v,r.headers[v])});var c,d=!0;if(r.mode==="disable-fetch"||"requestTimeout"in r&&!p.abortController)d=!1,c=!0;else if(r.mode==="prefer-streaming")c=!1;else if(r.mode==="allow-wrong-content-type")c=!p.overrideMimeType;else if(!r.mode||r.mode==="default"||r.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");h._mode=s(c,d),h._fetchTimer=null,h.on("finish",function(){h._onFinish()})};l(f,i.Writable),f.prototype.setHeader=function(r,h){var c=this,d=r.toLowerCase();o.indexOf(d)===-1&&(c._headers[d]={name:r,value:h})},f.prototype.getHeader=function(r){var h=this._headers[r.toLowerCase()];return h?h.value:null},f.prototype.removeHeader=function(r){var h=this;delete h._headers[r.toLowerCase()]},f.prototype._onFinish=function(){var r=this;if(!r._destroyed){var h=r._opts,c=r._headers,d=null;h.method!=="GET"&&h.method!=="HEAD"&&(d=new Blob(r._body,{type:(c["content-type"]||{}).value||""}));var v=[];if(Object.keys(c).forEach(function(S){var R=c[S].name,L=c[S].value;Array.isArray(L)?L.forEach(function(T){v.push([R,T])}):v.push([R,L])}),r._mode==="fetch"){var _=null;if(p.abortController){var b=new AbortController;_=b.signal,r._fetchAbortController=b,"requestTimeout"in h&&h.requestTimeout!==0&&(r._fetchTimer=g.setTimeout(function(){r.emit("requestTimeout"),r._fetchAbortController&&r._fetchAbortController.abort()},h.requestTimeout))}g.fetch(r._opts.url,{method:r._opts.method,headers:v,body:d||void 0,mode:"cors",credentials:h.withCredentials?"include":"same-origin",signal:_}).then(function(S){r._fetchResponse=S,r._connect()},function(S){g.clearTimeout(r._fetchTimer),r._destroyed||r.emit("error",S)})}else{var y=r._xhr=new g.XMLHttpRequest;try{y.open(r._opts.method,r._opts.url,!0)}catch(S){E.nextTick(function(){r.emit("error",S)});return}"responseType"in y&&(y.responseType=r._mode),"withCredentials"in y&&(y.withCredentials=!!h.withCredentials),r._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in h&&(y.timeout=h.requestTimeout,y.ontimeout=function(){r.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),r._response=null,y.onreadystatechange=function(){switch(y.readyState){case e.LOADING:case e.DONE:r._onXHRProgress();break}},r._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){r._onXHRProgress()}),y.onerror=function(){r._destroyed||r.emit("error",new Error("XHR error"))};try{y.send(d)}catch(S){E.nextTick(function(){r.emit("error",S)});return}}}};function n(r){try{var h=r.status;return h!==null&&h!==0}catch{return!1}}f.prototype._onXHRProgress=function(){var r=this;!n(r._xhr)||r._destroyed||(r._response||r._connect(),r._response._onXHRProgress())},f.prototype._connect=function(){var r=this;r._destroyed||(r._response=new t(r._xhr,r._fetchResponse,r._mode,r._fetchTimer),r._response.on("error",function(h){r.emit("error",h)}),r.emit("response",r._response))},f.prototype._write=function(r,h,c){var d=this;d._body.push(r),c()},f.prototype.abort=f.prototype.destroy=function(){var r=this;r._destroyed=!0,g.clearTimeout(r._fetchTimer),r._response&&(r._response._destroyed=!0),r._xhr?r._xhr.abort():r._fetchAbortController&&r._fetchAbortController.abort()},f.prototype.end=function(r,h,c){var d=this;typeof r=="function"&&(c=r,r=void 0),i.Writable.prototype.end.call(d,r,h,c)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,M("_process"),typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{},M("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(M,H,w){(function(E,g,u){var p=M("./capability"),l=M("inherits"),a=M("readable-stream"),i=w.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=w.IncomingMessage=function(e,s,f,n){var o=this;if(a.Readable.call(o),o._mode=f,o.headers={},o.rawHeaders=[],o.trailers={},o.rawTrailers=[],o.on("end",function(){E.nextTick(function(){o.emit("close")})}),f==="fetch"){let _=function(){h.read().then(function(b){if(!o._destroyed){if(b.done){g.clearTimeout(n),o.push(null);return}o.push(u.from(b.value)),_()}}).catch(function(b){g.clearTimeout(n),o._destroyed||o.emit("error",b)})};if(o._fetchResponse=s,o.url=s.url,o.statusCode=s.status,o.statusMessage=s.statusText,s.headers.forEach(function(b,y){o.headers[y.toLowerCase()]=b,o.rawHeaders.push(y,b)}),p.writableStream){var r=new WritableStream({write:function(b){return new Promise(function(y,S){o._destroyed?S():o.push(u.from(b))?y():o._resumeFetch=y})},close:function(){g.clearTimeout(n),o._destroyed||o.push(null)},abort:function(b){o._destroyed||o.emit("error",b)}});try{s.body.pipeTo(r).catch(function(b){g.clearTimeout(n),o._destroyed||o.emit("error",b)});return}catch{}}var h=s.body.getReader();_()}else{o._xhr=e,o._pos=0,o.url=e.responseURL,o.statusCode=e.status,o.statusMessage=e.statusText;var c=e.getAllResponseHeaders().split(/\r?\n/);if(c.forEach(function(_){var b=_.match(/^([^:]+):\s*(.*)/);if(b){var y=b[1].toLowerCase();y==="set-cookie"?(o.headers[y]===void 0&&(o.headers[y]=[]),o.headers[y].push(b[2])):o.headers[y]!==void 0?o.headers[y]+=", "+b[2]:o.headers[y]=b[2],o.rawHeaders.push(b[1],b[2])}}),o._charset="x-user-defined",!p.overrideMimeType){var d=o.rawHeaders["mime-type"];if(d){var v=d.match(/;\s*charset=([^;])(;|$)/);v&&(o._charset=v[1].toLowerCase())}o._charset||(o._charset="utf-8")}}};l(t,a.Readable),t.prototype._read=function(){var e=this,s=e._resumeFetch;s&&(e._resumeFetch=null,s())},t.prototype._onXHRProgress=function(){var e=this,s=e._xhr,f=null;switch(e._mode){case"text":if(f=s.responseText,f.length>e._pos){var n=f.substr(e._pos);if(e._charset==="x-user-defined"){for(var o=u.alloc(n.length),r=0;r<n.length;r++)o[r]=n.charCodeAt(r)&255;e.push(o)}else e.push(n,e._charset);e._pos=f.length}break;case"arraybuffer":if(s.readyState!==i.DONE||!s.response)break;f=s.response,e.push(u.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=s.response,s.readyState!==i.LOADING||!f)break;e.push(u.from(new Uint8Array(f)));break;case"ms-stream":if(f=s.response,s.readyState!==i.LOADING)break;var h=new g.MSStreamReader;h.onprogress=function(){h.result.byteLength>e._pos&&(e.push(u.from(new Uint8Array(h.result.slice(e._pos)))),e._pos=h.result.byteLength)},h.onload=function(){e.push(null)},h.readAsArrayBuffer(f);break}e._xhr.readyState===i.DONE&&e._mode!=="ms-stream"&&e.push(null)}}).call(this,M("_process"),typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{},M("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(M,H,w){function E(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var g={};function u(t,e,s){s||(s=Error);function f(o,r,h){return typeof e=="string"?e:e(o,r,h)}var n=(function(o){E(r,o);function r(h,c,d){return o.call(this,f(h,c,d))||this}return r})(s);n.prototype.name=s.name,n.prototype.code=t,g[t]=n}function p(t,e){if(Array.isArray(t)){var s=t.length;return t=t.map(function(f){return String(f)}),s>2?"one of ".concat(e," ").concat(t.slice(0,s-1).join(", "),", or ")+t[s-1]:s===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function l(t,e,s){return t.substr(0,e.length)===e}function a(t,e,s){return(s===void 0||s>t.length)&&(s=t.length),t.substring(s-e.length,s)===e}function i(t,e,s){return typeof s!="number"&&(s=0),s+e.length>t.length?!1:t.indexOf(e,s)!==-1}u("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(t,e,s){var f;typeof e=="string"&&l(e,"not ")?(f="must not be",e=e.replace(/^not /,"")):f="must be";var n;if(a(t," argument"))n="The ".concat(t," ").concat(f," ").concat(p(e,"type"));else{var o=i(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(f," ").concat(p(e,"type"))}return n+=". Received type ".concat(typeof s),n},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.codes=g},{}],161:[function(M,H,w){(function(E){var g=new Set;function u(l){if(!g.has(l)){var a=l+" is an experimental feature. This feature could change at any time";g.add(l),E.emitWarning(a,"ExperimentalWarning")}}function p(){}H.exports.emitExperimentalWarning=E.emitWarning?u:p}).call(this,M("_process"))},{_process:133}],162:[function(M,H,w){(function(E){var g=Object.keys||function(f){var n=[];for(var o in f)n.push(o);return n};H.exports=t;var u=M("./_stream_readable"),p=M("./_stream_writable");M("inherits")(t,u);for(var l=g(p.prototype),a=0;a<l.length;a++){var i=l[a];t.prototype[i]||(t.prototype[i]=p.prototype[i])}function t(f){if(!(this instanceof t))return new t(f);u.call(this,f),p.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||E.nextTick(s,this)}function s(f){f.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}})}).call(this,M("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(M,H,w){H.exports=g;var E=M("./_stream_transform");M("inherits")(g,E);function g(u){if(!(this instanceof g))return new g(u);E.call(this,u)}g.prototype._transform=function(u,p,l){l(null,u)}},{"./_stream_transform":165,inherits:75}],164:[function(M,H,w){(function(E,g){H.exports=k;var u;k.ReadableState=z,M("events").EventEmitter;var p=function(P,Z){return P.listeners(Z).length},l=M("./internal/streams/stream"),a=M("buffer").Buffer,i=g.Uint8Array||function(){};function t(I){return a.from(I)}function e(I){return a.isBuffer(I)||I instanceof i}var s=M("util"),f;s&&s.debuglog?f=s.debuglog("stream"):f=function(){};var n=M("./internal/streams/buffer_list"),o=M("./internal/streams/destroy"),r=M("./internal/streams/state"),h=r.getHighWaterMark,c=M("../errors").codes,d=c.ERR_INVALID_ARG_TYPE,v=c.ERR_STREAM_PUSH_AFTER_EOF,_=c.ERR_METHOD_NOT_IMPLEMENTED,b=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y=M("../experimentalWarning"),S=y.emitExperimentalWarning,R,L;M("inherits")(k,l);var T=["error","close","destroy","pause","resume"];function x(I,P,Z){if(typeof I.prependListener=="function")return I.prependListener(P,Z);!I._events||!I._events[P]?I.on(P,Z):Array.isArray(I._events[P])?I._events[P].unshift(Z):I._events[P]=[Z,I._events[P]]}function z(I,P,Z){u=u||M("./_stream_duplex"),I=I||{},typeof Z!="boolean"&&(Z=P instanceof u),this.objectMode=!!I.objectMode,Z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=h(this,I,"readableHighWaterMark",Z),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(R||(R=M("string_decoder/").StringDecoder),this.decoder=new R(I.encoding),this.encoding=I.encoding)}function k(I){if(u=u||M("./_stream_duplex"),!(this instanceof k))return new k(I);var P=this instanceof u;this._readableState=new z(I,this,P),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),l.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),k.prototype.destroy=o.destroy,k.prototype._undestroy=o.undestroy,k.prototype._destroy=function(I,P){P(I)},k.prototype.push=function(I,P){var Z=this._readableState,U;return Z.objectMode?U=!0:typeof I=="string"&&(P=P||Z.defaultEncoding,P!==Z.encoding&&(I=a.from(I,P),P=""),U=!0),O(this,I,P,!1,U)},k.prototype.unshift=function(I){return O(this,I,null,!0,!1)};function O(I,P,Z,U,C){f("readableAddChunk",P);var A=I._readableState;if(P===null)A.reading=!1,F(I,A);else{var X;if(C||(X=W(A,P)),X)I.emit("error",X);else if(A.objectMode||P&&P.length>0)if(typeof P!="string"&&!A.objectMode&&Object.getPrototypeOf(P)!==a.prototype&&(P=t(P)),U)A.endEmitted?I.emit("error",new b):D(I,A,P,!0);else if(A.ended)I.emit("error",new v);else{if(A.destroyed)return!1;A.reading=!1,A.decoder&&!Z?(P=A.decoder.write(P),A.objectMode||P.length!==0?D(I,A,P,!1):Q(I,A)):D(I,A,P,!1)}else U||(A.reading=!1,Q(I,A))}return!A.ended&&(A.length<A.highWaterMark||A.length===0)}function D(I,P,Z,U){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,I.emit("data",Z)):(P.length+=P.objectMode?1:Z.length,U?P.buffer.unshift(Z):P.buffer.push(Z),P.needReadable&&Y(I)),Q(I,P)}function W(I,P){var Z;return!e(P)&&typeof P!="string"&&P!==void 0&&!I.objectMode&&(Z=new d("chunk",["string","Buffer","Uint8Array"],P)),Z}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(I){return R||(R=M("string_decoder/").StringDecoder),this._readableState.decoder=new R(I),this._readableState.encoding=this._readableState.decoder.encoding,this};var q=8388608;function te(I){return I>=q?I=q:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function K(I,P){return I<=0||P.length===0&&P.ended?0:P.objectMode?1:I!==I?P.flowing&&P.length?P.buffer.head.data.length:P.length:(I>P.highWaterMark&&(P.highWaterMark=te(I)),I<=P.length?I:P.ended?P.length:(P.needReadable=!0,0))}k.prototype.read=function(I){f("read",I),I=parseInt(I,10);var P=this._readableState,Z=I;if(I!==0&&(P.emittedReadable=!1),I===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return f("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?ee(this):Y(this),null;if(I=K(I,P),I===0&&P.ended)return P.length===0&&ee(this),null;var U=P.needReadable;f("need readable",U),(P.length===0||P.length-I<P.highWaterMark)&&(U=!0,f("length less than watermark",U)),P.ended||P.reading?(U=!1,f("reading or ended",U)):U&&(f("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(I=K(Z,P)));var C;return I>0?C=V(I,P):C=null,C===null?(P.needReadable=!0,I=0):(P.length-=I,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),Z!==I&&P.ended&&ee(this)),C!==null&&this.emit("data",C),C};function F(I,P){if(!P.ended){if(P.decoder){var Z=P.decoder.end();Z&&Z.length&&(P.buffer.push(Z),P.length+=P.objectMode?1:Z.length)}P.ended=!0,P.sync?Y(I):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,j(I)))}}function Y(I){var P=I._readableState;P.needReadable=!1,P.emittedReadable||(f("emitReadable",P.flowing),P.emittedReadable=!0,E.nextTick(j,I))}function j(I){var P=I._readableState;f("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&I.emit("readable"),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,ie(I)}function Q(I,P){P.readingMore||(P.readingMore=!0,E.nextTick(re,I,P))}function re(I,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var Z=P.length;if(f("maybeReadMore read 0"),I.read(0),Z===P.length)break}P.readingMore=!1}k.prototype._read=function(I){this.emit("error",new _("_read()"))},k.prototype.pipe=function(I,P){var Z=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=I;break;case 1:U.pipes=[U.pipes,I];break;default:U.pipes.push(I);break}U.pipesCount+=1,f("pipe count=%d opts=%j",U.pipesCount,P);var C=(!P||P.end!==!1)&&I!==E.stdout&&I!==E.stderr,A=C?ae:Se;U.endEmitted?E.nextTick(A):Z.once("end",A),I.on("unpipe",X);function X(Be,Oe){f("onunpipe"),Be===Z&&Oe&&Oe.hasUnpiped===!1&&(Oe.hasUnpiped=!0,Ee())}function ae(){f("onend"),I.end()}var pe=se(Z);I.on("drain",pe);var _e=!1;function Ee(){f("cleanup"),I.removeListener("close",Ce),I.removeListener("finish",Me),I.removeListener("drain",pe),I.removeListener("error",Re),I.removeListener("unpipe",X),Z.removeListener("end",ae),Z.removeListener("end",Se),Z.removeListener("data",Pe),_e=!0,U.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&pe()}Z.on("data",Pe);function Pe(Be){f("ondata");var Oe=I.write(Be);f("dest.write",Oe),Oe===!1&&((U.pipesCount===1&&U.pipes===I||U.pipesCount>1&&G(U.pipes,I)!==-1)&&!_e&&(f("false write response, pause",U.awaitDrain),U.awaitDrain++),Z.pause())}function Re(Be){f("onerror",Be),Se(),I.removeListener("error",Re),p(I,"error")===0&&I.emit("error",Be)}x(I,"error",Re);function Ce(){I.removeListener("finish",Me),Se()}I.once("close",Ce);function Me(){f("onfinish"),I.removeListener("close",Ce),Se()}I.once("finish",Me);function Se(){f("unpipe"),Z.unpipe(I)}return I.emit("pipe",Z),U.flowing||(f("pipe resume"),Z.resume()),I};function se(I){return function(){var Z=I._readableState;f("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&p(I,"data")&&(Z.flowing=!0,ie(I))}}k.prototype.unpipe=function(I){var P=this._readableState,Z={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return I&&I!==P.pipes?this:(I||(I=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,I&&I.emit("unpipe",this,Z),this);if(!I){var U=P.pipes,C=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var A=0;A<C;A++)U[A].emit("unpipe",this,{hasUnpiped:!1});return this}var X=G(P.pipes,I);return X===-1?this:(P.pipes.splice(X,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),I.emit("unpipe",this,Z),this)},k.prototype.on=function(I,P){var Z=l.prototype.on.call(this,I,P),U=this._readableState;return I==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):I==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,f("on readable",U.length,U.reading),U.length?Y(this):U.reading||E.nextTick(fe,this)),Z},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(I,P){var Z=l.prototype.removeListener.call(this,I,P);return I==="readable"&&E.nextTick(le,this),Z},k.prototype.removeAllListeners=function(I){var P=l.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&E.nextTick(le,this),P};function le(I){var P=I._readableState;P.readableListening=I.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:I.listenerCount("data")>0&&I.resume()}function fe(I){f("readable nexttick read 0"),I.read(0)}k.prototype.resume=function(){var I=this._readableState;return I.flowing||(f("resume"),I.flowing=!I.readableListening,ve(this,I)),I.paused=!1,this};function ve(I,P){P.resumeScheduled||(P.resumeScheduled=!0,E.nextTick(ne,I,P))}function ne(I,P){f("resume",P.reading),P.reading||I.read(0),P.resumeScheduled=!1,I.emit("resume"),ie(I),P.flowing&&!P.reading&&I.read(0)}k.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(I){var P=I._readableState;for(f("flow",P.flowing);P.flowing&&I.read()!==null;);}k.prototype.wrap=function(I){var P=this,Z=this._readableState,U=!1;I.on("end",function(){if(f("wrapped end"),Z.decoder&&!Z.ended){var X=Z.decoder.end();X&&X.length&&P.push(X)}P.push(null)}),I.on("data",function(X){if(f("wrapped data"),Z.decoder&&(X=Z.decoder.write(X)),!(Z.objectMode&&X==null)&&!(!Z.objectMode&&(!X||!X.length))){var ae=P.push(X);ae||(U=!0,I.pause())}});for(var C in I)this[C]===void 0&&typeof I[C]=="function"&&(this[C]=(function(ae){return function(){return I[ae].apply(I,arguments)}})(C));for(var A=0;A<T.length;A++)I.on(T[A],this.emit.bind(this,T[A]));return this._read=function(X){f("wrapped _read",X),U&&(U=!1,I.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return S("Readable[Symbol.asyncIterator]"),L===void 0&&(L=M("./internal/streams/async_iterator")),L(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),k._fromList=V,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(I,P){if(P.length===0)return null;var Z;return P.objectMode?Z=P.buffer.shift():!I||I>=P.length?(P.decoder?Z=P.buffer.join(""):P.buffer.length===1?Z=P.buffer.first():Z=P.buffer.concat(P.length),P.buffer.clear()):Z=P.buffer.consume(I,P.decoder),Z}function ee(I){var P=I._readableState;f("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,E.nextTick($,P,I))}function $(I,P){f("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,P.readable=!1,P.emit("end"))}function G(I,P){for(var Z=0,U=I.length;Z<U;Z++)if(I[Z]===P)return Z;return-1}}).call(this,M("_process"),typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(M,H,w){H.exports=t;var E=M("../errors").codes,g=E.ERR_METHOD_NOT_IMPLEMENTED,u=E.ERR_MULTIPLE_CALLBACK,p=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=E.ERR_TRANSFORM_WITH_LENGTH_0,a=M("./_stream_duplex");M("inherits")(t,a);function i(f,n){var o=this._transformState;o.transforming=!1;var r=o.writecb;if(r===null)return this.emit("error",new u);o.writechunk=null,o.writecb=null,n!=null&&this.push(n),r(f);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function t(f){if(!(this instanceof t))return new t(f);a.call(this,f),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",e)}function e(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(n,o){s(f,n,o)}):s(this,null,null)}t.prototype.push=function(f,n){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,n)},t.prototype._transform=function(f,n,o){o(new g("_transform()"))},t.prototype._write=function(f,n,o){var r=this._transformState;if(r.writecb=o,r.writechunk=f,r.writeencoding=n,!r.transforming){var h=this._readableState;(r.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},t.prototype._read=function(f){var n=this._transformState;n.writechunk!==null&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},t.prototype._destroy=function(f,n){a.prototype._destroy.call(this,f,function(o){n(o)})};function s(f,n,o){if(n)return f.emit("error",n);if(o!=null&&f.push(o),f._writableState.length)throw new l;if(f._transformState.transforming)throw new p;return f.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(M,H,w){(function(E,g){H.exports=x;function u(ne){var ie=this;this.next=null,this.entry=null,this.finish=function(){ve(ie,ne)}}var p;x.WritableState=L;var l={deprecate:M("util-deprecate")},a=M("./internal/streams/stream"),i=M("buffer").Buffer,t=g.Uint8Array||function(){};function e(ne){return i.from(ne)}function s(ne){return i.isBuffer(ne)||ne instanceof t}var f=M("./internal/streams/destroy"),n=M("./internal/streams/state"),o=n.getHighWaterMark,r=M("../errors").codes,h=r.ERR_INVALID_ARG_TYPE,c=r.ERR_METHOD_NOT_IMPLEMENTED,d=r.ERR_MULTIPLE_CALLBACK,v=r.ERR_STREAM_CANNOT_PIPE,_=r.ERR_STREAM_DESTROYED,b=r.ERR_STREAM_NULL_VALUES,y=r.ERR_STREAM_WRITE_AFTER_END,S=r.ERR_UNKNOWN_ENCODING;M("inherits")(x,a);function R(){}function L(ne,ie,V){p=p||M("./_stream_duplex"),ne=ne||{},typeof V!="boolean"&&(V=ie instanceof p),this.objectMode=!!ne.objectMode,V&&(this.objectMode=this.objectMode||!!ne.writableObjectMode),this.highWaterMark=o(this,ne,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=ne.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){K(ie,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ne.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}L.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,V=[];ie;)V.push(ie),ie=ie.next;return V},(function(){try{Object.defineProperty(L.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(ie){return T.call(this,ie)?!0:this!==x?!1:ie&&ie._writableState instanceof L}})):T=function(ie){return ie instanceof this};function x(ne){p=p||M("./_stream_duplex");var ie=this instanceof p;if(!ie&&!T.call(x,this))return new x(ne);this._writableState=new L(ne,this,ie),this.writable=!0,ne&&(typeof ne.write=="function"&&(this._write=ne.write),typeof ne.writev=="function"&&(this._writev=ne.writev),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.final=="function"&&(this._final=ne.final)),a.call(this)}x.prototype.pipe=function(){this.emit("error",new v)};function z(ne,ie){var V=new y;ne.emit("error",V),E.nextTick(ie,V)}function k(ne,ie,V,ee){var $;return V===null?$=new b:typeof V!="string"&&!ie.objectMode&&($=new h("chunk",["string","Buffer"],V)),$?(ne.emit("error",$),E.nextTick(ee,$),!1):!0}x.prototype.write=function(ne,ie,V){var ee=this._writableState,$=!1,G=!ee.objectMode&&s(ne);return G&&!i.isBuffer(ne)&&(ne=e(ne)),typeof ie=="function"&&(V=ie,ie=null),G?ie="buffer":ie||(ie=ee.defaultEncoding),typeof V!="function"&&(V=R),ee.ending?z(this,V):(G||k(this,ee,ne,V))&&(ee.pendingcb++,$=D(this,ee,G,ne,ie,V)),$},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var ne=this._writableState;ne.corked&&(ne.corked--,!ne.writing&&!ne.corked&&!ne.bufferProcessing&&ne.bufferedRequest&&j(this,ne))},x.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new S(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function O(ne,ie,V){return!ne.objectMode&&ne.decodeStrings!==!1&&typeof ie=="string"&&(ie=i.from(ie,V)),ie}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(ne,ie,V,ee,$,G){if(!V){var I=O(ie,ee,$);ee!==I&&(V=!0,$="buffer",ee=I)}var P=ie.objectMode?1:ee.length;ie.length+=P;var Z=ie.length<ie.highWaterMark;if(Z||(ie.needDrain=!0),ie.writing||ie.corked){var U=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:ee,encoding:$,isBuf:V,callback:G,next:null},U?U.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else W(ne,ie,!1,P,ee,$,G);return Z}function W(ne,ie,V,ee,$,G,I){ie.writelen=ee,ie.writecb=I,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new _("write")):V?ne._writev($,ie.onwrite):ne._write($,G,ie.onwrite),ie.sync=!1}function q(ne,ie,V,ee,$){--ie.pendingcb,V?(E.nextTick($,ee),E.nextTick(le,ne,ie),ne._writableState.errorEmitted=!0,ne.emit("error",ee)):($(ee),ne._writableState.errorEmitted=!0,ne.emit("error",ee),le(ne,ie))}function te(ne){ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0}function K(ne,ie){var V=ne._writableState,ee=V.sync,$=V.writecb;if(typeof $!="function")throw new d;if(te(V),ie)q(ne,V,ee,ie,$);else{var G=Q(V)||ne.destroyed;!G&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&j(ne,V),ee?E.nextTick(F,ne,V,G,$):F(ne,V,G,$)}}function F(ne,ie,V,ee){V||Y(ne,ie),ie.pendingcb--,ee(),le(ne,ie)}function Y(ne,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,ne.emit("drain"))}function j(ne,ie){ie.bufferProcessing=!0;var V=ie.bufferedRequest;if(ne._writev&&V&&V.next){var ee=ie.bufferedRequestCount,$=new Array(ee),G=ie.corkedRequestsFree;G.entry=V;for(var I=0,P=!0;V;)$[I]=V,V.isBuf||(P=!1),V=V.next,I+=1;$.allBuffers=P,W(ne,ie,!0,ie.length,$,"",G.finish),ie.pendingcb++,ie.lastBufferedRequest=null,G.next?(ie.corkedRequestsFree=G.next,G.next=null):ie.corkedRequestsFree=new u(ie),ie.bufferedRequestCount=0}else{for(;V;){var Z=V.chunk,U=V.encoding,C=V.callback,A=ie.objectMode?1:Z.length;if(W(ne,ie,!1,A,Z,U,C),V=V.next,ie.bufferedRequestCount--,ie.writing)break}V===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=V,ie.bufferProcessing=!1}x.prototype._write=function(ne,ie,V){V(new c("_write()"))},x.prototype._writev=null,x.prototype.end=function(ne,ie,V){var ee=this._writableState;return typeof ne=="function"?(V=ne,ne=null,ie=null):typeof ie=="function"&&(V=ie,ie=null),ne!=null&&this.write(ne,ie),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||fe(this,ee,V),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q(ne){return ne.ending&&ne.length===0&&ne.bufferedRequest===null&&!ne.finished&&!ne.writing}function re(ne,ie){ne._final(function(V){ie.pendingcb--,V&&ne.emit("error",V),ie.prefinished=!0,ne.emit("prefinish"),le(ne,ie)})}function se(ne,ie){!ie.prefinished&&!ie.finalCalled&&(typeof ne._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,E.nextTick(re,ne,ie)):(ie.prefinished=!0,ne.emit("prefinish")))}function le(ne,ie){var V=Q(ie);return V&&(se(ne,ie),ie.pendingcb===0&&(ie.finished=!0,ne.emit("finish"))),V}function fe(ne,ie,V){ie.ending=!0,le(ne,ie),V&&(ie.finished?E.nextTick(V):ne.once("finish",V)),ie.ended=!0,ne.writable=!1}function ve(ne,ie,V){var ee=ne.entry;for(ne.entry=null;ee;){var $=ee.callback;ie.pendingcb--,$(V),ee=ee.next}ie.corkedRequestsFree.next=ne}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(ne,ie){ie(ne)}}).call(this,M("_process"),typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(M,H,w){(function(E){var g;function u(_,b,y){return b in _?Object.defineProperty(_,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):_[b]=y,_}var p=M("./end-of-stream"),l=Symbol("lastResolve"),a=Symbol("lastReject"),i=Symbol("error"),t=Symbol("ended"),e=Symbol("lastPromise"),s=Symbol("handlePromise"),f=Symbol("stream");function n(_,b){return{value:_,done:b}}function o(_){var b=_[l];if(b!==null){var y=_[f].read();y!==null&&(_[e]=null,_[l]=null,_[a]=null,b(n(y,!1)))}}function r(_){E.nextTick(o,_)}function h(_,b){return function(y,S){_.then(function(){if(b[t]){y(n(void 0,!0));return}b[s](y,S)},S)}}var c=Object.getPrototypeOf(function(){}),d=Object.setPrototypeOf((g={get stream(){return this[f]},next:function(){var b=this,y=this[i];if(y!==null)return Promise.reject(y);if(this[t])return Promise.resolve(n(void 0,!0));if(this[f].destroyed)return new Promise(function(T,x){E.nextTick(function(){b[i]?x(b[i]):T(n(void 0,!0))})});var S=this[e],R;if(S)R=new Promise(h(S,this));else{var L=this[f].read();if(L!==null)return Promise.resolve(n(L,!1));R=new Promise(this[s])}return this[e]=R,R}},u(g,Symbol.asyncIterator,function(){return this}),u(g,"return",function(){var b=this;return new Promise(function(y,S){b[f].destroy(null,function(R){if(R){S(R);return}y(n(void 0,!0))})})}),g),c),v=function(b){var y,S=Object.create(d,(y={},u(y,f,{value:b,writable:!0}),u(y,l,{value:null,writable:!0}),u(y,a,{value:null,writable:!0}),u(y,i,{value:null,writable:!0}),u(y,t,{value:b._readableState.endEmitted,writable:!0}),u(y,s,{value:function(L,T){var x=S[f].read();x?(S[e]=null,S[l]=null,S[a]=null,L(n(x,!1))):(S[l]=L,S[a]=T)},writable:!0}),y));return S[e]=null,p(b,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=S[a];L!==null&&(S[e]=null,S[l]=null,S[a]=null,L(R)),S[i]=R;return}var T=S[l];T!==null&&(S[e]=null,S[l]=null,S[a]=null,T(n(void 0,!0))),S[t]=!0}),b.on("readable",r.bind(null,S)),S};H.exports=v}).call(this,M("_process"))},{"./end-of-stream":170,_process:133}],168:[function(M,H,w){function E(e){for(var s=1;s<arguments.length;s++){var f=arguments[s]!=null?arguments[s]:{},n=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(f).filter(function(o){return Object.getOwnPropertyDescriptor(f,o).enumerable}))),n.forEach(function(o){g(e,o,f[o])})}return e}function g(e,s,f){return s in e?Object.defineProperty(e,s,{value:f,enumerable:!0,configurable:!0,writable:!0}):e[s]=f,e}var u=M("buffer"),p=u.Buffer,l=M("util"),a=l.inspect,i=a&&a.custom||"inspect";function t(e,s,f){p.prototype.copy.call(e,s,f)}H.exports=(function(){function e(){this.head=null,this.tail=null,this.length=0}var s=e.prototype;return s.push=function(n){var o={data:n,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},s.unshift=function(n){var o={data:n,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},s.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},s.clear=function(){this.head=this.tail=null,this.length=0},s.join=function(n){if(this.length===0)return"";for(var o=this.head,r=""+o.data;o=o.next;)r+=n+o.data;return r},s.concat=function(n){if(this.length===0)return p.alloc(0);for(var o=p.allocUnsafe(n>>>0),r=this.head,h=0;r;)t(r.data,o,h),h+=r.data.length,r=r.next;return o},s.consume=function(n,o){var r;return n<this.head.data.length?(r=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):n===this.head.data.length?r=this.shift():r=o?this._getString(n):this._getBuffer(n),r},s.first=function(){return this.head.data},s._getString=function(n){var o=this.head,r=1,h=o.data;for(n-=h.length;o=o.next;){var c=o.data,d=n>c.length?c.length:n;if(d===c.length?h+=c:h+=c.slice(0,n),n-=d,n===0){d===c.length?(++r,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=c.slice(d));break}++r}return this.length-=r,h},s._getBuffer=function(n){var o=p.allocUnsafe(n),r=this.head,h=1;for(r.data.copy(o),n-=r.data.length;r=r.next;){var c=r.data,d=n>c.length?c.length:n;if(c.copy(o,o.length-n,0,d),n-=d,n===0){d===c.length?(++h,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=c.slice(d));break}++h}return this.length-=h,o},s[i]=function(f,n){return a(this,E({},n,{depth:0,customInspect:!1}))},e})()},{buffer:48,util:33}],169:[function(M,H,w){(function(E){function g(i,t){var e=this,s=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return s||f?(t?t(i):i&&(!this._writableState||!this._writableState.errorEmitted)&&E.nextTick(a,this,i),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(n){!t&&n?(E.nextTick(u,e,n),e._writableState&&(e._writableState.errorEmitted=!0)):t?(E.nextTick(p,e),t(n)):E.nextTick(p,e)}),this)}function u(i,t){a(i,t),p(i)}function p(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(i,t){i.emit("error",t)}H.exports={destroy:g,undestroy:l}}).call(this,M("_process"))},{_process:133}],170:[function(M,H,w){var E=M("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function g(a){var i=!1;return function(){if(!i){i=!0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];a.apply(this,e)}}}function u(){}function p(a){return a.setHeader&&typeof a.abort=="function"}function l(a,i,t){if(typeof i=="function")return l(a,null,i);i||(i={}),t=g(t||u);var e=i.readable||i.readable!==!1&&a.readable,s=i.writable||i.writable!==!1&&a.writable,f=function(){a.writable||o()},n=a._writableState&&a._writableState.finished,o=function(){s=!1,n=!0,e||t.call(a)},r=a._readableState&&a._readableState.endEmitted,h=function(){e=!1,r=!0,s||t.call(a)},c=function(b){t.call(a,b)},d=function(){var b;if(e&&!r)return(!a._readableState||!a._readableState.ended)&&(b=new E),t.call(a,b);if(s&&!n)return(!a._writableState||!a._writableState.ended)&&(b=new E),t.call(a,b)},v=function(){a.req.on("finish",o)};return p(a)?(a.on("complete",o),a.on("abort",d),a.req?v():a.on("request",v)):s&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",h),a.on("finish",o),i.error!==!1&&a.on("error",c),a.on("close",d),function(){a.removeListener("complete",o),a.removeListener("abort",d),a.removeListener("request",v),a.req&&a.req.removeListener("finish",o),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",o),a.removeListener("end",h),a.removeListener("error",c),a.removeListener("close",d)}}H.exports=l},{"../../../errors":160}],171:[function(M,H,w){var E;function g(o){var r=!1;return function(){r||(r=!0,o.apply(void 0,arguments))}}var u=M("../../../errors").codes,p=u.ERR_MISSING_ARGS,l=u.ERR_STREAM_DESTROYED;function a(o){if(o)throw o}function i(o){return o.setHeader&&typeof o.abort=="function"}function t(o,r,h,c){c=g(c);var d=!1;o.on("close",function(){d=!0}),E===void 0&&(E=M("./end-of-stream")),E(o,{readable:r,writable:h},function(_){if(_)return c(_);d=!0,c()});var v=!1;return function(_){if(!d&&!v){if(v=!0,i(o))return o.abort();if(typeof o.destroy=="function")return o.destroy();c(_||new l("pipe"))}}}function e(o){o()}function s(o,r){return o.pipe(r)}function f(o){return!o.length||typeof o[o.length-1]!="function"?a:o.pop()}function n(){for(var o=arguments.length,r=new Array(o),h=0;h<o;h++)r[h]=arguments[h];var c=f(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new p("streams");var d,v=r.map(function(_,b){var y=b<r.length-1,S=b>0;return t(_,y,S,function(R){d||(d=R),R&&v.forEach(e),!y&&(v.forEach(e),c(d))})});return r.reduce(s)}H.exports=n},{"../../../errors":160,"./end-of-stream":170}],172:[function(M,H,w){var E=M("../../../errors").codes.ERR_INVALID_OPT_VALUE;function g(p,l,a){return p.highWaterMark!=null?p.highWaterMark:l?p[a]:null}function u(p,l,a,i){var t=g(l,i,a);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var e=i?a:"highWaterMark";throw new E(e,t)}return Math.floor(t)}return p.objectMode?16:16*1024}H.exports={getHighWaterMark:u}},{"../../../errors":160}],173:[function(M,H,w){arguments[4][146][0].apply(w,arguments)},{dup:146,events:52}],174:[function(M,H,w){w=H.exports=M("./lib/_stream_readable.js"),w.Stream=w,w.Readable=w,w.Writable=M("./lib/_stream_writable.js"),w.Duplex=M("./lib/_stream_duplex.js"),w.Transform=M("./lib/_stream_transform.js"),w.PassThrough=M("./lib/_stream_passthrough.js"),w.finished=M("./lib/internal/streams/end-of-stream.js"),w.pipeline=M("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(M,H,w){arguments[4][148][0].apply(w,arguments)},{dup:148,"safe-buffer":154}],176:[function(M,H,w){(function(E,g){var u=M("process/browser.js").nextTick,p=Function.prototype.apply,l=Array.prototype.slice,a={},i=0;w.setTimeout=function(){return new t(p.call(setTimeout,Ie,arguments),clearTimeout)},w.setInterval=function(){return new t(p.call(setInterval,Ie,arguments),clearInterval)},w.clearTimeout=w.clearInterval=function(e){e.close()};function t(e,s){this._id=e,this._clearFn=s}t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(Ie,this._id)},w.enroll=function(e,s){clearTimeout(e._idleTimeoutId),e._idleTimeout=s},w.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},w._unrefActive=w.active=function(e){clearTimeout(e._idleTimeoutId);var s=e._idleTimeout;s>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},s))},w.setImmediate=typeof E=="function"?E:function(e){var s=i++,f=arguments.length<2?!1:l.call(arguments,1);return a[s]=!0,u(function(){a[s]&&(f?e.apply(null,f):e.call(null),w.clearImmediate(s))}),s},w.clearImmediate=typeof g=="function"?g:function(e){delete a[e]}}).call(this,M("timers").setImmediate,M("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(M,H,w){(function(E){Object.defineProperty(w,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};w.clone=i,w.addLast=s,w.addFirst=f,w.removeLast=n,w.removeFirst=o,w.insert=r,w.removeAt=h,w.replaceAt=c,w.getIn=d,w.set=v,w.setIn=b,w.update=y,w.updateIn=S,w.merge=R,w.mergeDeep=L,w.mergeIn=T,w.omit=x,w.addDefaults=z;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var u="INVALID_ARGS";function p(O){throw new Error(O)}function l(O){var D=Object.keys(O);return Object.getOwnPropertySymbols?D.concat(Object.getOwnPropertySymbols(O)):D}var a={}.hasOwnProperty;function i(O){if(Array.isArray(O))return O.slice();for(var D=l(O),W={},q=0;q<D.length;q++){var te=D[q];W[te]=O[te]}return W}function t(O,D,W){var q=W;q==null&&p(E.env.NODE_ENV!=="production"?"At least one object should be provided to merge()":u);for(var te=!1,K=arguments.length,F=Array(K>3?K-3:0),Y=3;Y<K;Y++)F[Y-3]=arguments[Y];for(var j=0;j<F.length;j++){var Q=F[j];if(Q!=null){var re=l(Q);if(re.length)for(var se=0;se<=re.length;se++){var le=re[se];if(!(O&&q[le]!==void 0)){var fe=Q[le];D&&e(q[le])&&e(fe)&&(fe=t(O,D,q[le],fe)),!(fe===void 0||fe===q[le])&&(te||(te=!0,q=i(q)),q[le]=fe)}}}}return q}function e(O){var D=typeof O>"u"?"undefined":g(O);return O!=null&&D==="object"}function s(O,D){return Array.isArray(D)?O.concat(D):O.concat([D])}function f(O,D){return Array.isArray(D)?D.concat(O):[D].concat(O)}function n(O){return O.length?O.slice(0,O.length-1):O}function o(O){return O.length?O.slice(1):O}function r(O,D,W){return O.slice(0,D).concat(Array.isArray(W)?W:[W]).concat(O.slice(D))}function h(O,D){return D>=O.length||D<0?O:O.slice(0,D).concat(O.slice(D+1))}function c(O,D,W){if(O[D]===W)return O;for(var q=O.length,te=Array(q),K=0;K<q;K++)te[K]=O[K];return te[D]=W,te}function d(O,D){if(!Array.isArray(D)&&p(E.env.NODE_ENV!=="production"?"A path array should be provided when calling getIn()":u),O!=null){for(var W=O,q=0;q<D.length;q++){var te=D[q];if(W=W!=null?W[te]:void 0,W===void 0)return W}return W}}function v(O,D,W){var q=typeof D=="number"?[]:{},te=O??q;if(te[D]===W)return te;var K=i(te);return K[D]=W,K}function _(O,D,W,q){var te=void 0,K=D[q];if(q===D.length-1)te=W;else{var F=e(O)&&e(O[K])?O[K]:typeof D[q+1]=="number"?[]:{};te=_(F,D,W,q+1)}return v(O,K,te)}function b(O,D,W){return D.length?_(O,D,W,0):W}function y(O,D,W){var q=O==null?void 0:O[D],te=W(q);return v(O,D,te)}function S(O,D,W){var q=d(O,D),te=W(q);return b(O,D,te)}function R(O,D,W,q,te,K){for(var F=arguments.length,Y=Array(F>6?F-6:0),j=6;j<F;j++)Y[j-6]=arguments[j];return Y.length?t.call.apply(t,[null,!1,!1,O,D,W,q,te,K].concat(Y)):t(!1,!1,O,D,W,q,te,K)}function L(O,D,W,q,te,K){for(var F=arguments.length,Y=Array(F>6?F-6:0),j=6;j<F;j++)Y[j-6]=arguments[j];return Y.length?t.call.apply(t,[null,!1,!0,O,D,W,q,te,K].concat(Y)):t(!1,!0,O,D,W,q,te,K)}function T(O,D,W,q,te,K,F){var Y=d(O,D);Y==null&&(Y={});for(var j=void 0,Q=arguments.length,re=Array(Q>7?Q-7:0),se=7;se<Q;se++)re[se-7]=arguments[se];return re.length?j=t.call.apply(t,[null,!1,!1,Y,W,q,te,K,F].concat(re)):j=t(!1,!1,Y,W,q,te,K,F),b(O,D,j)}function x(O,D){for(var W=Array.isArray(D)?D:[D],q=!1,te=0;te<W.length;te++)if(a.call(O,W[te])){q=!0;break}if(!q)return O;for(var K={},F=l(O),Y=0;Y<F.length;Y++){var j=F[Y];W.indexOf(j)>=0||(K[j]=O[j])}return K}function z(O,D,W,q,te,K){for(var F=arguments.length,Y=Array(F>6?F-6:0),j=6;j<F;j++)Y[j-6]=arguments[j];return Y.length?t.call.apply(t,[null,!0,!1,O,D,W,q,te,K].concat(Y)):t(!0,!1,O,D,W,q,te,K)}var k={clone:i,addLast:s,addFirst:f,removeLast:n,removeFirst:o,insert:r,removeAt:h,replaceAt:c,getIn:d,set:v,setIn:b,update:y,updateIn:S,merge:R,mergeDeep:L,mergeIn:T,omit:x,addDefaults:z};w.default=k}).call(this,M("_process"))},{_process:133}],178:[function(M,H,w){(function(E){var g=/^\s+/,u=/\s+$/,p=0,l=E.round,a=E.min,i=E.max,t=E.random;function e(G,I){if(G=G||"",I=I||{},G instanceof e)return G;if(!(this instanceof e))return new e(G,I);var P=s(G);this._originalInput=G,this._r=P.r,this._g=P.g,this._b=P.b,this._a=P.a,this._roundA=l(100*this._a)/100,this._format=I.format||P.format,this._gradientType=I.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=P.ok,this._tc_id=p++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var G=this.toRgb();return(G.r*299+G.g*587+G.b*114)/1e3},getLuminance:function(){var G=this.toRgb(),I,P,Z,U,C,A;return I=G.r/255,P=G.g/255,Z=G.b/255,I<=.03928?U=I/12.92:U=E.pow((I+.055)/1.055,2.4),P<=.03928?C=P/12.92:C=E.pow((P+.055)/1.055,2.4),Z<=.03928?A=Z/12.92:A=E.pow((Z+.055)/1.055,2.4),.2126*U+.7152*C+.0722*A},setAlpha:function(G){return this._a=F(G),this._roundA=l(100*this._a)/100,this},toHsv:function(){var G=r(this._r,this._g,this._b);return{h:G.h*360,s:G.s,v:G.v,a:this._a}},toHsvString:function(){var G=r(this._r,this._g,this._b),I=l(G.h*360),P=l(G.s*100),Z=l(G.v*100);return this._a==1?"hsv("+I+", "+P+"%, "+Z+"%)":"hsva("+I+", "+P+"%, "+Z+"%, "+this._roundA+")"},toHsl:function(){var G=n(this._r,this._g,this._b);return{h:G.h*360,s:G.s,l:G.l,a:this._a}},toHslString:function(){var G=n(this._r,this._g,this._b),I=l(G.h*360),P=l(G.s*100),Z=l(G.l*100);return this._a==1?"hsl("+I+", "+P+"%, "+Z+"%)":"hsla("+I+", "+P+"%, "+Z+"%, "+this._roundA+")"},toHex:function(G){return c(this._r,this._g,this._b,G)},toHexString:function(G){return"#"+this.toHex(G)},toHex8:function(G){return d(this._r,this._g,this._b,this._a,G)},toHex8String:function(G){return"#"+this.toHex8(G)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(Y(this._r,255)*100)+"%",g:l(Y(this._g,255)*100)+"%",b:l(Y(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+l(Y(this._r,255)*100)+"%, "+l(Y(this._g,255)*100)+"%, "+l(Y(this._b,255)*100)+"%)":"rgba("+l(Y(this._r,255)*100)+"%, "+l(Y(this._g,255)*100)+"%, "+l(Y(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:te[c(this._r,this._g,this._b,!0)]||!1},toFilter:function(G){var I="#"+v(this._r,this._g,this._b,this._a),P=I,Z=this._gradientType?"GradientType = 1, ":"";if(G){var U=e(G);P="#"+v(U._r,U._g,U._b,U._a)}return"progid:DXImageTransform.Microsoft.gradient("+Z+"startColorstr="+I+",endColorstr="+P+")"},toString:function(G){var I=!!G;G=G||this._format;var P=!1,Z=this._a<1&&this._a>=0,U=!I&&Z&&(G==="hex"||G==="hex6"||G==="hex3"||G==="hex4"||G==="hex8"||G==="name");return U?G==="name"&&this._a===0?this.toName():this.toRgbString():(G==="rgb"&&(P=this.toRgbString()),G==="prgb"&&(P=this.toPercentageRgbString()),(G==="hex"||G==="hex6")&&(P=this.toHexString()),G==="hex3"&&(P=this.toHexString(!0)),G==="hex4"&&(P=this.toHex8String(!0)),G==="hex8"&&(P=this.toHex8String()),G==="name"&&(P=this.toName()),G==="hsl"&&(P=this.toHslString()),G==="hsv"&&(P=this.toHsvString()),P||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(G,I){var P=G.apply(null,[this].concat([].slice.call(I)));return this._r=P._r,this._g=P._g,this._b=P._b,this.setAlpha(P._a),this},lighten:function(){return this._applyModification(S,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(L,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(G,I){return G.apply(null,[this].concat([].slice.call(I)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(W,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(z,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},e.fromRatio=function(G,I){if(typeof G=="object"){var P={};for(var Z in G)G.hasOwnProperty(Z)&&(Z==="a"?P[Z]=G[Z]:P[Z]=fe(G[Z]));G=P}return e(G,I)};function s(G){var I={r:0,g:0,b:0},P=1,Z=null,U=null,C=null,A=!1,X=!1;return typeof G=="string"&&(G=ee(G)),typeof G=="object"&&(V(G.r)&&V(G.g)&&V(G.b)?(I=f(G.r,G.g,G.b),A=!0,X=String(G.r).substr(-1)==="%"?"prgb":"rgb"):V(G.h)&&V(G.s)&&V(G.v)?(Z=fe(G.s),U=fe(G.v),I=h(G.h,Z,U),A=!0,X="hsv"):V(G.h)&&V(G.s)&&V(G.l)&&(Z=fe(G.s),C=fe(G.l),I=o(G.h,Z,C),A=!0,X="hsl"),G.hasOwnProperty("a")&&(P=G.a)),P=F(P),{ok:A,format:G.format||X,r:a(255,i(I.r,0)),g:a(255,i(I.g,0)),b:a(255,i(I.b,0)),a:P}}function f(G,I,P){return{r:Y(G,255)*255,g:Y(I,255)*255,b:Y(P,255)*255}}function n(G,I,P){G=Y(G,255),I=Y(I,255),P=Y(P,255);var Z=i(G,I,P),U=a(G,I,P),C,A,X=(Z+U)/2;if(Z==U)C=A=0;else{var ae=Z-U;switch(A=X>.5?ae/(2-Z-U):ae/(Z+U),Z){case G:C=(I-P)/ae+(I<P?6:0);break;case I:C=(P-G)/ae+2;break;case P:C=(G-I)/ae+4;break}C/=6}return{h:C,s:A,l:X}}function o(G,I,P){var Z,U,C;G=Y(G,360),I=Y(I,100),P=Y(P,100);function A(pe,_e,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<1/6?pe+(_e-pe)*6*Ee:Ee<1/2?_e:Ee<2/3?pe+(_e-pe)*(2/3-Ee)*6:pe}if(I===0)Z=U=C=P;else{var X=P<.5?P*(1+I):P+I-P*I,ae=2*P-X;Z=A(ae,X,G+1/3),U=A(ae,X,G),C=A(ae,X,G-1/3)}return{r:Z*255,g:U*255,b:C*255}}function r(G,I,P){G=Y(G,255),I=Y(I,255),P=Y(P,255);var Z=i(G,I,P),U=a(G,I,P),C,A,X=Z,ae=Z-U;if(A=Z===0?0:ae/Z,Z==U)C=0;else{switch(Z){case G:C=(I-P)/ae+(I<P?6:0);break;case I:C=(P-G)/ae+2;break;case P:C=(G-I)/ae+4;break}C/=6}return{h:C,s:A,v:X}}function h(G,I,P){G=Y(G,360)*6,I=Y(I,100),P=Y(P,100);var Z=E.floor(G),U=G-Z,C=P*(1-I),A=P*(1-U*I),X=P*(1-(1-U)*I),ae=Z%6,pe=[P,A,C,C,X,P][ae],_e=[X,P,P,A,C,C][ae],Ee=[C,C,X,P,P,A][ae];return{r:pe*255,g:_e*255,b:Ee*255}}function c(G,I,P,Z){var U=[le(l(G).toString(16)),le(l(I).toString(16)),le(l(P).toString(16))];return Z&&U[0].charAt(0)==U[0].charAt(1)&&U[1].charAt(0)==U[1].charAt(1)&&U[2].charAt(0)==U[2].charAt(1)?U[0].charAt(0)+U[1].charAt(0)+U[2].charAt(0):U.join("")}function d(G,I,P,Z,U){var C=[le(l(G).toString(16)),le(l(I).toString(16)),le(l(P).toString(16)),le(ve(Z))];return U&&C[0].charAt(0)==C[0].charAt(1)&&C[1].charAt(0)==C[1].charAt(1)&&C[2].charAt(0)==C[2].charAt(1)&&C[3].charAt(0)==C[3].charAt(1)?C[0].charAt(0)+C[1].charAt(0)+C[2].charAt(0)+C[3].charAt(0):C.join("")}function v(G,I,P,Z){var U=[le(ve(Z)),le(l(G).toString(16)),le(l(I).toString(16)),le(l(P).toString(16))];return U.join("")}e.equals=function(G,I){return!G||!I?!1:e(G).toRgbString()==e(I).toRgbString()},e.random=function(){return e.fromRatio({r:t(),g:t(),b:t()})};function _(G,I){I=I===0?0:I||10;var P=e(G).toHsl();return P.s-=I/100,P.s=j(P.s),e(P)}function b(G,I){I=I===0?0:I||10;var P=e(G).toHsl();return P.s+=I/100,P.s=j(P.s),e(P)}function y(G){return e(G).desaturate(100)}function S(G,I){I=I===0?0:I||10;var P=e(G).toHsl();return P.l+=I/100,P.l=j(P.l),e(P)}function R(G,I){I=I===0?0:I||10;var P=e(G).toRgb();return P.r=i(0,a(255,P.r-l(255*-(I/100)))),P.g=i(0,a(255,P.g-l(255*-(I/100)))),P.b=i(0,a(255,P.b-l(255*-(I/100)))),e(P)}function L(G,I){I=I===0?0:I||10;var P=e(G).toHsl();return P.l-=I/100,P.l=j(P.l),e(P)}function T(G,I){var P=e(G).toHsl(),Z=(P.h+I)%360;return P.h=Z<0?360+Z:Z,e(P)}function x(G){var I=e(G).toHsl();return I.h=(I.h+180)%360,e(I)}function z(G){var I=e(G).toHsl(),P=I.h;return[e(G),e({h:(P+120)%360,s:I.s,l:I.l}),e({h:(P+240)%360,s:I.s,l:I.l})]}function k(G){var I=e(G).toHsl(),P=I.h;return[e(G),e({h:(P+90)%360,s:I.s,l:I.l}),e({h:(P+180)%360,s:I.s,l:I.l}),e({h:(P+270)%360,s:I.s,l:I.l})]}function O(G){var I=e(G).toHsl(),P=I.h;return[e(G),e({h:(P+72)%360,s:I.s,l:I.l}),e({h:(P+216)%360,s:I.s,l:I.l})]}function D(G,I,P){I=I||6,P=P||30;var Z=e(G).toHsl(),U=360/P,C=[e(G)];for(Z.h=(Z.h-(U*I>>1)+720)%360;--I;)Z.h=(Z.h+U)%360,C.push(e(Z));return C}function W(G,I){I=I||6;for(var P=e(G).toHsv(),Z=P.h,U=P.s,C=P.v,A=[],X=1/I;I--;)A.push(e({h:Z,s:U,v:C})),C=(C+X)%1;return A}e.mix=function(G,I,P){P=P===0?0:P||50;var Z=e(G).toRgb(),U=e(I).toRgb(),C=P/100,A={r:(U.r-Z.r)*C+Z.r,g:(U.g-Z.g)*C+Z.g,b:(U.b-Z.b)*C+Z.b,a:(U.a-Z.a)*C+Z.a};return e(A)},e.readability=function(G,I){var P=e(G),Z=e(I);return(E.max(P.getLuminance(),Z.getLuminance())+.05)/(E.min(P.getLuminance(),Z.getLuminance())+.05)},e.isReadable=function(G,I,P){var Z=e.readability(G,I),U,C;switch(C=!1,U=$(P),U.level+U.size){case"AAsmall":case"AAAlarge":C=Z>=4.5;break;case"AAlarge":C=Z>=3;break;case"AAAsmall":C=Z>=7;break}return C},e.mostReadable=function(G,I,P){var Z=null,U=0,C,A,X,ae;P=P||{},A=P.includeFallbackColors,X=P.level,ae=P.size;for(var pe=0;pe<I.length;pe++)C=e.readability(G,I[pe]),C>U&&(U=C,Z=e(I[pe]));return e.isReadable(G,Z,{level:X,size:ae})||!A?Z:(P.includeFallbackColors=!1,e.mostReadable(G,["#fff","#000"],P))};var q=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},te=e.hexNames=K(q);function K(G){var I={};for(var P in G)G.hasOwnProperty(P)&&(I[G[P]]=P);return I}function F(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function Y(G,I){re(G)&&(G="100%");var P=se(G);return G=a(I,i(0,parseFloat(G))),P&&(G=parseInt(G*I,10)/100),E.abs(G-I)<1e-6?1:G%I/parseFloat(I)}function j(G){return a(1,i(0,G))}function Q(G){return parseInt(G,16)}function re(G){return typeof G=="string"&&G.indexOf(".")!=-1&&parseFloat(G)===1}function se(G){return typeof G=="string"&&G.indexOf("%")!=-1}function le(G){return G.length==1?"0"+G:""+G}function fe(G){return G<=1&&(G=G*100+"%"),G}function ve(G){return E.round(parseFloat(G)*255).toString(16)}function ne(G){return Q(G)/255}var ie=(function(){var G="[-\\+]?\\d+%?",I="[-\\+]?\\d*\\.\\d+%?",P="(?:"+I+")|(?:"+G+")",Z="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",U="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?";return{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+Z),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+Z),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+Z),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function V(G){return!!ie.CSS_UNIT.exec(G)}function ee(G){G=G.replace(g,"").replace(u,"").toLowerCase();var I=!1;if(q[G])G=q[G],I=!0;else if(G=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var P;return(P=ie.rgb.exec(G))?{r:P[1],g:P[2],b:P[3]}:(P=ie.rgba.exec(G))?{r:P[1],g:P[2],b:P[3],a:P[4]}:(P=ie.hsl.exec(G))?{h:P[1],s:P[2],l:P[3]}:(P=ie.hsla.exec(G))?{h:P[1],s:P[2],l:P[3],a:P[4]}:(P=ie.hsv.exec(G))?{h:P[1],s:P[2],v:P[3]}:(P=ie.hsva.exec(G))?{h:P[1],s:P[2],v:P[3],a:P[4]}:(P=ie.hex8.exec(G))?{r:Q(P[1]),g:Q(P[2]),b:Q(P[3]),a:ne(P[4]),format:I?"name":"hex8"}:(P=ie.hex6.exec(G))?{r:Q(P[1]),g:Q(P[2]),b:Q(P[3]),format:I?"name":"hex"}:(P=ie.hex4.exec(G))?{r:Q(P[1]+""+P[1]),g:Q(P[2]+""+P[2]),b:Q(P[3]+""+P[3]),a:ne(P[4]+""+P[4]),format:I?"name":"hex8"}:(P=ie.hex3.exec(G))?{r:Q(P[1]+""+P[1]),g:Q(P[2]+""+P[2]),b:Q(P[3]+""+P[3]),format:I?"name":"hex"}:!1}function $(G){var I,P;return G=G||{level:"AA",size:"small"},I=(G.level||"AA").toUpperCase(),P=(G.size||"small").toLowerCase(),I!=="AA"&&I!=="AAA"&&(I="AA"),P!=="small"&&P!=="large"&&(P="small"),{level:I,size:P}}typeof H<"u"&&H.exports?H.exports=e:Ie.tinycolor=e})(Math)},{}],179:[function(M,H,w){w=H.exports=E;function E(g){return g.replace(/^\s*|\s*$/g,"")}w.left=function(g){return g.replace(/^\s*/,"")},w.right=function(g){return g.replace(/\s*$/,"")}},{}],180:[function(M,H,w){var E=M("punycode"),g=M("./util");w.parse=_,w.resolve=y,w.resolveObject=S,w.format=b,w.Url=u;function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var p=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(i),e=["'"].concat(t),s=["%","/","?",";","#"].concat(e),f=["/","?","#"],n=255,o=/^[+a-z0-9A-Z_-]{0,63}$/,r=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},c={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=M("querystring");function _(R,L,T){if(R&&g.isObject(R)&&R instanceof u)return R;var x=new u;return x.parse(R,L,T),x}u.prototype.parse=function(R,L,T){if(!g.isString(R))throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var x=R.indexOf("?"),z=x!==-1&&x<R.indexOf("#")?"?":"#",k=R.split(z),O=/\\/g;k[0]=k[0].replace(O,"/"),R=k.join(z);var D=R;if(D=D.trim(),!T&&R.split("#").length===1){var W=a.exec(D);if(W)return this.path=D,this.href=D,this.pathname=W[1],W[2]?(this.search=W[2],L?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):L&&(this.search="",this.query={}),this}var q=p.exec(D);if(q){q=q[0];var te=q.toLowerCase();this.protocol=te,D=D.substr(q.length)}if(T||q||D.match(/^\/\/[^@\/]+@[^@\/]+/)){var K=D.substr(0,2)==="//";K&&!(q&&c[q])&&(D=D.substr(2),this.slashes=!0)}if(!c[q]&&(K||q&&!d[q])){for(var F=-1,Y=0;Y<f.length;Y++){var j=D.indexOf(f[Y]);j!==-1&&(F===-1||j<F)&&(F=j)}var Q,re;F===-1?re=D.lastIndexOf("@"):re=D.lastIndexOf("@",F),re!==-1&&(Q=D.slice(0,re),D=D.slice(re+1),this.auth=decodeURIComponent(Q)),F=-1;for(var Y=0;Y<s.length;Y++){var j=D.indexOf(s[Y]);j!==-1&&(F===-1||j<F)&&(F=j)}F===-1&&(F=D.length),this.host=D.slice(0,F),D=D.slice(F),this.parseHost(),this.hostname=this.hostname||"";var se=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!se)for(var le=this.hostname.split(/\./),Y=0,fe=le.length;Y<fe;Y++){var ve=le[Y];if(ve&&!ve.match(o)){for(var ne="",ie=0,V=ve.length;ie<V;ie++)ve.charCodeAt(ie)>127?ne+="x":ne+=ve[ie];if(!ne.match(o)){var ee=le.slice(0,Y),$=le.slice(Y+1),G=ve.match(r);G&&(ee.push(G[1]),$.unshift(G[2])),$.length&&(D="/"+$.join(".")+D),this.hostname=ee.join(".");break}}}this.hostname.length>n?this.hostname="":this.hostname=this.hostname.toLowerCase(),se||(this.hostname=E.toASCII(this.hostname));var I=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+I,this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),D[0]!=="/"&&(D="/"+D))}if(!h[te])for(var Y=0,fe=e.length;Y<fe;Y++){var Z=e[Y];if(D.indexOf(Z)!==-1){var U=encodeURIComponent(Z);U===Z&&(U=escape(Z)),D=D.split(Z).join(U)}}var C=D.indexOf("#");C!==-1&&(this.hash=D.substr(C),D=D.slice(0,C));var A=D.indexOf("?");if(A!==-1?(this.search=D.substr(A),this.query=D.substr(A+1),L&&(this.query=v.parse(this.query)),D=D.slice(0,A)):L&&(this.search="",this.query={}),D&&(this.pathname=D),d[te]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",X=this.search||"";this.path=I+X}return this.href=this.format(),this};function b(R){return g.isString(R)&&(R=_(R)),R instanceof u?R.format():u.prototype.format.call(R)}u.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var L=this.protocol||"",T=this.pathname||"",x=this.hash||"",z=!1,k="";this.host?z=R+this.host:this.hostname&&(z=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&g.isObject(this.query)&&Object.keys(this.query).length&&(k=v.stringify(this.query));var O=this.search||k&&"?"+k||"";return L&&L.substr(-1)!==":"&&(L+=":"),this.slashes||(!L||d[L])&&z!==!1?(z="//"+(z||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):z||(z=""),x&&x.charAt(0)!=="#"&&(x="#"+x),O&&O.charAt(0)!=="?"&&(O="?"+O),T=T.replace(/[?#]/g,function(D){return encodeURIComponent(D)}),O=O.replace("#","%23"),L+z+T+O+x};function y(R,L){return _(R,!1,!0).resolve(L)}u.prototype.resolve=function(R){return this.resolveObject(_(R,!1,!0)).format()};function S(R,L){return R?_(R,!1,!0).resolveObject(L):L}u.prototype.resolveObject=function(R){if(g.isString(R)){var L=new u;L.parse(R,!1,!0),R=L}for(var T=new u,x=Object.keys(this),z=0;z<x.length;z++){var k=x[z];T[k]=this[k]}if(T.hash=R.hash,R.href==="")return T.href=T.format(),T;if(R.slashes&&!R.protocol){for(var O=Object.keys(R),D=0;D<O.length;D++){var W=O[D];W!=="protocol"&&(T[W]=R[W])}return d[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(R.protocol&&R.protocol!==T.protocol){if(!d[R.protocol]){for(var q=Object.keys(R),te=0;te<q.length;te++){var K=q[te];T[K]=R[K]}return T.href=T.format(),T}if(T.protocol=R.protocol,!R.host&&!c[R.protocol]){for(var fe=(R.pathname||"").split("/");fe.length&&!(R.host=fe.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),fe[0]!==""&&fe.unshift(""),fe.length<2&&fe.unshift(""),T.pathname=fe.join("/")}else T.pathname=R.pathname;if(T.search=R.search,T.query=R.query,T.host=R.host||"",T.auth=R.auth,T.hostname=R.hostname||R.host,T.port=R.port,T.pathname||T.search){var F=T.pathname||"",Y=T.search||"";T.path=F+Y}return T.slashes=T.slashes||R.slashes,T.href=T.format(),T}var j=T.pathname&&T.pathname.charAt(0)==="/",Q=R.host||R.pathname&&R.pathname.charAt(0)==="/",re=Q||j||T.host&&R.pathname,se=re,le=T.pathname&&T.pathname.split("/")||[],fe=R.pathname&&R.pathname.split("/")||[],ve=T.protocol&&!d[T.protocol];if(ve&&(T.hostname="",T.port=null,T.host&&(le[0]===""?le[0]=T.host:le.unshift(T.host)),T.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(fe[0]===""?fe[0]=R.host:fe.unshift(R.host)),R.host=null),re=re&&(fe[0]===""||le[0]==="")),Q)T.host=R.host||R.host===""?R.host:T.host,T.hostname=R.hostname||R.hostname===""?R.hostname:T.hostname,T.search=R.search,T.query=R.query,le=fe;else if(fe.length)le||(le=[]),le.pop(),le=le.concat(fe),T.search=R.search,T.query=R.query;else if(!g.isNullOrUndefined(R.search)){if(ve){T.hostname=T.host=le.shift();var ne=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;ne&&(T.auth=ne.shift(),T.host=T.hostname=ne.shift())}return T.search=R.search,T.query=R.query,(!g.isNull(T.pathname)||!g.isNull(T.search))&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T}if(!le.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var ie=le.slice(-1)[0],V=(T.host||R.host||le.length>1)&&(ie==="."||ie==="..")||ie==="",ee=0,$=le.length;$>=0;$--)ie=le[$],ie==="."?le.splice($,1):ie===".."?(le.splice($,1),ee++):ee&&(le.splice($,1),ee--);if(!re&&!se)for(;ee--;ee)le.unshift("..");re&&le[0]!==""&&(!le[0]||le[0].charAt(0)!=="/")&&le.unshift(""),V&&le.join("/").substr(-1)!=="/"&&le.push("");var G=le[0]===""||le[0]&&le[0].charAt(0)==="/";if(ve){T.hostname=T.host=G?"":le.length?le.shift():"";var ne=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;ne&&(T.auth=ne.shift(),T.host=T.hostname=ne.shift())}return re=re||T.host&&le.length,re&&!G&&le.unshift(""),le.length?T.pathname=le.join("/"):(T.pathname=null,T.path=null),(!g.isNull(T.pathname)||!g.isNull(T.search))&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=R.auth||T.auth,T.slashes=T.slashes||R.slashes,T.href=T.format(),T},u.prototype.parseHost=function(){var R=this.host,L=l.exec(R);L&&(L=L[0],L!==":"&&(this.port=L.substr(1)),R=R.substr(0,R.length-L.length)),R&&(this.hostname=R)}},{"./util":181,punycode:134,querystring:137}],181:[function(M,H,w){H.exports={isString:function(E){return typeof E=="string"},isObject:function(E){return typeof E=="object"&&E!==null},isNull:function(E){return E===null},isNullOrUndefined:function(E){return E==null}}},{}],182:[function(M,H,w){(function(E){(function(){var g={};typeof H=="object"?H.exports=g:self.UTIF=g;var u;typeof M=="function"?u=M("pako"):u=self.pako;function p(){(typeof E>"u"||E.env.NODE_ENV=="development")&&console.log.apply(console,arguments)}(function(l,a){(function(){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t=(function(){function s(f){this.message="JPEG error: "+f}return s.prototype=Error(),s.prototype.name="JpegError",s.constructor=s})(),e=(function(){function s(f,n){this.message=f,this.g=n}return s.prototype=Error(),s.prototype.name="DNLMarkerError",s.constructor=s})();(function(){function s(){this.M=null,this.B=-1}function f(c,d){for(var v=0,_=[],b,y,S=16;0<S&&!c[S-1];)S--;_.push({children:[],index:0});var R=_[0],L;for(b=0;b<S;b++){for(y=0;y<c[b];y++){for(R=_.pop(),R.children[R.index]=d[v];0<R.index;)R=_.pop();for(R.index++,_.push(R);_.length<=b;)_.push(L={children:[],index:0}),R.children[R.index]=L.children,R=L;v++}b+1<S&&(_.push(L={children:[],index:0}),R.children[R.index]=L.children,R=L)}return _[0].children}function n(c,d,v,_,b,y,S,R,L){function T(){if(0<Q)return Q--,j>>Q&1;if(j=c[d++],j===255){var C=c[d++];if(C){if(C===220&&K){d+=2;var A=c[d++]<<8|c[d++];if(0<A&&A!==v.g)throw new e("Found DNL marker (0xFFDC) while parsing scan data",A)}throw new t("unexpected marker "+(j<<8|C).toString(16))}}return Q=7,j>>>7}function x(C){for(;;){if(C=C[T()],typeof C=="number")return C;if((typeof C>"u"?"undefined":i(C))!=="object")throw new t("invalid huffman sequence")}}function z(C){for(var A=0;0<C;)A=A<<1|T(),C--;return A}function k(C){if(C===1)return T()===1?1:-1;var A=z(C);return A>=1<<C-1?A:A+(-1<<C)+1}function O(C,A){var X=x(C.D);for(X=X===0?0:k(X),C.a[A]=C.m+=X,X=1;64>X;){var ae=x(C.o),pe=ae&15;if(ae>>=4,pe===0){if(15>ae)break;X+=16}else X+=ae,C.a[A+h[X]]=k(pe),X++}}function D(C,A){var X=x(C.D);X=X===0?0:k(X)<<L,C.a[A]=C.m+=X}function W(C,A){C.a[A]|=T()<<L}function q(C,A){if(0<re)re--;else for(var X=y;X<=S;){var ae=x(C.o),pe=ae&15;if(ae>>=4,pe===0){if(15>ae){re=z(ae)+(1<<ae)-1;break}X+=16}else X+=ae,C.a[A+h[X]]=k(pe)*(1<<L),X++}}function te(C,A){for(var X=y,ae=0,pe;X<=S;){pe=A+h[X];var _e=0>C.a[pe]?-1:1;switch(se){case 0:if(ae=x(C.o),pe=ae&15,ae>>=4,pe===0)15>ae?(re=z(ae)+(1<<ae),se=4):(ae=16,se=1);else{if(pe!==1)throw new t("invalid ACn encoding");le=k(pe),se=ae?2:3}continue;case 1:case 2:C.a[pe]?C.a[pe]+=_e*(T()<<L):(ae--,ae===0&&(se=se===2?3:0));break;case 3:C.a[pe]?C.a[pe]+=_e*(T()<<L):(C.a[pe]=le<<L,se=0);break;case 4:C.a[pe]&&(C.a[pe]+=_e*(T()<<L))}X++}se===4&&(re--,re===0&&(se=0))}for(var K=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,F=v.P,Y=d,j=0,Q=0,re=0,se=0,le,fe=_.length,ve,ne,ie,V,ee=v.S?y===0?R===0?D:W:R===0?q:te:O,$=0,G=fe===1?_[0].c*_[0].l:F*v.O,I,P;$<G;){var Z=b?Math.min(G-$,b):G;for(ve=0;ve<fe;ve++)_[ve].m=0;if(re=0,fe===1){var U=_[0];for(V=0;V<Z;V++)ee(U,64*((U.c+1)*($/U.c|0)+$%U.c)),$++}else for(V=0;V<Z;V++){for(ve=0;ve<fe;ve++)for(U=_[ve],I=U.h,P=U.j,ne=0;ne<P;ne++)for(ie=0;ie<I;ie++)ee(U,64*((U.c+1)*(($/F|0)*U.j+ne)+($%F*U.h+ie)));$++}if(Q=0,(U=r(c,d))&&U.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+U.f),d=U.offset),U=U&&U.F,!U||65280>=U)throw new t("marker was not found");if(65488<=U&&65495>=U)d+=2;else break}return(U=r(c,d))&&U.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+U.f),d=U.offset),d-Y}function o(c,d){for(var v=d.c,_=d.l,b=new Int16Array(64),y=0;y<_;y++)for(var S=0;S<v;S++){var R=64*((d.c+1)*y+S),L=b,T=d.G,x=d.a;if(!T)throw new t("missing required Quantization Table.");for(var z=0;64>z;z+=8){var k=x[R+z],O=x[R+z+1],D=x[R+z+2],W=x[R+z+3],q=x[R+z+4],te=x[R+z+5],K=x[R+z+6],F=x[R+z+7];if(k*=T[z],(O|D|W|q|te|K|F)===0)k=5793*k+512>>10,L[z]=k,L[z+1]=k,L[z+2]=k,L[z+3]=k,L[z+4]=k,L[z+5]=k,L[z+6]=k,L[z+7]=k;else{O*=T[z+1],D*=T[z+2],W*=T[z+3],q*=T[z+4],te*=T[z+5],K*=T[z+6],F*=T[z+7];var Y=5793*k+128>>8,j=5793*q+128>>8,Q=D,re=K;q=2896*(O-F)+128>>8,F=2896*(O+F)+128>>8,W<<=4,te<<=4,Y=Y+j+1>>1,j=Y-j,k=3784*Q+1567*re+128>>8,Q=1567*Q-3784*re+128>>8,re=k,q=q+te+1>>1,te=q-te,F=F+W+1>>1,W=F-W,Y=Y+re+1>>1,re=Y-re,j=j+Q+1>>1,Q=j-Q,k=2276*q+3406*F+2048>>12,q=3406*q-2276*F+2048>>12,F=k,k=799*W+4017*te+2048>>12,W=4017*W-799*te+2048>>12,te=k,L[z]=Y+F,L[z+7]=Y-F,L[z+1]=j+te,L[z+6]=j-te,L[z+2]=Q+W,L[z+5]=Q-W,L[z+3]=re+q,L[z+4]=re-q}}for(T=0;8>T;++T)k=L[T],O=L[T+8],D=L[T+16],W=L[T+24],q=L[T+32],te=L[T+40],K=L[T+48],F=L[T+56],(O|D|W|q|te|K|F)===0?(k=5793*k+8192>>14,k=-2040>k?0:2024<=k?255:k+2056>>4,x[R+T]=k,x[R+T+8]=k,x[R+T+16]=k,x[R+T+24]=k,x[R+T+32]=k,x[R+T+40]=k,x[R+T+48]=k,x[R+T+56]=k):(Y=5793*k+2048>>12,j=5793*q+2048>>12,Q=D,re=K,q=2896*(O-F)+2048>>12,F=2896*(O+F)+2048>>12,Y=(Y+j+1>>1)+4112,j=Y-j,k=3784*Q+1567*re+2048>>12,Q=1567*Q-3784*re+2048>>12,re=k,q=q+te+1>>1,te=q-te,F=F+W+1>>1,W=F-W,Y=Y+re+1>>1,re=Y-re,j=j+Q+1>>1,Q=j-Q,k=2276*q+3406*F+2048>>12,q=3406*q-2276*F+2048>>12,F=k,k=799*W+4017*te+2048>>12,W=4017*W-799*te+2048>>12,te=k,k=Y+F,F=Y-F,O=j+te,K=j-te,D=Q+W,te=Q-W,W=re+q,q=re-q,k=16>k?0:4080<=k?255:k>>4,O=16>O?0:4080<=O?255:O>>4,D=16>D?0:4080<=D?255:D>>4,W=16>W?0:4080<=W?255:W>>4,q=16>q?0:4080<=q?255:q>>4,te=16>te?0:4080<=te?255:te>>4,K=16>K?0:4080<=K?255:K>>4,F=16>F?0:4080<=F?255:F>>4,x[R+T]=k,x[R+T+8]=O,x[R+T+16]=D,x[R+T+24]=W,x[R+T+32]=q,x[R+T+40]=te,x[R+T+48]=K,x[R+T+56]=F)}return d.a}function r(c,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:d,_=c.length-1;if(v=v<d?v:d,d>=_)return null;var b=c[d]<<8|c[d+1];if(65472<=b&&65534>=b)return{f:null,F:b,offset:d};for(var y=c[v]<<8|c[v+1];!(65472<=y&&65534>=y);){if(++v>=_)return null;y=c[v]<<8|c[v+1]}return{f:b.toString(16),F:y,offset:v}}var h=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);s.prototype={parse:function(c){function d(){var Q=c[S]<<8|c[S+1];return S+=2,Q}function v(){var Q=d();Q=S+Q-2;var re=r(c,Q,S);return re&&re.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+re.f),Q=re.offset),Q=c.subarray(S,Q),S+=Q.length,Q}function _(Q){for(var re=Math.ceil(Q.v/8/Q.s),se=Math.ceil(Q.g/8/Q.u),le=0;le<Q.b.length;le++){Y=Q.b[le];var fe=Math.ceil(Math.ceil(Q.v/8)*Y.h/Q.s),ve=Math.ceil(Math.ceil(Q.g/8)*Y.j/Q.u);Y.a=new Int16Array(64*se*Y.j*(re*Y.h+1)),Y.c=fe,Y.l=ve}Q.P=re,Q.O=se}var b=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,y=b===void 0?null:b,S=0,R=null,L=0;b=[];var T=[],x=[],z=d();if(z!==65496)throw new t("SOI not found");for(z=d();z!==65497;){switch(z){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var k=v();z===65518&&k[0]===65&&k[1]===100&&k[2]===111&&k[3]===98&&k[4]===101&&(R={version:k[5]<<8|k[6],Y:k[7]<<8|k[8],Z:k[9]<<8|k[10],W:k[11]});break;case 65499:z=d()+S-2;for(var O;S<z;){var D=c[S++],W=new Uint16Array(64);if(D>>4===0)for(k=0;64>k;k++)O=h[k],W[O]=c[S++];else if(D>>4===1)for(k=0;64>k;k++)O=h[k],W[O]=d();else throw new t("DQT - invalid table spec");b[D&15]=W}break;case 65472:case 65473:case 65474:if(q)throw new t("Only single frame JPEGs supported");d();var q={};for(q.X=z===65473,q.S=z===65474,q.precision=c[S++],z=d(),q.g=y||z,q.v=d(),q.b=[],q.C={},k=c[S++],z=W=D=0;z<k;z++){O=c[S];var te=c[S+1]>>4,K=c[S+1]&15;D<te&&(D=te),W<K&&(W=K),te=q.b.push({h:te,j:K,T:c[S+2],G:null}),q.C[O]=te-1,S+=3}q.s=D,q.u=W,_(q);break;case 65476:for(O=d(),z=2;z<O;){for(D=c[S++],W=new Uint8Array(16),k=te=0;16>k;k++,S++)te+=W[k]=c[S];for(K=new Uint8Array(te),k=0;k<te;k++,S++)K[k]=c[S];z+=17+te,(D>>4===0?x:T)[D&15]=f(W,K)}break;case 65501:d();var F=d();break;case 65498:for(k=++L===1&&!y,d(),D=c[S++],O=[],z=0;z<D;z++){W=q.C[c[S++]];var Y=q.b[W];W=c[S++],Y.D=x[W>>4],Y.o=T[W&15],O.push(Y)}z=c[S++],D=c[S++],W=c[S++];try{var j=n(c,S,q,O,F,z,D,W>>4,W&15,k);S+=j}catch(Q){if(Q instanceof e)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(c,{N:Q.g});throw Q}break;case 65500:S+=4;break;case 65535:c[S]!==255&&S--;break;default:if(c[S-3]===255&&192<=c[S-2]&&254>=c[S-2])S-=3;else if((k=r(c,S-2))&&k.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+k.f),S=k.offset;else throw new t("unknown marker "+z.toString(16))}z=d()}for(this.width=q.v,this.height=q.g,this.A=R,this.b=[],z=0;z<q.b.length;z++)Y=q.b[z],(F=b[Y.T])&&(Y.G=F),this.b.push({R:o(q,Y),U:Y.h/q.s,V:Y.j/q.u,c:Y.c,l:Y.l});this.i=this.b.length},L:function(c,d){var v=this.width/c,_=this.height/d,b,y,S=this.b.length,R=c*d*S,L=new Uint8ClampedArray(R),T=new Uint32Array(c);for(y=0;y<S;y++){var x=this.b[y],z=x.U*v,k=x.V*_,O=y,D=x.R,W=x.c+1<<3;for(b=0;b<c;b++)x=0|b*z,T[b]=(x&4294967288)<<3|x&7;for(z=0;z<d;z++)for(x=0|z*k,x=W*(x&4294967288)|(x&7)<<3,b=0;b<c;b++)L[O]=D[x+T[b]],O+=S}if(_=this.M)for(y=0;y<R;)for(v=x=0;x<S;x++,y++,v+=2)L[y]=(L[y]*_[v]>>8)+_[v+1];return L},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(c){for(var d,v,_,b=0,y=c.length;b<y;b+=3)d=c[b],v=c[b+1],_=c[b+2],c[b]=d-179.456+1.402*_,c[b+1]=d+135.459-.344*v-.714*_,c[b+2]=d-226.816+1.772*v;return c},K:function(c){for(var d,v,_,b,y=0,S=0,R=c.length;S<R;S+=4)d=c[S],v=c[S+1],_=c[S+2],b=c[S+3],c[y++]=-122.67195406894+v*(-660635669420364e-19*v+.000437130475926232*_-54080610064599e-18*d+.00048449797120281*b-.154362151871126)+_*(-.000957964378445773*_+.000817076911346625*d-.00477271405408747*b+1.53380253221734)+d*(.000961250184130688*d-.00266257332283933*b+.48357088451265)+b*(-.000336197177618394*b+.484791561490776),c[y++]=107.268039397724+v*(219927104525741e-19*v-.000640992018297945*_+.000659397001245577*d+.000426105652938837*b-.176491792462875)+_*(-.000778269941513683*_+.00130872261408275*d+.000770482631801132*b-.151051492775562)+d*(.00126935368114843*d-.00265090189010898*b+.25802910206845)+b*(-.000318913117588328*b-.213742400323665),c[y++]=-20.810012546947+v*(-.000570115196973677*v-263409051004589e-19*_+.0020741088115012*d-.00288260236853442*b+.814272968359295)+_*(-153496057440975e-19*_-.000132689043961446*d+.000560833691242812*b-.195152027534049)+d*(.00174418132927582*d-.00255243321439347*b+.116935020465145)+b*(-.000343531996510555*b+.24165260232407);return c.subarray(0,y)},J:function(c){for(var d,v,_,b=0,y=c.length;b<y;b+=4)d=c[b],v=c[b+1],_=c[b+2],c[b]=434.456-d-1.402*_,c[b+1]=119.541-d+.344*v+.714*_,c[b+2]=481.816-d-1.772*v;return c},H:function(c){for(var d,v,_,b,y=0,S=1/255,R=0,L=c.length;R<L;R+=4)d=c[R]*S,v=c[R+1]*S,_=c[R+2]*S,b=c[R+3]*S,c[y++]=255+d*(-4.387332384609988*d+54.48615194189176*v+18.82290502165302*_+212.25662451639585*b-285.2331026137004)+v*(1.7149763477362134*v-5.6096736904047315*_-17.873870861415444*b-5.497006427196366)+_*(-2.5217340131683033*_-21.248923337353073*b+17.5119270841813)-b*(21.86122147463605*b+189.48180835922747),c[y++]=255+d*(8.841041422036149*d+60.118027045597366*v+6.871425592049007*_+31.159100130055922*b-79.2970844816548)+v*(-15.310361306967817*v+17.575251261109482*_+131.35250912493976*b-190.9453302588951)+_*(4.444339102852739*_+9.8632861493405*b-24.86741582555878)-b*(20.737325471181034*b+187.80453709719578),c[y++]=255+d*(.8842522430003296*d+8.078677503112928*v+30.89978309703729*_-.23883238689178934*b-14.183576799673286)+v*(10.49593273432072*v+63.02378494754052*_+50.606957656360734*b-112.23884253719248)+_*(.03296041114873217*_+115.60384449646641*b-193.58209356861505)-b*(22.33816807309886*b+180.12613974708367);return c.subarray(0,y)},getData:function(c,d,v){if(4<this.i)throw new t("Unsupported color mode");if(c=this.L(c,d),this.i===1&&v){v=c.length,d=new Uint8ClampedArray(3*v);for(var _=0,b=0;b<v;b++){var y=c[b];d[_++]=y,d[_++]=y,d[_++]=y}return d}if(this.i===3&&this.w())return this.I(c);if(this.i===4){if(this.w())return v?this.K(c):this.J(c);if(v)return this.H(c)}return c}},l.JpegDecoder=s})()})(),l.encodeImage=function(i,t,e,s){var f={t256:[t],t257:[e],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[e],t279:[t*e*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(s)for(var n in s)f[n]=s[n];for(var o=new Uint8Array(l.encode([f])),r=new Uint8Array(i),h=new Uint8Array(1e3+t*e*4),n=0;n<o.length;n++)h[n]=o[n];for(var n=0;n<r.length;n++)h[1e3+n]=r[n];return h.buffer},l.encode=function(i){var t=new Uint8Array(2e4),e=4,s=l._binBE;t[0]=77,t[1]=77,t[3]=42;var f=8;s.writeUint(t,e,f),e+=4;for(var n=0;n<i.length;n++){var o=l._writeIFD(s,t,f,i[n]);f=o[1],n<i.length-1&&s.writeUint(t,o[0],f)}return t.slice(0,f).buffer},l.decode=function(i){l.decode._decodeG3.allow2D=null;var t=new Uint8Array(i),e=0,s=l._binBE.readASCII(t,e,2);e+=2;var f=s=="II"?l._binLE:l._binBE;f.readUshort(t,e),e+=2;var n=f.readUint(t,e);e+=4;for(var o=[];;){var r=l._readIFD(f,t,n,o);if(n=f.readUint(t,r),n==0)break}return o},l.decodeImages=function(i,t){for(var e=new Uint8Array(i),s=l._binBE.readASCII(e,0,2),f=0;f<t.length;f++){var n=t[f];if(n.t256!=null){n.isLE=s=="II",n.width=n.t256[0],n.height=n.t257[0];var o=n.t259?n.t259[0]:1,r=n.t266?n.t266[0]:1;n.t284&&n.t284[0]==2&&p("PlanarConfiguration 2 should not be used!");var h=(n.t258?Math.min(32,n.t258[0]):1)*(n.t277?n.t277[0]:1),c=Math.ceil(n.width*h/8)*8,d=n.t273;d==null&&(d=n.t324);var v=n.t279;o==1&&d.length==1&&(v=[n.height*(c>>>3)]),v==null&&(v=n.t325);var _=new Uint8Array(n.height*(c>>>3)),b=0;if(n.t322!=null){for(var y=n.t322[0],S=n.t323[0],R=Math.floor((n.width+y-1)/y),L=Math.floor((n.height+S-1)/S),T=new Uint8Array(Math.ceil(y*S*h/8)|0),x=0;x<L;x++)for(var z=0;z<R;z++){for(var k=x*R+z,O=0;O<T.length;O++)T[O]=0;l.decode._decompress(n,e,d[k],v[k],o,T,0,r),o==6?_=T:l._copyTile(T,Math.ceil(y*h/8)|0,S,_,Math.ceil(n.width*h/8)|0,n.height,Math.ceil(z*y*h/8)|0,x*S)}b=_.length*8}else{var D=n.t278?n.t278[0]:n.height;D=Math.min(D,n.height);for(var k=0;k<d.length;k++)l.decode._decompress(n,e,d[k],v[k],o,_,Math.ceil(b/8)|0,r),b+=c*D;b=Math.min(b,_.length*8)}n.data=new Uint8Array(_.buffer,0,Math.ceil(b/8)|0)}}},l.decode._decompress=function(i,t,e,s,f,n,o,r){if(f==1)for(var h=0;h<s;h++)n[o+h]=t[e+h];else if(f==3)l.decode._decodeG3(t,e,s,n,o,i.width,r);else if(f==4)l.decode._decodeG4(t,e,s,n,o,i.width,r);else if(f==5)l.decode._decodeLZW(t,e,n,o);else if(f==6)l.decode._decodeOldJPEG(i,t,e,s,n,o);else if(f==7)l.decode._decodeNewJPEG(i,t,e,s,n,o);else if(f==8)for(var c=new Uint8Array(t.buffer,e,s),d=a.inflate(c),v=0;v<d.length;v++)n[o+v]=d[v];else f==32773?l.decode._decodePackBits(t,e,s,n,o):f==32809?l.decode._decodeThunder(t,e,s,n,o):p("Unknown compression",f);if(i.t317&&i.t317[0]==2)for(var _=i.t277?i.t277[0]:1,b=i.t278?i.t278[0]:i.height,y=i.width*_,S=0;S<b;S++){var R=o+S*y;if(_==3)for(var h=3;h<y;h+=3)n[R+h]=n[R+h]+n[R+h-3]&255,n[R+h+1]=n[R+h+1]+n[R+h-2]&255,n[R+h+2]=n[R+h+2]+n[R+h-1]&255;else for(var h=_;h<y;h++)n[R+h]=n[R+h]+n[R+h-_]&255}},l.decode._decodeNikon=function(i,t,r,s,f){var n,o,r;p(i.slice(t,t+100)),n=i[t],t++,o=i[t],t++,p(n.toString(16),o.toString(16),r)},l.decode._decodeNewJPEG=function(i,t,e,s,f,n){var o=i.t347,r=o?o.length:0,h=new Uint8Array(r+s);if(o){for(var c=216,d=217,v=0,_=0;_<r-1&&!(o[_]==255&&o[_+1]==d);_++)h[v++]=o[_];var b=t[e],y=t[e+1];(b!=255||y!=c)&&(h[v++]=b,h[v++]=y);for(var _=2;_<s;_++)h[v++]=t[e+_]}else for(var _=0;_<s;_++)h[_]=t[e+_];if(i.t262==32803){var S=i.t258[0],R=new LosslessJpegDecoder,L=R.decode(h),T=L.length;if(S==16)for(var _=0;_<T;_++)f[n++]=L[_]&255,f[n++]=L[_]>>>8;else if(S==12)for(var _=0;_<T;_+=2)f[n++]=L[_]>>>4,f[n++]=(L[_]<<4|L[_+1]>>>8)&255,f[n++]=L[_+1]&255;else throw new Error("unsupported bit depth "+S)}else{var x=new l.JpegDecoder;x.parse(h);for(var z=x.getData(x.width,x.height),_=0;_<z.length;_++)f[n+_]=z[_]}i.t262[0]==6&&(i.t262[0]=2)},l.decode._decodeOldJPEGInit=function(i,t,e,s){var f=216,n=219,o=196,r=221,h=192,c=218,d=0,v=0,_,b,y=!1,S,R,L,T=i.t513,x=T?T[0]:0,z=i.t514,k=z?z[0]:0,O=i.t324||i.t273||T,D=i.t530,W=0,q=0,te=i.t277?i.t277[0]:1,K=i.t515;if(O&&(v=O[0],y=O.length>1),!y){if(t[e]==255&&t[e+1]==f)return{jpegOffset:e};if(T!=null&&(t[e+x]==255&&t[e+x+1]==f?d=e+x:p("JPEGInterchangeFormat does not point to SOI"),z==null?p("JPEGInterchangeFormatLength field is missing"):(x>=v||x+k<=v)&&p("JPEGInterchangeFormatLength field value is invalid"),d!=null))return{jpegOffset:d}}if(D!=null&&(W=D[0],q=D[1]),T!=null&&z!=null)if(k>=2&&x+k<=v){for(t[e+x+k-2]==255&&t[e+x+k-1]==f?_=new Uint8Array(k-2):_=new Uint8Array(k),S=0;S<_.length;S++)_[S]=t[e+x+S];p("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else p("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(_==null){var F=0,Y=[];Y[F++]=255,Y[F++]=f;var j=i.t519;if(j==null)throw new Error("JPEGQTables tag is missing");for(S=0;S<j.length;S++)for(Y[F++]=255,Y[F++]=n,Y[F++]=0,Y[F++]=67,Y[F++]=S,R=0;R<64;R++)Y[F++]=t[e+j[S]+R];for(L=0;L<2;L++){var Q=i[L==0?"t520":"t521"];if(Q==null)throw new Error((L==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(S=0;S<Q.length;S++){Y[F++]=255,Y[F++]=o;var re=19;for(R=0;R<16;R++)re+=t[e+Q[S]+R];for(Y[F++]=re>>>8,Y[F++]=re&255,Y[F++]=S|L<<4,R=0;R<16;R++)Y[F++]=t[e+Q[S]+R];for(R=0;R<re;R++)Y[F++]=t[e+Q[S]+16+R]}}if(Y[F++]=255,Y[F++]=h,Y[F++]=0,Y[F++]=8+3*te,Y[F++]=8,Y[F++]=i.height>>>8&255,Y[F++]=i.height&255,Y[F++]=i.width>>>8&255,Y[F++]=i.width&255,Y[F++]=te,te==1)Y[F++]=1,Y[F++]=17,Y[F++]=0;else for(S=0;S<3;S++)Y[F++]=S+1,Y[F++]=S!=0?17:(W&15)<<4|q&15,Y[F++]=S;K!=null&&K[0]!=0&&(Y[F++]=255,Y[F++]=r,Y[F++]=0,Y[F++]=4,Y[F++]=K[0]>>>8&255,Y[F++]=K[0]&255),_=new Uint8Array(Y)}var se=-1;for(S=0;S<_.length-1;){if(_[S]==255&&_[S+1]==h){se=S;break}S++}if(se==-1){var le=new Uint8Array(_.length+10+3*te);le.set(_);var fe=_.length;if(se=_.length,_=le,_[fe++]=255,_[fe++]=h,_[fe++]=0,_[fe++]=8+3*te,_[fe++]=8,_[fe++]=i.height>>>8&255,_[fe++]=i.height&255,_[fe++]=i.width>>>8&255,_[fe++]=i.width&255,_[fe++]=te,te==1)_[fe++]=1,_[fe++]=17,_[fe++]=0;else for(S=0;S<3;S++)_[fe++]=S+1,_[fe++]=S!=0?17:(W&15)<<4|q&15,_[fe++]=S}if(t[v]==255&&t[v+1]==c){var ve=t[v+2]<<8|t[v+3];for(b=new Uint8Array(ve+2),b[0]=t[v],b[1]=t[v+1],b[2]=t[v+2],b[3]=t[v+3],S=0;S<ve-2;S++)b[S+4]=t[v+S+4]}else{b=new Uint8Array(8+2*te);var ne=0;if(b[ne++]=255,b[ne++]=c,b[ne++]=0,b[ne++]=6+2*te,b[ne++]=te,te==1)b[ne++]=1,b[ne++]=0;else for(S=0;S<3;S++)b[ne++]=S+1,b[ne++]=S<<4|S;b[ne++]=0,b[ne++]=63,b[ne++]=0}return{jpegOffset:e,tables:_,sosMarker:b,sofPosition:se}},l.decode._decodeOldJPEG=function(i,t,e,s,f,n){var o,r,h,c,d=l.decode._decodeOldJPEGInit(i,t,e,s);if(d.jpegOffset!=null)for(r=e+s-d.jpegOffset,c=new Uint8Array(r),o=0;o<r;o++)c[o]=t[d.jpegOffset+o];else{for(h=d.tables.length,c=new Uint8Array(h+d.sosMarker.length+s+2),c.set(d.tables),c[d.sofPosition+5]=i.height>>>8&255,c[d.sofPosition+6]=i.height&255,c[d.sofPosition+7]=i.width>>>8&255,c[d.sofPosition+8]=i.width&255,(t[e]!=255||t[e+1]!=SOS)&&(c.set(d.sosMarker,bufoff),bufoff+=sosMarker.length),o=0;o<s;o++)c[bufoff++]=t[e+o];c[bufoff++]=255,c[bufoff++]=EOI}var v=new l.JpegDecoder;v.parse(c);for(var _=v.getData(v.width,v.height),o=0;o<_.length;o++)f[n+o]=_[o];i.t262[0]==6&&(i.t262[0]=2)},l.decode._decodePackBits=function(i,t,e,s,f){for(var n=new Int8Array(i.buffer),o=new Int8Array(s.buffer),r=t+e;t<r;){var h=n[t];if(t++,h>=0&&h<128)for(var c=0;c<h+1;c++)o[f]=n[t],f++,t++;if(h>=-127&&h<0){for(var c=0;c<-h+1;c++)o[f]=n[t],f++;t++}}},l.decode._decodeThunder=function(i,t,e,s,f){for(var n=[0,1,0,-1],o=[0,1,2,3,0,-3,-2,-1],r=t+e,h=f*2,c=0;t<r;){var d=i[t],v=d>>>6,_=d&63;if(t++,v==3&&(c=_&15,s[h>>>1]|=c<<4*(1-h&1),h++),v==0)for(var b=0;b<_;b++)s[h>>>1]|=c<<4*(1-h&1),h++;if(v==2)for(var b=0;b<2;b++){var y=_>>>3*(1-b)&7;y!=4&&(c+=o[y],s[h>>>1]|=c<<4*(1-h&1),h++)}if(v==1)for(var b=0;b<3;b++){var y=_>>>2*(2-b)&3;y!=2&&(c+=n[y],s[h>>>1]|=c<<4*(1-h&1),h++)}}},l.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},l.decode._lens=(function(){var i=function(h,c,d,v){for(var _=0;_<c.length;_++)h[c[_]]=d+_*v},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",e="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",s="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",f="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",n="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),e=e.split(","),s=s.split(","),f=f.split(","),n=n.split(",");var o={},r={};return i(o,t,0,1),i(o,s,64,64),i(o,n,1792,64),i(r,e,0,1),i(r,f,64,64),i(r,n,1792,64),[o,r]})(),l.decode._decodeG4=function(i,t,e,s,f,n,o){for(var r=l.decode,h=t<<3,c=0,d="",v=[],_=[],b=0;b<n;b++)_.push(0);_=r._makeDiff(_);for(var y=0,S=0,R=0,L=0,T=0,x=0,z="",k=0,O=Math.ceil(n/8)*8;h>>>3<t+e;){R=r._findDiff(_,y+(y==0?0:1),1-T),L=r._findDiff(_,R,T);var D=0;if(o==1&&(D=i[h>>>3]>>>7-(h&7)&1),o==2&&(D=i[h>>>3]>>>(h&7)&1),h++,d+=D,z=="H"){if(r._lens[T][d]!=null){var W=r._lens[T][d];d="",c+=W,W<64&&(r._addNtimes(v,c,T),y+=c,T=1-T,c=0,k--,k==0&&(z=""))}}else d=="0001"&&(d="",r._addNtimes(v,L-y,T),y=L),d=="001"&&(d="",z="H",k=2),r._dmap[d]!=null&&(S=R+r._dmap[d],r._addNtimes(v,S-y,T),y=S,d="",T=1-T);v.length==n&&z==""&&(r._writeBits(v,s,f*8+x*O),T=0,x++,y=0,_=r._makeDiff(v),v=[])}},l.decode._findDiff=function(i,t,e){for(var s=0;s<i.length;s+=2)if(i[s]>=t&&i[s+1]==e)return i[s]},l.decode._makeDiff=function(i){var t=[];i[0]==1&&t.push(0,1);for(var e=1;e<i.length;e++)i[e-1]!=i[e]&&t.push(e,i[e]);return t.push(i.length,0,i.length,1),t},l.decode._decodeG3=function(i,t,e,s,f,n,o){for(var r=l.decode,h=t<<3,c=0,d="",v=[],_=[],b=0;b<n;b++)v.push(0);for(var y=0,S=0,R=0,L=0,T=0,x=-1,z="",k=0,O=!1,D=Math.ceil(n/8)*8;h>>>3<t+e;){R=r._findDiff(_,y+(y==0?0:1),1-T),L=r._findDiff(_,R,T);var W=0;if(o==1&&(W=i[h>>>3]>>>7-(h&7)&1),o==2&&(W=i[h>>>3]>>>(h&7)&1),h++,d+=W,O){if(r._lens[T][d]!=null){var q=r._lens[T][d];d="",c+=q,q<64&&(r._addNtimes(v,c,T),T=1-T,c=0)}}else if(z=="H"){if(r._lens[T][d]!=null){var q=r._lens[T][d];d="",c+=q,q<64&&(r._addNtimes(v,c,T),y+=c,T=1-T,c=0,k--,k==0&&(z=""))}}else d=="0001"&&(d="",r._addNtimes(v,L-y,T),y=L),d=="001"&&(d="",z="H",k=2),r._dmap[d]!=null&&(S=R+r._dmap[d],r._addNtimes(v,S-y,T),y=S,d="",T=1-T);d.endsWith("000000000001")&&(x>=0&&r._writeBits(v,s,f*8+x*D),o==1&&(O=(i[h>>>3]>>>7-(h&7)&1)==1),o==2&&(O=(i[h>>>3]>>>(h&7)&1)==1),h++,r._decodeG3.allow2D==null&&(r._decodeG3.allow2D=O),r._decodeG3.allow2D||(O=!0,h--),d="",T=0,x++,y=0,_=r._makeDiff(v),v=[])}v.length==n&&r._writeBits(v,s,f*8+x*D)},l.decode._addNtimes=function(i,t,e){for(var s=0;s<t;s++)i.push(e)},l.decode._writeBits=function(i,t,e){for(var s=0;s<i.length;s++)t[e+s>>>3]|=i[s]<<7-(e+s&7)},l.decode._decodeLZW=function(i,t,e,s){if(l.decode._lzwTab==null){for(var f=new Uint32Array(65535),n=new Uint16Array(65535),d=new Uint8Array(2e6),o=0;o<256;o++)d[o<<2]=o,f[o]=o<<2,n[o]=1;l.decode._lzwTab=[f,n,d]}for(var r=l.decode._copyData,h=l.decode._lzwTab[0],c=l.decode._lzwTab[1],d=l.decode._lzwTab[2],v=258,_=1032,b=9,y=t<<3,S=256,R=257,L=0,T=0,x=0;L=i[y>>>3]<<16|i[y+8>>>3]<<8|i[y+16>>>3],T=L>>24-(y&7)-b&(1<<b)-1,y+=b,T!=R;){if(T==S){if(b=9,v=258,_=1032,L=i[y>>>3]<<16|i[y+8>>>3]<<8|i[y+16>>>3],T=L>>24-(y&7)-b&(1<<b)-1,y+=b,T==R)break;e[s]=T,s++}else if(T<v){var z=h[T],k=c[T];if(r(d,z,e,s,k),s+=k,x>=v)h[v]=_,d[h[v]]=z[0],c[v]=1,_=_+1+3&-4,v++;else{h[v]=_;var O=h[x],D=c[x];r(d,O,d,_,D),d[_+D]=d[z],D++,c[v]=D,v++,_=_+D+3&-4}v+1==1<<b&&b++}else{if(x>=v)h[v]=_,c[v]=0,v++;else{h[v]=_;var O=h[x],D=c[x];r(d,O,d,_,D),d[_+D]=d[_],D++,c[v]=D,v++,r(d,_,e,s,D),s+=D,_=_+D+3&-4}v+1==1<<b&&b++}x=T}},l.decode._copyData=function(i,t,e,s,f){for(var n=0;n<f;n+=4)e[s+n]=i[t+n],e[s+n+1]=i[t+n+1],e[s+n+2]=i[t+n+2],e[s+n+3]=i[t+n+3]},l.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},l.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},l._readIFD=function(i,t,e,s){var f=i.readUshort(t,e);e+=2;var n={};s.push(n);for(var o=0;o<f;o++){var r=i.readUshort(t,e);e+=2;var h=i.readUshort(t,e);e+=2;var c=i.readUint(t,e);e+=4;var d=i.readUint(t,e);e+=4;var v=[];if(n["t"+r]=v,h==1||h==7)for(var _=0;_<c;_++)v.push(t[(c<5?e-4:d)+_]);if(h==2&&v.push(i.readASCII(t,c<5?e-4:d,c-1)),h==3)for(var _=0;_<c;_++)v.push(i.readUshort(t,(c<3?e-4:d)+2*_));if(h==4)for(var _=0;_<c;_++)v.push(i.readUint(t,(c<2?e-4:d)+4*_));if(h==5)for(var _=0;_<c;_++)v.push(i.readUint(t,d+_*8)/i.readUint(t,d+_*8+4));if(h==8)for(var _=0;_<c;_++)v.push(i.readShort(t,(c<3?e-4:d)+2*_));if(h==9)for(var _=0;_<c;_++)v.push(i.readInt(t,(c<2?e-4:d)+4*_));if(h==10)for(var _=0;_<c;_++)v.push(i.readInt(t,d+_*8)/i.readInt(t,d+_*8+4));if(h==11)for(var _=0;_<c;_++)v.push(i.readFloat(t,d+_*4));if(h==12)for(var _=0;_<c;_++)v.push(i.readDouble(t,d+_*8));if(c!=0&&v.length==0&&p("unknown TIFF tag type: ",h,"num:",c),r==330)for(var _=0;_<c;_++)l._readIFD(i,t,v[_],s)}return e},l._writeIFD=function(i,t,e,s){var f=Object.keys(s);i.writeUshort(t,e,f.length),e+=2;for(var n=e+f.length*12+4,o=0;o<f.length;o++){var r=f[o],h=parseInt(r.slice(1)),c=l.ttypes[h];if(c==null)throw new Error("unknown type of tag: "+h);var d=s[r];c==2&&(d=d[0]+"\0");var v=d.length;i.writeUshort(t,e,h),e+=2,i.writeUshort(t,e,c),e+=2,i.writeUint(t,e,v),e+=4;var _=[-1,1,1,2,4,8,0,0,0,0,0,0,8][c]*v,b=e;if(_>4&&(i.writeUint(t,e,n),b=n),c==2&&i.writeASCII(t,b,d),c==3)for(var y=0;y<v;y++)i.writeUshort(t,b+2*y,d[y]);if(c==4)for(var y=0;y<v;y++)i.writeUint(t,b+4*y,d[y]);if(c==5)for(var y=0;y<v;y++)i.writeUint(t,b+8*y,Math.round(d[y]*1e4)),i.writeUint(t,b+8*y+4,1e4);if(c==12)for(var y=0;y<v;y++)i.writeDouble(t,b+8*y,d[y]);_>4&&(_+=_&1,n+=_),e+=4}return[e,n]},l.toRGBA8=function(i){var t=i.width,e=i.height,s=t*e,f=s*4,n=i.data,o=new Uint8Array(s*4),r=i.t262[0],h=i.t258?Math.min(32,i.t258[0]):1,c=i.isLE?1:0;if(r==0)for(var d=Math.ceil(h*t/8),v=0;v<e;v++){var _=v*d,b=v*t;if(h==1)for(var y=0;y<t;y++){var S=b+y<<2,R=n[_+(y>>3)]>>7-(y&7)&1;o[S]=o[S+1]=o[S+2]=(1-R)*255,o[S+3]=255}if(h==4)for(var y=0;y<t;y++){var S=b+y<<2,R=n[_+(y>>1)]>>4-4*(y&1)&15;o[S]=o[S+1]=o[S+2]=(15-R)*17,o[S+3]=255}if(h==8)for(var y=0;y<t;y++){var S=b+y<<2,R=n[_+y];o[S]=o[S+1]=o[S+2]=255-R,o[S+3]=255}}else if(r==1)for(var d=Math.ceil(h*t/8),v=0;v<e;v++){var _=v*d,b=v*t;if(h==1)for(var y=0;y<t;y++){var S=b+y<<2,R=n[_+(y>>3)]>>7-(y&7)&1;o[S]=o[S+1]=o[S+2]=R*255,o[S+3]=255}if(h==2)for(var y=0;y<t;y++){var S=b+y<<2,R=n[_+(y>>2)]>>6-2*(y&3)&3;o[S]=o[S+1]=o[S+2]=R*85,o[S+3]=255}if(h==8)for(var y=0;y<t;y++){var S=b+y<<2,R=n[_+y];o[S]=o[S+1]=o[S+2]=R,o[S+3]=255}if(h==16)for(var y=0;y<t;y++){var S=b+y<<2,R=n[_+(2*y+c)];o[S]=o[S+1]=o[S+2]=Math.min(255,R),o[S+3]=255}}else if(r==2)if(h==8)if(i.t338)if(i.t338[0]>0)for(var y=0;y<f;y++)o[y]=n[y];else for(var y=0;y<f;y+=4)o[y]=n[y],o[y+1]=n[y+1],o[y+2]=n[y+2],o[y+3]=255;else{var L=i.t258?i.t258.length:3;if(L==4)for(var y=0;y<f;y++)o[y]=n[y];if(L==3)for(var y=0;y<s;y++){var S=y<<2,T=y*3;o[S]=n[T],o[S+1]=n[T+1],o[S+2]=n[T+2],o[S+3]=255}}else for(var y=0;y<s;y++){var S=y<<2,T=y*6;o[S]=n[T],o[S+1]=n[T+2],o[S+2]=n[T+4],o[S+3]=255}else if(r==3)for(var x=i.t320,y=0;y<s;y++){var S=y<<2,z=n[y];o[S]=x[z]>>8,o[S+1]=x[256+z]>>8,o[S+2]=x[512+z]>>8,o[S+3]=255}else if(r==5)for(var L=i.t258?i.t258.length:4,k=L>4?1:0,y=0;y<s;y++){var S=y<<2,O=y*L,D=255-n[O],W=255-n[O+1],q=255-n[O+2],te=(255-n[O+3])*(1/255);o[S]=~~(D*te+.5),o[S+1]=~~(W*te+.5),o[S+2]=~~(q*te+.5),o[S+3]=255*(1-k)+n[O+4]*k}else p("Unknown Photometric interpretation: "+r);return o},l.replaceIMG=function(){for(var i=document.getElementsByTagName("img"),t=0;t<i.length;t++){var e=i[t],s=e.getAttribute("src");if(s!=null){var f=s.split(".").pop().toLowerCase();if(!(f!="tif"&&f!="tiff")){var n=new XMLHttpRequest;l._xhrs.push(n),l._imgs.push(e),n.open("GET",s),n.responseType="arraybuffer",n.onload=l._imgLoaded,n.send()}}}},l._xhrs=[],l._imgs=[],l._imgLoaded=function(i){var t=i.target.response,e=l.decode(t),s=e[0];l.decodeImages(t,e);var f=l.toRGBA8(s),n=s.width,o=s.height,r=l._xhrs.indexOf(i.target),h=l._imgs[r];l._xhrs.splice(r,1),l._imgs.splice(r,1);var c=document.createElement("canvas");c.width=n,c.height=o;for(var d=c.getContext("2d"),v=d.createImageData(n,o),_=0;_<f.length;_++)v.data[_]=f[_];d.putImageData(v,0,0);for(var b=["style","class","id"],_=0;_<b.length;_++)c.setAttribute(b[_],h.getAttribute(b[_]));h.parentNode.replaceChild(c,h)},l._binBE={nextZero:function(i,t){for(;i[t]!=0;)t++;return t},readUshort:function(i,t){return i[t]<<8|i[t+1]},readShort:function(i,t){var e=l._binBE.ui8;return e[0]=i[t+1],e[1]=i[t+0],l._binBE.i16[0]},readInt:function(i,t){var e=l._binBE.ui8;return e[0]=i[t+3],e[1]=i[t+2],e[2]=i[t+1],e[3]=i[t+0],l._binBE.i32[0]},readUint:function(i,t){var e=l._binBE.ui8;return e[0]=i[t+3],e[1]=i[t+2],e[2]=i[t+1],e[3]=i[t+0],l._binBE.ui32[0]},readASCII:function(i,t,e){for(var s="",f=0;f<e;f++)s+=String.fromCharCode(i[t+f]);return s},readFloat:function(i,t){for(var e=l._binBE.ui8,s=0;s<4;s++)e[s]=i[t+3-s];return l._binBE.fl32[0]},readDouble:function(i,t){for(var e=l._binBE.ui8,s=0;s<8;s++)e[s]=i[t+7-s];return l._binBE.fl64[0]},writeUshort:function(i,t,e){i[t]=e>>8&255,i[t+1]=e&255},writeUint:function(i,t,e){i[t]=e>>24&255,i[t+1]=e>>16&255,i[t+2]=e>>8&255,i[t+3]=e>>0&255},writeASCII:function(i,t,e){for(var s=0;s<e.length;s++)i[t+s]=e.charCodeAt(s)},writeDouble:function(i,t,e){l._binBE.fl64[0]=e;for(var s=0;s<8;s++)i[t+s]=l._binBE.ui8[7-s]}},l._binBE.ui8=new Uint8Array(8),l._binBE.i16=new Int16Array(l._binBE.ui8.buffer),l._binBE.i32=new Int32Array(l._binBE.ui8.buffer),l._binBE.ui32=new Uint32Array(l._binBE.ui8.buffer),l._binBE.fl32=new Float32Array(l._binBE.ui8.buffer),l._binBE.fl64=new Float64Array(l._binBE.ui8.buffer),l._binLE={nextZero:l._binBE.nextZero,readUshort:function(i,t){return i[t+1]<<8|i[t]},readShort:function(i,t){var e=l._binBE.ui8;return e[0]=i[t+0],e[1]=i[t+1],l._binBE.i16[0]},readInt:function(i,t){var e=l._binBE.ui8;return e[0]=i[t+0],e[1]=i[t+1],e[2]=i[t+2],e[3]=i[t+3],l._binBE.i32[0]},readUint:function(i,t){var e=l._binBE.ui8;return e[0]=i[t+0],e[1]=i[t+1],e[2]=i[t+2],e[3]=i[t+3],l._binBE.ui32[0]},readASCII:l._binBE.readASCII,readFloat:function(i,t){for(var e=l._binBE.ui8,s=0;s<4;s++)e[s]=i[t+s];return l._binBE.fl32[0]},readDouble:function(i,t){for(var e=l._binBE.ui8,s=0;s<8;s++)e[s]=i[t+s];return l._binBE.fl64[0]}},l._copyTile=function(i,t,e,s,f,n,o,r){for(var h=Math.min(t,f-o),c=Math.min(e,n-r),d=0;d<c;d++)for(var v=(r+d)*f+o,_=d*t,b=0;b<h;b++)s[v+b]=i[_+b]}})(g,u)})()}).call(this,M("_process"))},{_process:133,pako:86}],183:[function(M,H,w){(function(E){H.exports=g;function g(p,l){if(u("noDeprecation"))return p;var a=!1;function i(){if(!a){if(u("throwDeprecation"))throw new Error(l);u("traceDeprecation")?console.trace(l):console.warn(l),a=!0}return p.apply(this,arguments)}return i}function u(p){try{if(!E.localStorage)return!1}catch{return!1}var l=E.localStorage[p];return l==null?!1:String(l).toLowerCase()==="true"}}).call(this,typeof Fe<"u"?Fe:typeof self<"u"?self:typeof Ie<"u"?Ie:{})},{}],184:[function(M,H,w){arguments[4][26][0].apply(w,arguments)},{dup:26}],185:[function(M,H,w){arguments[4][27][0].apply(w,arguments)},{dup:27}],186:[function(M,H,w){arguments[4][28][0].apply(w,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(M,H,w){var E=M("global/window"),g=M("is-function"),u=M("parse-headers"),p=M("xtend");H.exports=t,H.exports.default=t,t.XMLHttpRequest=E.XMLHttpRequest||f,t.XDomainRequest="withCredentials"in new t.XMLHttpRequest?t.XMLHttpRequest:E.XDomainRequest,l(["get","put","post","patch","head","delete"],function(n){t[n==="delete"?"del":n]=function(o,r,h){return r=i(o,r,h),r.method=n.toUpperCase(),e(r)}});function l(n,o){for(var r=0;r<n.length;r++)o(n[r])}function a(n){for(var o in n)if(n.hasOwnProperty(o))return!1;return!0}function i(n,o,r){var h=n;return g(o)?(r=o,typeof n=="string"&&(h={uri:n})):h=p(o,{uri:n}),h.callback=r,h}function t(n,o,r){return o=i(n,o,r),e(o)}function e(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var o=!1,r=function(W,q,te){o||(o=!0,n.callback(W,q,te))};function h(){_.readyState===4&&setTimeout(v,0)}function c(){var D=void 0;if(_.response?D=_.response:D=_.responseText||s(_),z)try{D=JSON.parse(D)}catch{}return D}function d(D){return clearTimeout(k),D instanceof Error||(D=new Error(""+(D||"Unknown XMLHttpRequest Error"))),D.statusCode=0,r(D,O)}function v(){if(!y){var D;clearTimeout(k),n.useXDR&&_.status===void 0?D=200:D=_.status===1223?204:_.status;var W=O,q=null;return D!==0?(W={body:c(),statusCode:D,method:R,headers:{},url:S,rawRequest:_},_.getAllResponseHeaders&&(W.headers=u(_.getAllResponseHeaders()))):q=new Error("Internal XMLHttpRequest Error"),r(q,W,W.body)}}var _=n.xhr||null;_||(n.cors||n.useXDR?_=new t.XDomainRequest:_=new t.XMLHttpRequest);var b,y,S=_.url=n.uri||n.url,R=_.method=n.method||"GET",L=n.body||n.data,T=_.headers=n.headers||{},x=!!n.sync,z=!1,k,O={body:void 0,headers:{},statusCode:0,method:R,url:S,rawRequest:_};if("json"in n&&n.json!==!1&&(z=!0,T.accept||T.Accept||(T.Accept="application/json"),R!=="GET"&&R!=="HEAD"&&(T["content-type"]||T["Content-Type"]||(T["Content-Type"]="application/json"),L=JSON.stringify(n.json===!0?L:n.json))),_.onreadystatechange=h,_.onload=v,_.onerror=d,_.onprogress=function(){},_.onabort=function(){y=!0},_.ontimeout=d,_.open(R,S,!x,n.username,n.password),x||(_.withCredentials=!!n.withCredentials),!x&&n.timeout>0&&(k=setTimeout(function(){if(!y){y=!0,_.abort("timeout");var D=new Error("XMLHttpRequest timeout");D.code="ETIMEDOUT",d(D)}},n.timeout)),_.setRequestHeader)for(b in T)T.hasOwnProperty(b)&&_.setRequestHeader(b,T[b]);else if(n.headers&&!a(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(_.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(_),_.send(L||null),_}function s(n){try{if(n.responseType==="document")return n.responseXML;var o=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!o)return n.responseXML}catch{}return null}function f(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(M,H,w){H.exports=(function(){return typeof self.DOMParser<"u"?function(g){var u=new self.DOMParser;return u.parseFromString(g,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(g){var u=new self.ActiveXObject("Microsoft.XMLDOM");return u.async="false",u.loadXML(g),u}:function(g){var u=document.createElement("div");return u.innerHTML=g,u}})()},{}],189:[function(M,H,w){H.exports=g;var E=Object.prototype.hasOwnProperty;function g(){for(var u={},p=0;p<arguments.length;p++){var l=arguments[p];for(var a in l)E.call(l,a)&&(u[a]=l[a])}return u}},{}],190:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.srcOver=E,w.dstOver=g,w.multiply=u,w.add=p,w.screen=l,w.overlay=a,w.darken=i,w.lighten=t,w.hardLight=e,w.difference=s,w.exclusion=f;function E(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=(n.r*n.a+o.r*o.a*(1-n.a))/h,d=(n.g*n.a+o.g*o.a*(1-n.a))/h,v=(n.b*n.a+o.b*o.a*(1-n.a))/h;return{r:c,g:d,b:v,a:h}}function g(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=(o.r*o.a+n.r*n.a*(1-o.a))/h,d=(o.g*o.a+n.g*n.a*(1-o.a))/h,v=(o.b*o.a+n.b*n.a*(1-o.a))/h;return{r:c,g:d,b:v,a:h}}function u(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(c*_+c*(1-o.a)+_*(1-n.a))/h,R=(d*b+d*(1-o.a)+b*(1-n.a))/h,L=(v*y+v*(1-o.a)+y*(1-n.a))/h;return{r:S,g:R,b:L,a:h}}function p(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(c+_)/h,R=(d+b)/h,L=(v+y)/h;return{r:S,g:R,b:L,a:h}}function l(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(c*o.a+_*n.a-c*_+c*(1-o.a)+_*(1-n.a))/h,R=(d*o.a+b*n.a-d*b+d*(1-o.a)+b*(1-n.a))/h,L=(v*o.a+y*n.a-v*y+v*(1-o.a)+y*(1-n.a))/h;return{r:S,g:R,b:L,a:h}}function a(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(2*_<=o.a?2*c*_+c*(1-o.a)+_*(1-n.a):c*(1+o.a)+_*(1+n.a)-2*_*c-o.a*n.a)/h,R=(2*b<=o.a?2*d*b+d*(1-o.a)+b*(1-n.a):d*(1+o.a)+b*(1+n.a)-2*b*d-o.a*n.a)/h,L=(2*y<=o.a?2*v*y+v*(1-o.a)+y*(1-n.a):v*(1+o.a)+y*(1+n.a)-2*y*v-o.a*n.a)/h;return{r:S,g:R,b:L,a:h}}function i(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(Math.min(c*o.a,_*n.a)+c*(1-o.a)+_*(1-n.a))/h,R=(Math.min(d*o.a,b*n.a)+d*(1-o.a)+b*(1-n.a))/h,L=(Math.min(v*o.a,y*n.a)+v*(1-o.a)+y*(1-n.a))/h;return{r:S,g:R,b:L,a:h}}function t(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(Math.max(c*o.a,_*n.a)+c*(1-o.a)+_*(1-n.a))/h,R=(Math.max(d*o.a,b*n.a)+d*(1-o.a)+b*(1-n.a))/h,L=(Math.max(v*o.a,y*n.a)+v*(1-o.a)+y*(1-n.a))/h;return{r:S,g:R,b:L,a:h}}function e(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(2*c<=n.a?2*c*_+c*(1-o.a)+_*(1-n.a):c*(1+o.a)+_*(1+n.a)-2*_*c-o.a*n.a)/h,R=(2*d<=n.a?2*d*b+d*(1-o.a)+b*(1-n.a):d*(1+o.a)+b*(1+n.a)-2*b*d-o.a*n.a)/h,L=(2*v<=n.a?2*v*y+v*(1-o.a)+y*(1-n.a):v*(1+o.a)+y*(1+n.a)-2*y*v-o.a*n.a)/h;return{r:S,g:R,b:L,a:h}}function s(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(c+_-2*Math.min(c*o.a,_*n.a))/h,R=(d+b-2*Math.min(d*o.a,b*n.a))/h,L=(v+y-2*Math.min(v*o.a,y*n.a))/h;return{r:S,g:R,b:L,a:h}}function f(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=r;var h=o.a+n.a-o.a*n.a,c=n.r*n.a,d=n.g*n.a,v=n.b*n.a,_=o.r*o.a,b=o.g*o.a,y=o.b*o.a,S=(c*o.a+_*n.a-2*c*_+c*(1-o.a)+_*(1-n.a))/h,R=(d*o.a+b*n.a-2*d*b+d*(1-o.a)+b*(1-n.a))/h,L=(v*o.a+y*n.a-2*v*y+v*(1-o.a)+y*(1-n.a))/h;return{r:S,g:R,b:L,a:h}}},{}],191:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(w,"__esModule",{value:!0}),w.default=l;var g=M("@jimp/utils"),u=E(M("../constants")),p=E(M("./composite-modes"));function l(a,i,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(typeof e=="function"&&(s=e,e={}),!(a instanceof this.constructor))return g.throwError.call(this,"The source must be a Jimp image",s);if(typeof i!="number"||typeof t!="number")return g.throwError.call(this,"x and y must be numbers",s);var f=e,n=f.mode,o=f.opacitySource,r=f.opacityDest;n||(n=u.BLEND_SOURCE_OVER),(typeof o!="number"||o<0||o>1)&&(o=1),(typeof r!="number"||r<0||r>1)&&(r=1);var h=p[n];i=Math.round(i),t=Math.round(t);var c=this;return r!==1&&c.opacity(r),a.scanQuiet(0,0,a.bitmap.width,a.bitmap.height,function(d,v,_){var b=c.getPixelIndex(i+d,t+v,u.EDGE_CROP),y=h({r:this.bitmap.data[_+0]/255,g:this.bitmap.data[_+1]/255,b:this.bitmap.data[_+2]/255,a:this.bitmap.data[_+3]/255},{r:c.bitmap.data[b+0]/255,g:c.bitmap.data[b+1]/255,b:c.bitmap.data[b+2]/255,a:c.bitmap.data[b+3]/255},o);c.bitmap.data[b+0]=this.constructor.limit255(y.r*255),c.bitmap.data[b+1]=this.constructor.limit255(y.g*255),c.bitmap.data[b+2]=this.constructor.limit255(y.b*255),c.bitmap.data[b+3]=this.constructor.limit255(y.a*255)}),(0,g.isNodePattern)(s)&&s.call(this,null,this),this}H.exports=w.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.EDGE_CROP=w.EDGE_WRAP=w.EDGE_EXTEND=w.BLEND_EXCLUSION=w.BLEND_DIFFERENCE=w.BLEND_HARDLIGHT=w.BLEND_LIGHTEN=w.BLEND_DARKEN=w.BLEND_OVERLAY=w.BLEND_SCREEN=w.BLEND_ADD=w.BLEND_MULTIPLY=w.BLEND_DESTINATION_OVER=w.BLEND_SOURCE_OVER=w.VERTICAL_ALIGN_BOTTOM=w.VERTICAL_ALIGN_MIDDLE=w.VERTICAL_ALIGN_TOP=w.HORIZONTAL_ALIGN_RIGHT=w.HORIZONTAL_ALIGN_CENTER=w.HORIZONTAL_ALIGN_LEFT=w.AUTO=void 0;var E=-1;w.AUTO=E;var g=1;w.HORIZONTAL_ALIGN_LEFT=g;var u=2;w.HORIZONTAL_ALIGN_CENTER=u;var p=4;w.HORIZONTAL_ALIGN_RIGHT=p;var l=8;w.VERTICAL_ALIGN_TOP=l;var a=16;w.VERTICAL_ALIGN_MIDDLE=a;var i=32;w.VERTICAL_ALIGN_BOTTOM=i;var t="srcOver";w.BLEND_SOURCE_OVER=t;var e="dstOver";w.BLEND_DESTINATION_OVER=e;var s="multiply";w.BLEND_MULTIPLY=s;var f="add";w.BLEND_ADD=f;var n="screen";w.BLEND_SCREEN=n;var o="overlay";w.BLEND_OVERLAY=o;var r="darken";w.BLEND_DARKEN=r;var h="lighten";w.BLEND_LIGHTEN=h;var c="hardLight";w.BLEND_HARDLIGHT=c;var d="difference";w.BLEND_DIFFERENCE=d;var v="exclusion";w.BLEND_EXCLUSION=v;var _=1;w.EDGE_EXTEND=_;var b=2;w.EDGE_WRAP=b;var y=3;w.EDGE_CROP=y},{}],193:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireWildcard"),u=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.addConstants=fe,w.addJimpMethods=ve,w.jimpEvMethod=ne,w.jimpEvChange=ie,Object.defineProperty(w,"addType",{enumerable:!0,get:function(){return x.addType}}),w.default=void 0;for(var p=u(M("@babel/runtime/helpers/construct")),l=u(M("@babel/runtime/helpers/slicedToArray")),a=u(M("@babel/runtime/helpers/classCallCheck")),i=u(M("@babel/runtime/helpers/createClass")),t=u(M("@babel/runtime/helpers/possibleConstructorReturn")),e=u(M("@babel/runtime/helpers/getPrototypeOf")),s=u(M("@babel/runtime/helpers/assertThisInitialized")),f=u(M("@babel/runtime/helpers/inherits")),n=u(M("@babel/runtime/helpers/defineProperty")),o=u(M("@babel/runtime/helpers/typeof")),r=u(M("fs")),h=u(M("path")),c=u(M("events")),d=M("@jimp/utils"),v=u(M("any-base")),_=u(M("mkdirp")),b=u(M("pixelmatch")),y=u(M("tinycolor2")),S=u(M("./modules/phash")),R=u(M("./request")),L=u(M("./composite")),T=u(M("./utils/promisify")),x=g(M("./utils/mime")),z=M("./utils/image-bitmap"),k=g(M("./constants")),O="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",D=[NaN,NaN],W=2;W<65;W++){var q=(0,v.default)(v.default.BIN,O.slice(0,W))(new Array(65).join("1"));D.push(q.length)}function te(){}function K($){return Object.prototype.toString.call($).toLowerCase().indexOf("arraybuffer")>-1}function F($){for(var G=E.alloc($.byteLength),I=new Uint8Array($),P=0;P<G.length;++P)G[P]=I[P];return G}function Y($,G){(0,R.default)($,function(I,P,Z){if(I)return G(I);if("headers"in P&&"location"in P.headers)return $.url=P.headers.location,Y($,G);if((0,o.default)(Z)==="object"&&E.isBuffer(Z))return G(null,Z);var U="Could not load Buffer from <"+$.url+"> (HTTP: "+P.statusCode+")";return new Error(U)})}function j($,G){r.default&&typeof r.default.readFile=="function"&&!$.match(/^(http|ftp)s?:\/\/./)?r.default.readFile($,G):Y({url:$},G)}function Q($){return $&&(0,o.default)($)==="object"&&typeof $.width=="number"&&typeof $.height=="number"&&(E.isBuffer($.data)||$.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&$.data instanceof Uint8ClampedArray)&&($.data.length===$.width*$.height*4||$.data.length===$.width*$.height*3)}function re($){if($.length%3!==0)throw new Error("Buffer length is incorrect");for(var G=E.allocUnsafe($.length/3*4),I=0,P=0;P<$.length;P++)G[I]=$[P],(P+1)%3===0&&(G[++I]=255),I++;return G}var se={data:null,width:null,height:null},le=(function($){(0,f.default)(G,$);function G(){for(var I,P=arguments.length,Z=new Array(P),U=0;U<P;U++)Z[U]=arguments[U];(0,a.default)(this,G),I=(0,t.default)(this,(0,e.default)(G).call(this)),(0,n.default)((0,s.default)(I),"bitmap",se),(0,n.default)((0,s.default)(I),"_background",0),(0,n.default)((0,s.default)(I),"_originalMime",G.MIME_PNG),(0,n.default)((0,s.default)(I),"_exif",null),(0,n.default)((0,s.default)(I),"_rgba",!0),(0,n.default)((0,s.default)(I),"writeAsync",function(Oe){return(0,T.default)(I.write,(0,s.default)(I),Oe)}),(0,n.default)((0,s.default)(I),"getBase64Async",function(Oe){return(0,T.default)(I.getBase64,(0,s.default)(I),Oe)}),(0,n.default)((0,s.default)(I),"getBuffer",z.getBuffer),(0,n.default)((0,s.default)(I),"getBufferAsync",z.getBufferAsync),(0,n.default)((0,s.default)(I),"getPixelColour",I.getPixelColor),(0,n.default)((0,s.default)(I),"setPixelColour",I.setPixelColor);var C=(0,s.default)(I),A=te;K(Z[0])&&(Z[0]=F(Z[0]));function X(){for(var Oe=arguments.length,N=new Array(Oe),ce=0;ce<Oe;ce++)N[ce]=arguments[ce];var de=N[0],ye=de||{};ye.methodName="constructor",setTimeout(function(){var he;de&&A===te?C.emitError("constructor",de):de||C.emitMulti("constructor","initialized"),(he=A).call.apply(he,[C].concat(N))},1)}if(typeof Z[0]=="number"&&typeof Z[1]=="number"||parseInt(Z[0],10)&&parseInt(Z[1],10)){var ae=parseInt(Z[0],10),pe=parseInt(Z[1],10);if(A=Z[2],typeof Z[2]=="number"&&(I._background=Z[2],A=Z[3]),typeof Z[2]=="string"&&(I._background=G.cssColorToHex(Z[2]),A=Z[3]),typeof A>"u"&&(A=te),typeof A!="function")return(0,t.default)(I,d.throwError.call((0,s.default)(I),"cb must be a function",X));I.bitmap={data:E.alloc(ae*pe*4),width:ae,height:pe};for(var _e=0;_e<I.bitmap.data.length;_e+=4)I.bitmap.data.writeUInt32BE(I._background,_e);X(null,(0,s.default)(I))}else if((0,o.default)(Z[0])==="object"&&Z[0].url){if(A=Z[1]||te,typeof A!="function")return(0,t.default)(I,d.throwError.call((0,s.default)(I),"cb must be a function",X));Y(Z[0],function(Oe,N){if(Oe)return d.throwError.call((0,s.default)(I),Oe,X);I.parseBitmap(N,Z[0].url,X)})}else if(Z[0]instanceof G){var Ee=Z[0];if(A=Z[1],typeof A>"u"&&(A=te),typeof A!="function")return(0,t.default)(I,d.throwError.call((0,s.default)(I),"cb must be a function",X));I.bitmap={data:E.from(Ee.bitmap.data),width:Ee.bitmap.width,height:Ee.bitmap.height},I._quality=Ee._quality,I._deflateLevel=Ee._deflateLevel,I._deflateStrategy=Ee._deflateStrategy,I._filterType=Ee._filterType,I._rgba=Ee._rgba,I._background=Ee._background,I._originalMime=Ee._originalMime,X(null,(0,s.default)(I))}else if(Q(Z[0])){var Pe=Z[0];A=Z[1]||te;var Re=Pe.width*Pe.height*4===Pe.data.length,Ce=Re?E.from(Pe.data):re(Pe.data);I.bitmap={data:Ce,width:Pe.width,height:Pe.height},X(null,(0,s.default)(I))}else if(typeof Z[0]=="string"){var Me=Z[0];if(A=Z[1],typeof A>"u"&&(A=te),typeof A!="function")return(0,t.default)(I,d.throwError.call((0,s.default)(I),"cb must be a function",X));j(Me,function(Oe,N){if(Oe)return d.throwError.call((0,s.default)(I),Oe,X);I.parseBitmap(N,Me,X)})}else if((0,o.default)(Z[0])==="object"&&E.isBuffer(Z[0])){var Se=Z[0];if(A=Z[1],typeof A!="function")return(0,t.default)(I,d.throwError.call((0,s.default)(I),"cb must be a function",X));I.parseBitmap(Se,null,X)}else{A=Z[Z.length-1],typeof A!="function"&&(A=Z[Z.length-2],typeof A!="function"&&(A=te));var Be=G.__extraConstructors.find(function(Oe){return Oe.test.apply(Oe,Z)});if(Be)new Promise(function(Oe,N){var ce;return(ce=Be.run).call.apply(ce,[(0,s.default)(I),Oe,N].concat(Z))}).then(function(){return X(null,(0,s.default)(I))}).catch(X);else return(0,t.default)(I,d.throwError.call((0,s.default)(I),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",X))}return I}return(0,i.default)(G,[{key:"parseBitmap",value:function(P,Z,U){z.parseBitmap.call(this,P,null,U)}},{key:"rgba",value:function(P,Z){return typeof P!="boolean"?d.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",Z):(this._rgba=P,(0,d.isNodePattern)(Z)&&Z.call(this,null,this),this)}},{key:"emitMulti",value:function(P,Z){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};U=Object.assign(U,{methodName:P,eventName:Z}),this.emit("any",U),P&&this.emit(P,U),this.emit(Z,U)}},{key:"emitError",value:function(P,Z){this.emitMulti(P,"error",Z)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===se?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var P=this._originalMime||G.MIME_PNG;return P}},{key:"getExtension",value:function(){var P=this.getMIME();return x.getExtension(P)}},{key:"write",value:function(P,Z){var U=this;if(!r.default||!r.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof P!="string")return d.throwError.call(this,"path must be a string",Z);if(typeof Z>"u"&&(Z=te),typeof Z!="function")return d.throwError.call(this,"cb must be a function",Z);var C=x.getType(P)||this.getMIME(),A=h.default.parse(P);return A.dir&&_.default.sync(A.dir),this.getBuffer(C,function(X,ae){if(X)return d.throwError.call(U,X,Z);var pe=r.default.createWriteStream(P);pe.on("open",function(){pe.write(ae),pe.end()}).on("error",function(_e){return d.throwError.call(U,_e,Z)}),pe.on("finish",function(){Z.call(U,null,U)})}),this}},{key:"getBase64",value:function(P,Z){return P===G.AUTO&&(P=this.getMIME()),typeof P!="string"?d.throwError.call(this,"mime must be a string",Z):typeof Z!="function"?d.throwError.call(this,"cb must be a function",Z):(this.getBuffer(P,function(U,C){if(U)return d.throwError.call(this,U,Z);var A="data:"+P+";base64,"+C.toString("base64");Z.call(this,null,A)}),this)}},{key:"hash",value:function(P,Z){if(P=P||64,typeof P=="function"&&(Z=P,P=64),typeof P!="number")return d.throwError.call(this,"base must be a number",Z);if(P<2||P>64)return d.throwError.call(this,"base must be a number between 2 and 64",Z);var U=this.pHash();for(U=(0,v.default)(v.default.BIN,O.slice(0,P))(U);U.length<D[P];)U="0"+U;return(0,d.isNodePattern)(Z)&&Z.call(this,null,U),U}},{key:"pHash",value:function(){var P=new S.default;return P.getHash(this)}},{key:"distanceFromHash",value:function(P){var Z=new S.default,U=Z.getHash(this);return Z.distance(U,P)}},{key:"getPixelIndex",value:function(P,Z,U,C){var A,X;if(typeof U=="function"&&typeof C>"u"&&(C=U,U=null),U||(U=G.EDGE_EXTEND),typeof P!="number"||typeof Z!="number")return d.throwError.call(this,"x and y must be numbers",C);P=Math.round(P),Z=Math.round(Z),A=P,X=Z,U===G.EDGE_EXTEND&&(P<0&&(A=0),P>=this.bitmap.width&&(A=this.bitmap.width-1),Z<0&&(X=0),Z>=this.bitmap.height&&(X=this.bitmap.height-1)),U===G.EDGE_WRAP&&(P<0&&(A=this.bitmap.width+P),P>=this.bitmap.width&&(A=P%this.bitmap.width),Z<0&&(A=this.bitmap.height+Z),Z>=this.bitmap.height&&(X=Z%this.bitmap.height));var ae=this.bitmap.width*X+A<<2;return(A<0||A>=this.bitmap.width)&&(ae=-1),(X<0||X>=this.bitmap.height)&&(ae=-1),(0,d.isNodePattern)(C)&&C.call(this,null,ae),ae}},{key:"getPixelColor",value:function(P,Z,U){if(typeof P!="number"||typeof Z!="number")return d.throwError.call(this,"x and y must be numbers",U);P=Math.round(P),Z=Math.round(Z);var C=this.getPixelIndex(P,Z),A=this.bitmap.data.readUInt32BE(C);return(0,d.isNodePattern)(U)&&U.call(this,null,A),A}},{key:"setPixelColor",value:function(P,Z,U,C){if(typeof P!="number"||typeof Z!="number"||typeof U!="number")return d.throwError.call(this,"hex, x and y must be numbers",C);Z=Math.round(Z),U=Math.round(U);var A=this.getPixelIndex(Z,U);return this.bitmap.data.writeUInt32BE(P,A),(0,d.isNodePattern)(C)&&C.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var P=0;P<this.bitmap.height;P++)for(var Z=0;Z<this.bitmap.width;Z++){var U=this.bitmap.width*P+Z<<2,C=this.bitmap.data[U+3];if(C!==255)return!0}return!1}},{key:"scanIterator",value:function(P,Z,U,C){return typeof P!="number"||typeof Z!="number"?d.throwError.call(this,"x and y must be numbers"):typeof U!="number"||typeof C!="number"?d.throwError.call(this,"w and h must be numbers"):(0,d.scanIterator)(this,P,Z,U,C)}}]),G})(c.default);function fe($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;Object.entries($).forEach(function(I){var P=(0,l.default)(I,2),Z=P[0],U=P[1];G[Z]=U})}function ve($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;Object.entries($).forEach(function(I){var P=(0,l.default)(I,2),Z=P[0],U=P[1];G.prototype[Z]=U})}fe(k),ve({composite:L.default}),le.__extraConstructors=[],le.appendConstructorOption=function($,G,I){le.__extraConstructors.push({name:$,test:G,run:I})},le.read=function(){for(var $=arguments.length,G=new Array($),I=0;I<$;I++)G[I]=arguments[I];return new Promise(function(P,Z){(0,p.default)(le,G.concat([function(U,C){U?Z(U):P(C)}]))})},le.create=le.read,le.rgbaToInt=function($,G,I,P,Z){if(typeof $!="number"||typeof G!="number"||typeof I!="number"||typeof P!="number")return d.throwError.call(this,"r, g, b and a must be numbers",Z);if($<0||$>255)return d.throwError.call(this,"r must be between 0 and 255",Z);if((G<0||G>255)&&d.throwError.call(this,"g must be between 0 and 255",Z),I<0||I>255)return d.throwError.call(this,"b must be between 0 and 255",Z);if(P<0||P>255)return d.throwError.call(this,"a must be between 0 and 255",Z);$=Math.round($),I=Math.round(I),G=Math.round(G),P=Math.round(P);var U=$*Math.pow(256,3)+G*Math.pow(256,2)+I*Math.pow(256,1)+P*Math.pow(256,0);return(0,d.isNodePattern)(Z)&&Z.call(this,null,U),U},le.intToRGBA=function($,G){if(typeof $!="number")return d.throwError.call(this,"i must be a number",G);var I={};return I.r=Math.floor($/Math.pow(256,3)),I.g=Math.floor(($-I.r*Math.pow(256,3))/Math.pow(256,2)),I.b=Math.floor(($-I.r*Math.pow(256,3)-I.g*Math.pow(256,2))/Math.pow(256,1)),I.a=Math.floor(($-I.r*Math.pow(256,3)-I.g*Math.pow(256,2)-I.b*Math.pow(256,1))/Math.pow(256,0)),(0,d.isNodePattern)(G)&&G.call(this,null,I),I},le.cssColorToHex=function($){return $=$||0,typeof $=="number"?Number($):parseInt((0,y.default)($).toHex8(),16)},le.limit255=function($){return $=Math.max($,0),$=Math.min($,255),$},le.diff=function($,G){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!($ instanceof le)||!(G instanceof le))return d.throwError.call(this,"img1 and img2 must be an Jimp images");var P=$.bitmap,Z=G.bitmap;if((P.width!==Z.width||P.height!==Z.height)&&(P.width*P.height>Z.width*Z.height?$=$.cloneQuiet().resize(Z.width,Z.height):G=G.cloneQuiet().resize(P.width,P.height)),typeof I!="number"||I<0||I>1)return d.throwError.call(this,"threshold must be a number between 0 and 1");var U=new le(P.width,P.height,4294967295),C=(0,b.default)(P.data,Z.data,U.bitmap.data,U.bitmap.width,U.bitmap.height,{threshold:I});return{percent:C/(U.bitmap.width*U.bitmap.height),image:U}},le.distance=function($,G){var I=new S.default,P=I.getHash($),Z=I.getHash(G);return I.distance(P,Z)},le.compareHashes=function($,G){var I=new S.default;return I.distance($,G)},le.colorDiff=function($,G){var I=function(C){return Math.pow(C,2)},P=Math.max,Z=65025*3;return $.a!==0&&!$.a&&($.a=255),G.a!==0&&!G.a&&(G.a=255),(P(I($.r-G.r),I($.r-G.r-$.a+G.a))+P(I($.g-G.g),I($.g-G.g-$.a+G.a))+P(I($.b-G.b),I($.b-G.b-$.a+G.a)))/Z};function ne($,G,I){var P="before-"+G,Z=G.replace(/e$/,"")+"ed";le.prototype[$]=function(){for(var U,C=arguments.length,A=new Array(C),X=0;X<C;X++)A[X]=arguments[X];var ae=A[I.length-1],pe=this;typeof ae=="function"?(U=function(){for(var Pe=arguments.length,Re=new Array(Pe),Ce=0;Ce<Pe;Ce++)Re[Ce]=arguments[Ce];var Me=Re[0],Se=Re[1];Me?pe.emitError($,Me):pe.emitMulti($,Z,(0,n.default)({},$,Se)),ae.apply(this,Re)},A[A.length-1]=U):U=!1,this.emitMulti($,P);var _e;try{_e=I.apply(this,A),U||this.emitMulti($,Z,(0,n.default)({},$,_e))}catch(Ee){Ee.methodName=$,this.emitError($,Ee)}return _e},le.prototype[$+"Quiet"]=I}ne("clone","clone",function($){var G=new le(this);return(0,d.isNodePattern)($)&&$.call(G,null,G),G});function ie($,G){ne($,"change",G)}ie("background",function($,G){return typeof $!="number"?d.throwError.call(this,"hex must be a hexadecimal rgba value",G):(this._background=$,(0,d.isNodePattern)(G)&&G.call(this,null,this),this)}),ie("scan",function($,G,I,P,Z,U){if(typeof $!="number"||typeof G!="number")return d.throwError.call(this,"x and y must be numbers",U);if(typeof I!="number"||typeof P!="number")return d.throwError.call(this,"w and h must be numbers",U);if(typeof Z!="function")return d.throwError.call(this,"f must be a function",U);var C=(0,d.scan)(this,$,G,I,P,Z);return(0,d.isNodePattern)(U)&&U.call(this,null,C),C});{var V;typeof Ie<"u"&&(typeof Ie>"u"?"undefined":(0,o.default)(Ie))==="object"&&(V=Ie),typeof self<"u"&&(typeof self>"u"?"undefined":(0,o.default)(self))==="object"&&(V=self),V.Jimp=le,V.Buffer=E}var ee=le;w.default=ee}).call(this,M("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(M,H,w){function E(a,i){this.size=this.size||a,this.smallerSize=this.smallerSize||i,p(this.size)}E.prototype.size=32,E.prototype.smallerSize=8,E.prototype.distance=function(a,i){for(var t=0,e=0;e<a.length;e++)a[e]!==i[e]&&t++;return t/a.length},E.prototype.getHash=function(a){a=a.clone().resize(this.size,this.size),a.grayscale();for(var i=[],t=0;t<a.bitmap.width;t++){i[t]=[];for(var e=0;e<a.bitmap.height;e++)i[t][e]=g(a.getPixelColor(t,e)).b}for(var s=l(i,this.size),f=0,n=0;n<this.smallerSize;n++)for(var o=0;o<this.smallerSize;o++)f+=s[n][o];for(var r=f/(this.smallerSize*this.smallerSize),h="",c=0;c<this.smallerSize;c++)for(var d=0;d<this.smallerSize;d++)h+=s[c][d]>r?"1":"0";return h};function g(a){var i={};return i.r=Math.floor(a/Math.pow(256,3)),i.g=Math.floor((a-i.r*Math.pow(256,3))/Math.pow(256,2)),i.b=Math.floor((a-i.r*Math.pow(256,3)-i.g*Math.pow(256,2))/Math.pow(256,1)),i.a=Math.floor((a-i.r*Math.pow(256,3)-i.g*Math.pow(256,2)-i.b*Math.pow(256,1))/Math.pow(256,0)),i}var u=[];function p(a){for(var i=1;i<a;i++)u[i]=1;u[0]=1/Math.sqrt(2)}function l(a,i){for(var t=i,e=[],s=0;s<t;s++){e[s]=[];for(var f=0;f<t;f++){for(var n=0,o=0;o<t;o++)for(var r=0;r<t;r++)n+=Math.cos((2*o+1)/(2*t)*s*Math.PI)*Math.cos((2*r+1)/(2*t)*f*Math.PI)*a[o][r];n*=u[s]*u[f]/4,e[s][f]=n}}return e}H.exports=E},{}],195:[function(M,H,w){(function(E,g){var u=M("@babel/runtime/helpers/interopRequireDefault");u(M("@babel/runtime/helpers/defineProperty")),u(M("@babel/runtime/helpers/extends")),E.browser,H.exports=function(p,l){var a=new XMLHttpRequest;a.open("GET",p.url,!0),a.responseType="arraybuffer",a.addEventListener("load",function(){if(a.status<400)try{var i=g.from(this.response);l(null,a,i)}catch(t){return l(new Error("Response is not a buffer for url "+p.url+". Error: "+t.message))}else l(new Error("HTTP Status "+a.status+" for url "+p.url))}),a.addEventListener("error",function(i){l(i)}),a.send()}}).call(this,M("_process"),M("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireWildcard"),u=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.parseBitmap=c,w.getBuffer=v,w.getBufferAsync=_;var p=u(M("@babel/runtime/helpers/slicedToArray")),l=u(M("file-type")),a=u(M("exif-parser")),i=M("@jimp/utils"),t=g(M("../constants")),e=g(M("./mime")),s=u(M("./promisify"));function f(b,y){var S=(0,l.default)(b);return S?S.mime:y?e.getType(y):null}function n(b){return b._exif&&b._exif.tags&&b._exif.tags.Orientation||1}function o(b){var y=b.getWidth(),S=b.getHeight();switch(n(b)){case 1:return null;case 2:return function(R,L){return[y-R-1,L]};case 3:return function(R,L){return[y-R-1,S-L-1]};case 4:return function(R,L){return[R,S-L-1]};case 5:return function(R,L){return[L,R]};case 6:return function(R,L){return[L,S-R-1]};case 7:return function(R,L){return[y-L-1,S-R-1]};case 8:return function(R,L){return[y-L-1,R]};default:return null}}function r(b,y,S,R){for(var L=b.bitmap.data,T=b.bitmap.width,x=E.alloc(L.length),z=0;z<y;z++)for(var k=0;k<S;k++){var O=R(z,k),D=(0,p.default)(O,2),W=D[0],q=D[1],te=y*k+z<<2,K=T*q+W<<2,F=L.readUInt32BE(K);x.writeUInt32BE(F,te)}b.bitmap.data=x,b.bitmap.width=y,b.bitmap.height=S}function h(b){if(!(n(b)<2)){var y=o(b),S=n(b)>4,R=S?b.bitmap.height:b.bitmap.width,L=S?b.bitmap.width:b.bitmap.height;r(b,R,L,y)}}function c(b,y,S){var R=f(b,y);if(typeof R!="string")return S(new Error("Could not find MIME for Buffer <"+y+">"));this._originalMime=R.toLowerCase();try{var L=this.getMIME();if(this.constructor.decoders[L])this.bitmap=this.constructor.decoders[L](b);else return i.throwError.call(this,"Unsupported MIME type: "+L,S)}catch(T){return S.call(this,T,this)}try{this._exif=a.default.create(b).parse(),h(this)}catch{}return S.call(this,null,this),this}function d(b,y){return new b(y.bitmap.width,y.bitmap.height,y._background).composite(y,0,0).bitmap}function v(b,y){if(b===t.AUTO&&(b=this.getMIME()),typeof b!="string")return i.throwError.call(this,"mime must be a string",y);if(typeof y!="function")return i.throwError.call(this,"cb must be a function",y);if(b=b.toLowerCase(),this._rgba&&this.constructor.hasAlpha[b]?this.bitmap.data=E.from(this.bitmap.data):this.bitmap.data=d(this.constructor,this).data,this.constructor.encoders[b]){var S=this.constructor.encoders[b](this);y.call(this,null,S)}else y.call(this,"Unsupported MIME type: "+b);return this}function _(b){return(0,s.default)(v,this,b)}}).call(this,M("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.getExtension=w.getType=w.addType=void 0;var E={},g=function(i){return Object.entries(E).find(function(t){return t[1].includes(i)})||[]},u=function(i,t){E[i]=t};w.addType=u;var p=function(i){var t=i.split("/").slice(-1),e=t[t.length-1].split(".").pop(),s=g(e);return s[0]};w.getType=p;var l=function(i){return(E[i.toLowerCase()]||[])[0]};w.getExtension=l},{}],198:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=function(p,l){for(var a=arguments.length,i=new Array(a>2?a-2:0),t=2;t<a;t++)i[t-2]=arguments[t];return new Promise(function(e,s){i.push(function(f,n){f&&s(f),e(n)}),p.bind(l).apply(void 0,i)})},g=E;w.default=g,H.exports=w.default},{}],199:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireWildcard"),g=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=e;var u=g(M("@babel/runtime/helpers/toConsumableArray")),p=g(M("@babel/runtime/helpers/defineProperty")),l=g(M("@babel/runtime/helpers/slicedToArray")),a=E(M("@jimp/core"));function i(s,f){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);f&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,o)}return n}function t(s){for(var f=1;f<arguments.length;f++){var n=arguments[f]!=null?arguments[f]:{};f%2?i(n,!0).forEach(function(o){(0,p.default)(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}function e(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function o(c){Object.entries(c).forEach(function(d){var v=(0,l.default)(d,2),_=v[0],b=v[1];n[_]=t({},n[_],{},b)})}function r(c){var d=c();Array.isArray(d.mime)?a.addType.apply(void 0,(0,u.default)(d.mime)):Object.entries(d.mime).forEach(function(v){return a.addType.apply(void 0,(0,u.default)(v))}),delete d.mime,o(d)}function h(c){var d=c(a.jimpEvChange)||{};!d.class&&!d.constants?o({class:d}):o(d)}return s.types&&(s.types.forEach(r),f.decoders=t({},f.decoders,{},n.decoders),f.encoders=t({},f.encoders,{},n.encoders),f.hasAlpha=t({},f.hasAlpha,{},n.hasAlpha)),s.plugins&&s.plugins.forEach(h),(0,a.addJimpMethods)(n.class,f),(0,a.addConstants)(n.constants,f),a.default}H.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=E(M("@jimp/custom")),u=E(M("@jimp/types")),p=E(M("@jimp/plugins")),l=(0,g.default)({types:[u.default],plugins:[p.default]});w.default=l,H.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=E(M("@babel/runtime/helpers/typeof")),u=M("@jimp/utils"),p=function(){return{blit:function(i,t,e,s,f,n,o,r){if(!(i instanceof this.constructor))return u.throwError.call(this,"The source must be a Jimp image",r);if(typeof t!="number"||typeof e!="number")return u.throwError.call(this,"x and y must be numbers",r);if(typeof s=="function")r=s,s=0,f=0,n=i.bitmap.width,o=i.bitmap.height;else if((0,g.default)(s)===(0,g.default)(f)&&(0,g.default)(f)===(0,g.default)(n)&&(0,g.default)(n)===(0,g.default)(o))s=s||0,f=f||0,n=n||i.bitmap.width,o=o||i.bitmap.height;else return u.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",r);t=Math.round(t),e=Math.round(e),s=Math.round(s),f=Math.round(f),n=Math.round(n),o=Math.round(o);var h=this.bitmap.width,c=this.bitmap.height,d=this;return i.scanQuiet(s,f,n,o,function(v,_,b){var y=t+v-s,S=e+_-f;if(y>=0&&S>=0&&h-y>0&&c-S>0){var R=d.getPixelIndex(y,S),L={r:this.bitmap.data[b],g:this.bitmap.data[b+1],b:this.bitmap.data[b+2],a:this.bitmap.data[b+3]},T={r:d.bitmap.data[R],g:d.bitmap.data[R+1],b:d.bitmap.data[R+2],a:d.bitmap.data[R+3]};d.bitmap.data[R]=(L.a*(L.r-T.r)-T.r+255>>8)+T.r,d.bitmap.data[R+1]=(L.a*(L.g-T.g)-T.g+255>>8)+T.g,d.bitmap.data[R+2]=(L.a*(L.b-T.b)-T.b+255>>8)+T.b,d.bitmap.data[R+3]=this.constructor.limit255(T.a+L.a)}}),(0,u.isNodePattern)(r)&&r.call(this,null,this),this}}};w.default=p,H.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.shgTable=w.mulTable=void 0;var E=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];w.mulTable=E;var g=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];w.shgTable=g},{}],203:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=M("./blur-tables"),u=function(){return{blur:function(a,i){if(typeof a!="number")return E.throwError.call(this,"r must be a number",i);if(a<1)return E.throwError.call(this,"r must be greater than 0",i);for(var t,e,s,f,n,o,r,h,c,d,v,_,b,y,S=this.bitmap.width-1,R=this.bitmap.height-1,L=a+1,T=g.mulTable[a],x=g.shgTable[a],z=[],k=[],O=[],D=[],W=[],q=[],te=2;te-- >0;){for(_=0,b=0,o=0;o<this.bitmap.height;o++){for(t=this.bitmap.data[b]*L,e=this.bitmap.data[b+1]*L,s=this.bitmap.data[b+2]*L,f=this.bitmap.data[b+3]*L,r=1;r<=a;r++)h=b+((r>S?S:r)<<2),t+=this.bitmap.data[h++],e+=this.bitmap.data[h++],s+=this.bitmap.data[h++],f+=this.bitmap.data[h];for(n=0;n<this.bitmap.width;n++)z[_]=t,k[_]=e,O[_]=s,D[_]=f,o===0&&(W[n]=((h=n+L)<S?h:S)<<2,q[n]=(h=n-a)>0?h<<2:0),c=b+W[n],d=b+q[n],t+=this.bitmap.data[c++]-this.bitmap.data[d++],e+=this.bitmap.data[c++]-this.bitmap.data[d++],s+=this.bitmap.data[c++]-this.bitmap.data[d++],f+=this.bitmap.data[c]-this.bitmap.data[d],_++;b+=this.bitmap.width<<2}for(n=0;n<this.bitmap.width;n++){for(v=n,t=z[v]*L,e=k[v]*L,s=O[v]*L,f=D[v]*L,r=1;r<=a;r++)v+=r>R?0:this.bitmap.width,t+=z[v],e+=k[v],s+=O[v],f+=D[v];for(_=n<<2,o=0;o<this.bitmap.height;o++)y=f*T>>>x,this.bitmap.data[_+3]=y,y>255&&(this.bitmap.data[_+3]=255),y>0?(y=255/y,this.bitmap.data[_]=(t*T>>>x)*y,this.bitmap.data[_+1]=(e*T>>>x)*y,this.bitmap.data[_+2]=(s*T>>>x)*y):(this.bitmap.data[_+2]=0,this.bitmap.data[_+1]=0,this.bitmap.data[_]=0),n===0&&(W[o]=((h=o+L)<R?h:R)*this.bitmap.width,q[o]=(h=o-a)>0?h*this.bitmap.width:0),c=n+W[o],d=n+q[o],t+=z[c]-z[d],e+=k[c]-k[d],s+=O[c]-O[d],f+=D[c]-D[d],_+=this.bitmap.width<<2}}return(0,E.isNodePattern)(i)&&i.call(this,null,this),this}}};w.default=u,H.exports=w.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{circle:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof l=="function"&&(a=l,l={});var i=l.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,t={x:typeof l.x=="number"?l.x:this.bitmap.width/2,y:typeof l.y=="number"?l.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,s,f){var n=Math.sqrt(Math.pow(e-t.x,2)+Math.pow(s-t.y,2));i-n<=0?this.bitmap.data[f+3]=0:i-n<1&&(this.bitmap.data[f+3]=255*(i-n))}),(0,E.isNodePattern)(a)&&a.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],205:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var u=g(M("@babel/runtime/helpers/toConsumableArray")),p=g(M("tinycolor2")),l=M("@jimp/utils");function a(n,o,r,h){for(var c=[0,0,0],d=(o.length-1)/2,v=0;v<o.length;v+=1)for(var _=0;_<o[v].length;_+=1){var b=n.getPixelIndex(r+v-d,h+_-d);c[0]+=n.bitmap.data[b]*o[v][_],c[1]+=n.bitmap.data[b+1]*o[v][_],c[2]+=n.bitmap.data[b+2]*o[v][_]}return c}var i=function(o){return typeof o<"u"&&o!==null};function t(n){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(o,r,h){var c=parseInt(.2126*this.bitmap.data[h]+.7152*this.bitmap.data[h+1]+.0722*this.bitmap.data[h+2],10);this.bitmap.data[h]=c,this.bitmap.data[h+1]=c,this.bitmap.data[h+2]=c}),(0,l.isNodePattern)(n)&&n.call(this,null,this),this}function e(n,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(o.r-n.r)*(r/100)+n.r,g:(o.g-n.g)*(r/100)+n.g,b:(o.b-n.b)*(r/100)+n.b}}function s(n,o){var r=this;return!n||!Array.isArray(n)?l.throwError.call(this,"actions must be an array",o):(n=n.map(function(h){return(h.apply==="xor"||h.apply==="mix")&&(h.params[0]=(0,p.default)(h.params[0]).toRgb()),h}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,c,d){var v={r:r.bitmap.data[d],g:r.bitmap.data[d+1],b:r.bitmap.data[d+2]},_=function(y,S){return r.constructor.limit255(v[y]+S)};n.forEach(function(b){if(b.apply==="mix")v=e(v,b.params[0],b.params[1]);else if(b.apply==="tint")v=e(v,{r:255,g:255,b:255},b.params[0]);else if(b.apply==="shade")v=e(v,{r:0,g:0,b:0},b.params[0]);else if(b.apply==="xor")v={r:v.r^b.params[0].r,g:v.g^b.params[0].g,b:v.b^b.params[0].b};else if(b.apply==="red")v.r=_("r",b.params[0]);else if(b.apply==="green")v.g=_("g",b.params[0]);else if(b.apply==="blue")v.b=_("b",b.params[0]);else{var y;if(b.apply==="hue"&&(b.apply="spin"),v=(0,p.default)(v),!v[b.apply])return l.throwError.call(r,"action "+b.apply+" not supported",o);v=(y=v)[b.apply].apply(y,(0,u.default)(b.params)).toRgb()}}),r.bitmap.data[d]=v.r,r.bitmap.data[d+1]=v.g,r.bitmap.data[d+2]=v.b}),(0,l.isNodePattern)(o)&&o.call(this,null,this),this)}var f=function(){return{brightness:function(r,h){return typeof r!="number"?l.throwError.call(this,"val must be numbers",h):r<-1||r>1?l.throwError.call(this,"val must be a number between -1 and +1",h):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,d,v){r<0?(this.bitmap.data[v]=this.bitmap.data[v]*(1+r),this.bitmap.data[v+1]=this.bitmap.data[v+1]*(1+r),this.bitmap.data[v+2]=this.bitmap.data[v+2]*(1+r)):(this.bitmap.data[v]=this.bitmap.data[v]+(255-this.bitmap.data[v])*r,this.bitmap.data[v+1]=this.bitmap.data[v+1]+(255-this.bitmap.data[v+1])*r,this.bitmap.data[v+2]=this.bitmap.data[v+2]+(255-this.bitmap.data[v+2])*r)}),(0,l.isNodePattern)(h)&&h.call(this,null,this),this)},contrast:function(r,h){if(typeof r!="number")return l.throwError.call(this,"val must be numbers",h);if(r<-1||r>1)return l.throwError.call(this,"val must be a number between -1 and +1",h);var c=(r+1)/(1-r);function d(v){return v=Math.floor(c*(v-127)+127),v<0?0:v>255?255:v}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(v,_,b){this.bitmap.data[b]=d(this.bitmap.data[b]),this.bitmap.data[b+1]=d(this.bitmap.data[b+1]),this.bitmap.data[b+2]=d(this.bitmap.data[b+2])}),(0,l.isNodePattern)(h)&&h.call(this,null,this),this},posterize:function(r,h){return typeof r!="number"?l.throwError.call(this,"n must be numbers",h):(r<2&&(r=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,d,v){this.bitmap.data[v]=Math.floor(this.bitmap.data[v]/255*(r-1))/(r-1)*255,this.bitmap.data[v+1]=Math.floor(this.bitmap.data[v+1]/255*(r-1))/(r-1)*255,this.bitmap.data[v+2]=Math.floor(this.bitmap.data[v+2]/255*(r-1))/(r-1)*255}),(0,l.isNodePattern)(h)&&h.call(this,null,this),this)},greyscale:t,grayscale:t,opacity:function(r,h){return typeof r!="number"?l.throwError.call(this,"f must be a number",h):r<0||r>1?l.throwError.call(this,"f must be a number from 0 to 1",h):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,d,v){var _=this.bitmap.data[v+3]*r;this.bitmap.data[v+3]=_}),(0,l.isNodePattern)(h)&&h.call(this,null,this),this)},sepia:function(r){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,c,d){var v=this.bitmap.data[d],_=this.bitmap.data[d+1],b=this.bitmap.data[d+2];v=v*.393+_*.769+b*.189,_=v*.349+_*.686+b*.168,b=v*.272+_*.534+b*.131,this.bitmap.data[d]=v<255?v:255,this.bitmap.data[d+1]=_<255?_:255,this.bitmap.data[d+2]=b<255?b:255}),(0,l.isNodePattern)(r)&&r.call(this,null,this),this},fade:function(r,h){return typeof r!="number"?l.throwError.call(this,"f must be a number",h):r<0||r>1?l.throwError.call(this,"f must be a number from 0 to 1",h):(this.opacity(1-r),(0,l.isNodePattern)(h)&&h.call(this,null,this),this)},convolution:function(r,h,c){typeof h=="function"&&typeof c>"u"&&(c=h,h=null),h||(h=this.constructor.EDGE_EXTEND);var d=E.from(this.bitmap.data),v=r.length,_=r[0].length,b=Math.floor(v/2),y=Math.floor(_/2),S=-b,R=-y,L,T,x,z,k,O,D,W,q,te;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(K,F,Y){z=0,x=0,T=0;for(var j=S;j<=b;j++)for(var Q=R;Q<=y;Q++)W=K+Q,q=F+j,L=r[j+b][Q+y],te=this.getPixelIndex(W,q,h),te===-1?(D=0,O=0,k=0):(k=this.bitmap.data[te+0],O=this.bitmap.data[te+1],D=this.bitmap.data[te+2]),T+=L*k,x+=L*O,z+=L*D;T<0&&(T=0),x<0&&(x=0),z<0&&(z=0),T>255&&(T=255),x>255&&(x=255),z>255&&(z=255),d[Y+0]=T,d[Y+1]=x,d[Y+2]=z}),this.bitmap.data=d,(0,l.isNodePattern)(c)&&c.call(this,null,this),this},opaque:function(r){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,c,d){this.bitmap.data[d+3]=255}),(0,l.isNodePattern)(r)&&r.call(this,null,this),this},pixelate:function(r,h,c,d,v,_){if(typeof h=="function")_=h,v=null,d=null,c=null,h=null;else{if(typeof r!="number")return l.throwError.call(this,"size must be a number",_);if(i(h)&&typeof h!="number")return l.throwError.call(this,"x must be a number",_);if(i(c)&&typeof c!="number")return l.throwError.call(this,"y must be a number",_);if(i(d)&&typeof d!="number")return l.throwError.call(this,"w must be a number",_);if(i(v)&&typeof v!="number")return l.throwError.call(this,"h must be a number",_)}var b=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];h=h||0,c=c||0,d=i(d)?d:this.bitmap.width-h,v=i(v)?v:this.bitmap.height-c;var y=this.cloneQuiet();return this.scanQuiet(h,c,d,v,function(S,R,L){S=r*Math.floor(S/r),R=r*Math.floor(R/r);var T=a(y,b,S,R);this.bitmap.data[L]=T[0],this.bitmap.data[L+1]=T[1],this.bitmap.data[L+2]=T[2]}),(0,l.isNodePattern)(_)&&_.call(this,null,this),this},convolute:function(r,h,c,d,v,_){if(!Array.isArray(r))return l.throwError.call(this,"the kernel must be an array",_);if(typeof h=="function")_=h,h=null,c=null,d=null,v=null;else{if(i(h)&&typeof h!="number")return l.throwError.call(this,"x must be a number",_);if(i(c)&&typeof c!="number")return l.throwError.call(this,"y must be a number",_);if(i(d)&&typeof d!="number")return l.throwError.call(this,"w must be a number",_);if(i(v)&&typeof v!="number")return l.throwError.call(this,"h must be a number",_)}var b=(r.length-1)/2;h=i(h)?h:b,c=i(c)?c:b,d=i(d)?d:this.bitmap.width-h,v=i(v)?v:this.bitmap.height-c;var y=this.cloneQuiet();return this.scanQuiet(h,c,d,v,function(S,R,L){var T=a(y,r,S,R);this.bitmap.data[L]=this.constructor.limit255(T[0]),this.bitmap.data[L+1]=this.constructor.limit255(T[1]),this.bitmap.data[L+2]=this.constructor.limit255(T[2])}),(0,l.isNodePattern)(_)&&_.call(this,null,this),this},color:s,colour:s}};w.default=f,H.exports=w.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{contain:function(l,a,i,t,e){if(typeof l!="number"||typeof a!="number")return E.throwError.call(this,"w and h must be numbers",e);typeof i=="string"&&(typeof t=="function"&&typeof e>"u"&&(e=t),t=i,i=null),typeof i=="function"&&(typeof e>"u"&&(e=i),t=null,i=null),typeof t=="function"&&typeof e>"u"&&(e=t,t=null),i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var s=i&7,f=i>>3;if(!(s!==0&&!(s&s-1)||f!==0&&!(f&f-1)))return E.throwError.call(this,"only use one flag per alignment direction",e);var n=s>>1,o=f>>1,r=l/a>this.bitmap.width/this.bitmap.height?a/this.bitmap.height:l/this.bitmap.width,h=this.cloneQuiet().scale(r,t);return this.resize(l,a,t),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,d,v){this.bitmap.data.writeUInt32BE(this._background,v)}),this.blit(h,(this.bitmap.width-h.bitmap.width)/2*n,(this.bitmap.height-h.bitmap.height)/2*o),(0,E.isNodePattern)(e)&&e.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],207:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{cover:function(l,a,i,t,e){if(typeof l!="number"||typeof a!="number")return E.throwError.call(this,"w and h must be numbers",e);i&&typeof i=="function"&&typeof e>"u"?(e=i,i=null,t=null):typeof t=="function"&&typeof e>"u"&&(e=t,t=null),i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var s=i&7,f=i>>3;if(!(s!==0&&!(s&s-1)||f!==0&&!(f&f-1)))return E.throwError.call(this,"only use one flag per alignment direction",e);var n=s>>1,o=f>>1,r=l/a>this.bitmap.width/this.bitmap.height?l/this.bitmap.width:a/this.bitmap.height;return this.scale(r,t),this.crop((this.bitmap.width-l)/2*n,(this.bitmap.height-a)/2*o,l,a),(0,E.isNodePattern)(e)&&e.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],208:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=l;var u=g(M("@babel/runtime/helpers/typeof")),p=M("@jimp/utils");function l(a){return a("crop",function(i,t,e,s,f){if(typeof i!="number"||typeof t!="number")return p.throwError.call(this,"x and y must be numbers",f);if(typeof e!="number"||typeof s!="number")return p.throwError.call(this,"w and h must be numbers",f);if(i=Math.round(i),t=Math.round(t),e=Math.round(e),s=Math.round(s),i===0&&e===this.bitmap.width){var n=e*t+i<<2,o=n+s*e<<2;this.bitmap.data=this.bitmap.data.slice(n,o)}else{var r=E.allocUnsafe(e*s*4),h=0;this.scanQuiet(i,t,e,s,function(c,d,v){var _=this.bitmap.data.readUInt32BE(v,!0);r.writeUInt32BE(_,h,!0),h+=4}),this.bitmap.data=r}return this.bitmap.width=e,this.bitmap.height=s,(0,p.isNodePattern)(f)&&f.call(this,null,this),this}),{class:{autocrop:function(){for(var t=this.bitmap.width,e=this.bitmap.height,s=1,f,n=0,o=2e-4,r=!0,h=!1,c=arguments.length,d=new Array(c),v=0;v<c;v++)d[v]=arguments[v];for(var _=0,b=d.length;_<b;_++)if(typeof d[_]=="number"&&(o=d[_]),typeof d[_]=="boolean"&&(r=d[_]),typeof d[_]=="function"&&(f=d[_]),(0,u.default)(d[_])==="object"){var y=d[_];typeof y.tolerance<"u"&&(o=y.tolerance),typeof y.cropOnlyFrames<"u"&&(r=y.cropOnlyFrames),typeof y.cropSymmetric<"u"&&(h=y.cropSymmetric),typeof y.leaveBorder<"u"&&(n=y.leaveBorder)}var S=this.getPixelColor(0,0),R=this.constructor.intToRGBA(S),L=0,T=0,x=0,z=0;S=this.getPixelColor(0,0);e:for(var k=0;k<e-s;k++){for(var O=0;O<t;O++){var D=this.getPixelColor(O,k),W=this.constructor.intToRGBA(D);if(this.constructor.colorDiff(R,W)>o)break e}L++}S=this.getPixelColor(t,0);e:for(var q=0;q<t-s;q++){for(var te=0+L;te<e;te++){var K=this.getPixelColor(q,te),F=this.constructor.intToRGBA(K);if(this.constructor.colorDiff(R,F)>o)break e}T++}S=this.getPixelColor(0,e);e:for(var Y=e-1;Y>=L+s;Y--){for(var j=t-T-1;j>=0;j--){var Q=this.getPixelColor(j,Y),re=this.constructor.intToRGBA(Q);if(this.constructor.colorDiff(R,re)>o)break e}x++}S=this.getPixelColor(t,e);e:for(var se=t-1;se>=0+T+s;se--){for(var le=e-1;le>=0+L;le--){var fe=this.getPixelColor(se,le),ve=this.constructor.intToRGBA(fe);if(this.constructor.colorDiff(R,ve)>o)break e}z++}var ne=!1;if(z-=n,T-=n,L-=n,x-=n,h){var ie=Math.min(T,z),V=Math.min(L,x);z=ie,T=ie,L=V,x=V}z=z>=0?z:0,T=T>=0?T:0,L=L>=0?L:0,x=x>=0?x:0;var ee=t-(z+T),$=e-(x+L);return r?ne=T!==0&&L!==0&&z!==0&&x!==0:ne=T!==0||L!==0||z!==0||x!==0,ne&&this.crop(T,L,ee,$),(0,p.isNodePattern)(f)&&f.call(this,null,this),this}}}}H.exports=w.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=E(M("@babel/runtime/helpers/typeof")),u=M("@jimp/utils"),p=function(){return{displace:function(i,t,e){if((0,g.default)(i)!=="object"||i.constructor!==this.constructor)return u.throwError.call(this,"The source must be a Jimp image",e);if(typeof t!="number")return u.throwError.call(this,"factor must be a number",e);var s=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,n,o){var r=i.bitmap.data[o]/256*t;r=Math.round(r);var h=this.getPixelIndex(f+r,n);this.bitmap.data[h]=s.bitmap.data[o],this.bitmap.data[h+1]=s.bitmap.data[o+1],this.bitmap.data[h+2]=s.bitmap.data[o+2]}),(0,u.isNodePattern)(e)&&e.call(this,null,this),this}}};w.default=p,H.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils");function g(p){var l=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,i,t){var e=((i&3)<<2)+a%4,s=l[e];this.bitmap.data[t]=Math.min(this.bitmap.data[t]+s,255),this.bitmap.data[t+1]=Math.min(this.bitmap.data[t+1]+s,255),this.bitmap.data[t+2]=Math.min(this.bitmap.data[t+2]+s,255)}),(0,E.isNodePattern)(p)&&p.call(this,null,this),this}var u=function(){return{dither565:g,dither16:g}};w.default=u,H.exports=w.default},{"@jimp/utils":235}],211:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{fisheye:function(){var l=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},i=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(i=a,a={r:2.5});var t=this.cloneQuiet(),e=t.bitmap,s=e.width,f=e.height;return t.scanQuiet(0,0,s,f,function(n,o){var r=n/s,h=o/f,c=Math.sqrt(Math.pow(r-.5,2)+Math.pow(h-.5,2)),d=2*Math.pow(c,a.r),v=(r-.5)/c,_=(h-.5)/c,b=Math.round((d*v+.5)*s),y=Math.round((d*_+.5)*f),S=t.getPixelColor(b,y);l.setPixelColor(S,n,o)}),this.setPixelColor(t.getPixelColor(s/2,f/2),s/2,f/2),(0,E.isNodePattern)(i)&&i.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],212:[function(M,H,w){(function(E){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=M("@jimp/utils");function u(l,a,i){if(typeof l!="boolean"||typeof a!="boolean")return g.throwError.call(this,"horizontal and vertical must be Booleans",i);var t=E.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,s,f){var n=l?this.bitmap.width-1-e:e,o=a?this.bitmap.height-1-s:s,r=this.bitmap.width*o+n<<2,h=this.bitmap.data.readUInt32BE(f);t.writeUInt32BE(h,r)}),this.bitmap.data=E.from(t),(0,g.isNodePattern)(i)&&i.call(this,null,this),this}var p=function(){return{flip:u,mirror:u}};w.default=p,H.exports=w.default}).call(this,M("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{gaussian:function(l,a){if(typeof l!="number")return E.throwError.call(this,"r must be a number",a);if(l<1)return E.throwError.call(this,"r must be greater than 0",a);for(var i=Math.ceil(l*2.57),t=i*2+1,e=l*l*2,s=e*Math.PI,f=[],n=0;n<t;n++){f[n]=[];for(var o=0;o<t;o++){var r=Math.pow(o-i,2)+Math.pow(n-i,2);f[n][o]=Math.exp(-r/e)/s}}for(var h=0;h<this.bitmap.height;h++)for(var c=0;c<this.bitmap.width;c++)for(var d=0,v=0,_=0,b=0,y=0,S=0;S<t;S++){for(var R=0;R<t;R++){var L=Math.min(this.bitmap.width-1,Math.max(0,R+c-i)),T=Math.min(this.bitmap.height-1,Math.max(0,S+h-i)),x=f[S][R],z=T*this.bitmap.width+L<<2;d+=this.bitmap.data[z]*x,v+=this.bitmap.data[z+1]*x,_+=this.bitmap.data[z+2]*x,b+=this.bitmap.data[z+3]*x,y+=x}var k=h*this.bitmap.width+c<<2;this.bitmap.data[k]=Math.round(d/y),this.bitmap.data[k+1]=Math.round(v/y),this.bitmap.data[k+2]=Math.round(_/y),this.bitmap.data[k+3]=Math.round(b/y)}return(0,E.isNodePattern)(a)&&a.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],214:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{invert:function(l){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,i,t){this.bitmap.data[t]=255-this.bitmap.data[t],this.bitmap.data[t+1]=255-this.bitmap.data[t+1],this.bitmap.data[t+2]=255-this.bitmap.data[t+2]}),(0,E.isNodePattern)(l)&&l.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],215:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{mask:function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3?arguments[3]:void 0;if(!(l instanceof this.constructor))return E.throwError.call(this,"The source must be a Jimp image",t);if(typeof a!="number"||typeof i!="number")return E.throwError.call(this,"x and y must be numbers",t);a=Math.round(a),i=Math.round(i);var e=this.bitmap.width,s=this.bitmap.height,f=this;return l.scanQuiet(0,0,l.bitmap.width,l.bitmap.height,function(n,o,r){var h=a+n,c=i+o;if(h>=0&&c>=0&&h<e&&c<s){var d=f.getPixelIndex(h,c),v=this.bitmap.data,_=(v[r+0]+v[r+1]+v[r+2])/3;f.bitmap.data[d+3]*=_/255}}),(0,E.isNodePattern)(t)&&t.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],216:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils");function g(){var a={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(i,t,e){a.r[this.bitmap.data[e+0]]++,a.g[this.bitmap.data[e+1]]++,a.b[this.bitmap.data[e+2]]++}),a}var u=function(i,t,e){return(i-t)*255/(e-t)},p=function(i){return[i.findIndex(function(t){return t>0}),255-i.slice().reverse().findIndex(function(t){return t>0})]},l=function(){return{normalize:function(t){var e=g.call(this),s={r:p(e.r),g:p(e.g),b:p(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,n,o){var r=this.bitmap.data[o+0],h=this.bitmap.data[o+1],c=this.bitmap.data[o+2];this.bitmap.data[o+0]=u(r,s.r[0],s.r[1]),this.bitmap.data[o+1]=u(h,s.g[0],s.g[1]),this.bitmap.data[o+2]=u(c,s.b[0],s.b[1])}),(0,E.isNodePattern)(t)&&t.call(this,null,this),this}}};w.default=l,H.exports=w.default},{"@jimp/utils":235}],217:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var u=g(M("@babel/runtime/helpers/typeof")),p=g(M("@babel/runtime/helpers/toConsumableArray")),l=g(M("path")),a=g(M("load-bmfont")),i=M("@jimp/utils"),t=M("./measure-text");function e(c,d,v,_,b){return b===c.HORIZONTAL_ALIGN_LEFT?0:b===c.HORIZONTAL_ALIGN_CENTER?(_-(0,t.measureText)(d,v))/2:_-(0,t.measureText)(d,v)}function s(c,d,v,_,b){if(b.width>0&&b.height>0){var y=d.pages[b.page];c.blit(y,v+b.xoffset,_+b.yoffset,b.x,b.y,b.width,b.height)}return c}function f(c,d,v,_,b){for(var y=0;y<_.length;y++){var S=void 0;c.chars[_[y]]?S=_[y]:/\s/.test(_[y])?S="":S="?";var R=c.chars[S]||{},L=c.kernings[S];s(this,c,d,v,R||{});var T=L&&L[_[y+1]]?L[_[y+1]]:0;d+=T+(R.xadvance||b)}}function n(c,d,v){var _=d.split(" "),b=[],y=[],S=0;return _.forEach(function(R){var L=[].concat((0,p.default)(y),[R]).join(" "),T=(0,t.measureText)(c,L);T<=v?(T>S&&(S=T),y.push(R)):(b.push(y),y=[R])}),b.push(y),{lines:b,longestLine:S}}function o(c,d,v){var _=v.map(function(b){return c.read(d+"/"+b)});return Promise.all(_)}var r="browser/lib/",h=function(){return{constants:{measureText:t.measureText,measureTextHeight:t.measureTextHeight,FONT_SANS_8_BLACK:l.default.join(r,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:l.default.join(r,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:l.default.join(r,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:l.default.join(r,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:l.default.join(r,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:l.default.join(r,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:l.default.join(r,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:l.default.join(r,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:l.default.join(r,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:l.default.join(r,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:l.default.join(r,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:l.default.join(r,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:l.default.join(r,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(v,_){var b=this;return typeof v!="string"?i.throwError.call(this,"file must be a string",_):new Promise(function(y,S){_=_||function(R,L){R?S(R):y(L)},(0,a.default)(v,function(R,L){var T={},x={};if(R)return i.throwError.call(b,R,_);for(var z=0;z<L.chars.length;z++)T[String.fromCharCode(L.chars[z].id)]=L.chars[z];for(var k=0;k<L.kernings.length;k++){var O=String.fromCharCode(L.kernings[k].first);x[O]=x[O]||{},x[O][String.fromCharCode(L.kernings[k].second)]=L.kernings[k].amount}o(b,l.default.dirname(v),L.pages).then(function(D){_(null,{chars:T,kernings:x,pages:D,common:L.common,info:L.info})})})})}},class:{print:function(v,_,b,y,S,R,L){var T=this;if(typeof S=="function"&&typeof L>"u"&&(L=S,S=1/0),typeof S>"u"&&(S=1/0),typeof R=="function"&&typeof L>"u"&&(L=R,R=1/0),typeof R>"u"&&(R=1/0),(0,u.default)(v)!=="object")return i.throwError.call(this,"font must be a Jimp loadFont",L);if(typeof _!="number"||typeof b!="number"||typeof S!="number")return i.throwError.call(this,"x, y and maxWidth must be numbers",L);if(typeof S!="number")return i.throwError.call(this,"maxWidth must be a number",L);if(typeof R!="number")return i.throwError.call(this,"maxHeight must be a number",L);var x,z;if((0,u.default)(y)==="object"&&y.text!==null&&y.text!==void 0){x=y.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,z=y.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var k=y;y=k.text}else x=this.constructor.HORIZONTAL_ALIGN_LEFT,z=this.constructor.VERTICAL_ALIGN_TOP,y=y.toString();R!==1/0&&z===this.constructor.VERTICAL_ALIGN_BOTTOM?b+=R-(0,t.measureTextHeight)(v,y,S):R!==1/0&&z===this.constructor.VERTICAL_ALIGN_MIDDLE&&(b+=R/2-(0,t.measureTextHeight)(v,y,S)/2);var O=Object.entries(v.chars)[0][1].xadvance,D=n(v,y,S),W=D.lines,q=D.longestLine;return W.forEach(function(te){var K=te.join(" "),F=e(T.constructor,v,K,S,x);f.call(T,v,_+F,b,K,O),b+=v.common.lineHeight}),(0,i.isNodePattern)(L)&&L.call(this,null,this,{x:_+q,y:b}),this}}}};w.default=h,H.exports=w.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.measureText=E,w.measureTextHeight=g;function E(u,p){for(var l=0,a=0;a<p.length;a++)if(u.chars[p[a]]){var i=u.kernings[p[a]]&&u.kernings[p[a]][p[a+1]]?u.kernings[p[a]][p[a+1]]:0;l+=(u.chars[p[a]].xadvance||0)+i}return l}function g(u,p,l){for(var a=p.split(" "),i="",t=u.common.lineHeight,e=0;e<a.length;e++){var s=i+a[e]+" ",f=E(u,s);f>l&&e>0?(t+=u.common.lineHeight,i=a[e]+" "):i=s}return t}},{}],219:[function(M,H,w){(function(E){var g=M("xhr"),u=function(){},p=M("parse-bmfont-ascii"),l=M("parse-bmfont-xml"),a=M("parse-bmfont-binary"),i=M("./lib/is-binary"),t=M("xtend"),e=(function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest})();H.exports=function(n,o){o=typeof o=="function"?o:u,typeof n=="string"?n={uri:n}:n||(n={});var r=n.binary;r&&(n=f(n)),g(n,function(h,c,d){if(h)return o(h);if(!/^2/.test(c.statusCode))return o(new Error("http status code: "+c.statusCode));if(!d)return o(new Error("no body result"));var v=!1;if(s(d)){var _=new Uint8Array(d);d=new E(_,"binary")}i(d)&&(v=!0,typeof d=="string"&&(d=new E(d,"binary"))),v||(E.isBuffer(d)&&(d=d.toString(n.encoding)),d=d.trim());var b;try{var y=c.headers["content-type"];v?b=a(d):/json/.test(y)||d.charAt(0)==="{"?b=JSON.parse(d):/xml/.test(y)||d.charAt(0)==="<"?b=l(d):b=p(d)}catch(S){o(new Error("error parsing font "+S.message)),o=u}o(null,b)})};function s(n){var o=Object.prototype.toString;return o.call(n)==="[object ArrayBuffer]"}function f(n){if(e)return t(n,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var o=new self.XMLHttpRequest;return o.overrideMimeType("text/plain; charset=x-user-defined"),t({xhr:o},n)}}).call(this,M("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(M,H,w){(function(E){var g=M("buffer-equal"),u=new E([66,77,70,3]);H.exports=function(p){return typeof p=="string"?p.substring(0,3)==="BMF":p.length>4&&g(p.slice(0,4),u)}}).call(this,M("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var u=M("@jimp/utils"),p=g(M("./modules/resize")),l=g(M("./modules/resize2")),a=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(e,s,f,n){if(typeof e!="number"||typeof s!="number")return u.throwError.call(this,"w and h must be numbers",n);if(typeof f=="function"&&typeof n>"u"&&(n=f,f=null),e===this.constructor.AUTO&&s===this.constructor.AUTO)return u.throwError.call(this,"w and h cannot both be set to auto",n);if(e===this.constructor.AUTO&&(e=this.bitmap.width*(s/this.bitmap.height)),s===this.constructor.AUTO&&(s=this.bitmap.height*(e/this.bitmap.width)),e<0||s<0)return u.throwError.call(this,"w and h must be positive numbers",n);if(e=Math.round(e),s=Math.round(s),typeof l.default[f]=="function"){var o={data:E.alloc(e*s*4),width:e,height:s};l.default[f](this.bitmap,o),this.bitmap=o}else{var r=this,h=new p.default(this.bitmap.width,this.bitmap.height,e,s,!0,!0,function(c){r.bitmap.data=E.from(c),r.bitmap.width=e,r.bitmap.height=s});h.resize(this.bitmap.data)}return(0,u.isNodePattern)(n)&&n.call(this,null,this),this}}}};w.default=a,H.exports=w.default}).call(this,M("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(M,H,w){function E(g,u,p,l,a,i,t){this.widthOriginal=Math.abs(Math.floor(g)||0),this.heightOriginal=Math.abs(Math.floor(u)||0),this.targetWidth=Math.abs(Math.floor(p)||0),this.targetHeight=Math.abs(Math.floor(l)||0),this.colorChannels=a?4:3,this.interpolationPass=!!i,this.resizeCallback=typeof t=="function"?t:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}E.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},E.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},E.prototype._resizeWidthInterpolatedRGBChannels=function(g,u){var p=u?4:3,l=this.ratioWeightWidthPass,a=this.widthBuffer,i=0,t=0,e=0,s=0,f=0,n;for(n=0;i<1/3;n+=p,i+=l)for(t=n,e=0;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)a[t]=g[e],a[t+1]=g[e+1],a[t+2]=g[e+2],u&&(a[t+3]=g[e+3]);i-=1/3;var o;for(o=this.widthOriginal-1;i<o;n+=p,i+=l)for(f=i%1,s=1-f,t=n,e=Math.floor(i)*p;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)a[t+0]=g[e+0]*s+g[e+p+0]*f,a[t+1]=g[e+1]*s+g[e+p+1]*f,a[t+2]=g[e+2]*s+g[e+p+2]*f,u&&(a[t+3]=g[e+3]*s+g[e+p+3]*f);for(o=this.originalWidthMultipliedByChannels-p;n<this.targetWidthMultipliedByChannels;n+=p)for(t=n,e=o;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)a[t]=g[e],a[t+1]=g[e+1],a[t+2]=g[e+2],u&&(a[t+3]=g[e+3]);return a},E.prototype._resizeWidthRGBChannels=function(g,u){var p=u?4:3,l=this.ratioWeightWidthPass,a=1/l,i=this.originalWidthMultipliedByChannels-p+1,t=this.targetWidthMultipliedByChannels-p+1,e=this.outputWidthWorkBench,s=this.widthBuffer,f=this.outputWidthWorkBenchOpaquePixelsCount,n=0,o=0,r=0,h=0,c=0,d=0,v=0,_=1,b=0,y=0,S=0,R=0;do{for(c=0;c<this.originalHeightMultipliedByChannels;)e[c++]=0,e[c++]=0,e[c++]=0,u&&(e[c++]=0,f[c/p-1]=0);n=l;do{for(o=1+r-h,_=Math.min(n,o),c=0,d=r;c<this.originalHeightMultipliedByChannels;d+=i)b=g[d],y=g[++d],S=g[++d],R=u?g[++d]:255,e[c++]+=(R?b:0)*_,e[c++]+=(R?y:0)*_,e[c++]+=(R?S:0)*_,u&&(e[c++]+=R*_,f[c/p-1]+=R?_:0);if(n>=o)r+=p,h=r,n-=o;else{h+=n;break}}while(n>0&&r<this.originalWidthMultipliedByChannels);for(c=0,d=v;c<this.originalHeightMultipliedByChannels;d+=t)n=u?f[c/p]:1,_=u?n?1/n:0:a,s[d]=e[c++]*_,s[++d]=e[c++]*_,s[++d]=e[c++]*_,u&&(s[++d]=e[c++]*a);v+=p}while(v<this.targetWidthMultipliedByChannels);return s},E.prototype._resizeHeightRGBChannels=function(g,u){var p=this.ratioWeightHeightPass,l=1/p,a=this.outputHeightWorkBench,i=this.heightBuffer,t=this.outputHeightWorkBenchOpaquePixelsCount,e=0,s=0,f=0,n=0,o=0,r=0,h=0,c=1,d=0,v=0,_=0,b=0;do{for(o=0;o<this.targetWidthMultipliedByChannels;)a[o++]=0,a[o++]=0,a[o++]=0,u&&(a[o++]=0,t[o/4-1]=0);e=p;do{for(s=1+f-n,c=Math.min(e,s),h=f,o=0;o<this.targetWidthMultipliedByChannels;)d=g[h++],v=g[h++],_=g[h++],b=u?g[h++]:255,a[o++]+=(b?d:0)*c,a[o++]+=(b?v:0)*c,a[o++]+=(b?_:0)*c,u&&(a[o++]+=b*c,t[o/4-1]+=b?c:0);if(e>=s)f=h,n=f,e-=s;else{n+=e;break}}while(e>0&&f<this.widthPassResultSize);for(o=0;o<this.targetWidthMultipliedByChannels;)e=u?t[o/4]:1,c=u?e?1/e:0:l,i[r++]=Math.round(a[o++]*c),i[r++]=Math.round(a[o++]*c),i[r++]=Math.round(a[o++]*c),u&&(i[r++]=Math.round(a[o++]*l))}while(r<this.finalResultSize);return i},E.prototype.resizeWidthInterpolatedRGB=function(g){return this._resizeWidthInterpolatedRGBChannels(g,!1)},E.prototype.resizeWidthInterpolatedRGBA=function(g){return this._resizeWidthInterpolatedRGBChannels(g,!0)},E.prototype.resizeWidthRGB=function(g){return this._resizeWidthRGBChannels(g,!1)},E.prototype.resizeWidthRGBA=function(g){return this._resizeWidthRGBChannels(g,!0)},E.prototype.resizeHeightInterpolated=function(g){for(var u=this.ratioWeightHeightPass,p=this.heightBuffer,l=0,a=0,i=0,t=0,e=0,s=0,f=0,n;l<1/3;l+=u)for(i=0;i<this.targetWidthMultipliedByChannels;)p[a++]=Math.round(g[i++]);for(l-=1/3,n=this.heightOriginal-1;l<n;l+=u)for(f=l%1,s=1-f,t=Math.floor(l)*this.targetWidthMultipliedByChannels,e=t+this.targetWidthMultipliedByChannels,i=0;i<this.targetWidthMultipliedByChannels;++i)p[a++]=Math.round(g[t++]*s+g[e++]*f);for(;a<this.finalResultSize;)for(i=0,t=n*this.targetWidthMultipliedByChannels;i<this.targetWidthMultipliedByChannels;++i)p[a++]=Math.round(g[t++]);return p},E.prototype.resizeHeightRGB=function(g){return this._resizeHeightRGBChannels(g,!1)},E.prototype.resizeHeightRGBA=function(g){return this._resizeHeightRGBChannels(g,!0)},E.prototype.resize=function(g){this.resizeCallback(this.resizeHeight(this.resizeWidth(g)))},E.prototype.bypassResizer=function(g){return g},E.prototype.initializeFirstPassBuffers=function(g){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),g||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},E.prototype.initializeSecondPassBuffers=function(g){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),g||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},E.prototype.generateFloatBuffer=function(g){try{return new Float32Array(g)}catch{return[]}},E.prototype.generateFloat64Buffer=function(g){try{return new Float64Array(g)}catch{return[]}},E.prototype.generateUint8Buffer=function(g){try{return new Uint8Array(g)}catch{return[]}},H.exports=E},{}],223:[function(M,H,w){(function(E){H.exports={nearestNeighbor:function(u,p){for(var l=u.width,a=u.height,i=p.width,t=p.height,e=u.data,s=p.data,f=0;f<t;f++)for(var n=0;n<i;n++){var o=(f*i+n)*4,r=Math.floor(f*a/t),h=Math.floor(n*l/i),c=(r*l+h)*4;s[o++]=e[c++],s[o++]=e[c++],s[o++]=e[c++],s[o++]=e[c++]}},bilinearInterpolation:function(u,p){for(var l=u.width,a=u.height,i=p.width,t=p.height,e=u.data,s=p.data,f=function(R,L,T,x,z){return L===x?T:Math.round((R-L)*z+(x-R)*T)},n=function(R,L,T,x,z,k,O,D){var W=(O*l+x)*4+L,q=(O*l+z)*4+L,te=f(T,x,e[W],z,e[q]);if(D===O)s[R+L]=te;else{W=(D*l+x)*4+L,q=(D*l+z)*4+L;var K=f(T,x,e[W],z,e[q]);s[R+L]=f(k,O,te,D,K)}},o=0;o<t;o++)for(var r=0;r<i;r++){var h=(o*i+r)*4,c=r*l/i,d=Math.floor(c),v=Math.min(Math.ceil(c),l-1),_=o*a/t,b=Math.floor(_),y=Math.min(Math.ceil(_),a-1);n(h,0,c,d,v,_,b,y),n(h,1,c,d,v,_,b,y),n(h,2,c,d,v,_,b,y),n(h,3,c,d,v,_,b,y)}},_interpolate2D:function(u,p,l,a){for(var i=u.data,t=p.data,e=u.width,s=u.height,f=p.width,n=p.height,o=Math.max(1,Math.floor(e/f)),r=f*o,h=Math.max(1,Math.floor(s/n)),c=n*h,d=E.alloc(r*s*4),v=0;v<s;v++)for(var _=0;_<r;_++)for(var b=_*(e-1)/r,y=Math.floor(b),S=b-y,R=(v*e+y)*4,L=(v*r+_)*4,T=0;T<4;T++){var x=R+T,z=y>0?i[x-4]:2*i[x]-i[x+4],k=i[x],O=i[x+4],D=y<e-2?i[x+8]:2*i[x+4]-i[x];d[L+T]=a(z,k,O,D,S)}for(var W=E.alloc(r*c*4),q=0;q<c;q++)for(var te=0;te<r;te++)for(var K=q*(s-1)/c,F=Math.floor(K),Y=K-F,j=(F*r+te)*4,Q=(q*r+te)*4,re=0;re<4;re++){var se=j+re,le=F>0?d[se-r*4]:2*d[se]-d[se+r*4],fe=d[se],ve=d[se+r*4],ne=F<s-2?d[se+r*8]:2*d[se+r*4]-d[se];W[Q+re]=a(le,fe,ve,ne,Y)}var ie=o*h;if(ie>1)for(var V=0;V<n;V++)for(var ee=0;ee<f;ee++){for(var $=0,G=0,I=0,P=0,Z=0,U=0;U<h;U++)for(var C=V*h+U,A=0;A<o;A++){var X=ee*o+A,ae=(C*r+X)*4,pe=W[ae+3];pe&&($+=W[ae],G+=W[ae+1],I+=W[ae+2],Z++),P+=pe}var _e=(V*f+ee)*4;t[_e]=Z?Math.round($/Z):0,t[_e+1]=Z?Math.round(G/Z):0,t[_e+2]=Z?Math.round(I/Z):0,t[_e+3]=Math.round(P/ie)}else p.data=W},bicubicInterpolation:function(u,p,l){var a=function(t,e,s,f,n){var o=f-s-t+e,r=t-e-o,h=s-t,c=e;return Math.max(0,Math.min(255,o*(n*n*n)+r*(n*n)+h*n+c))};return this._interpolate2D(u,p,l,a)},hermiteInterpolation:function(u,p,l){var a=function(t,e,s,f,n){var o=e,r=.5*(s-t),h=t-2.5*e+2*s-.5*f,c=.5*(f-t)+1.5*(e-s);return Math.max(0,Math.min(255,Math.round(((c*n+h)*n+r)*n+o)))};return this._interpolate2D(u,p,l,a)},bezierInterpolation:function(u,p,l){var a=function(t,e,s,f,n){var o=e+(s-t)/4,r=s-(f-e)/4,h=1-n,c=e*h*h*h,d=3*o*h*h*n,v=3*r*h*n*n,_=s*n*n*n;return Math.max(0,Math.min(255,Math.round(c+d+v+_)))};return this._interpolate2D(u,p,l,a)}}}).call(this,M("buffer").Buffer)},{buffer:48}],224:[function(M,H,w){(function(E){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=M("@jimp/utils");function u(l,a){l%=360;var i=l*Math.PI/180,t=Math.cos(i),e=Math.sin(i),s=this.bitmap.width,f=this.bitmap.height;if(a===!0||typeof a=="string"){s=Math.ceil(Math.abs(this.bitmap.width*t)+Math.abs(this.bitmap.height*e))+1,f=Math.ceil(Math.abs(this.bitmap.width*e)+Math.abs(this.bitmap.height*t))+1,s%2!==0&&s++,f%2!==0&&f++;var n=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(O,D,W){this.bitmap.data.writeUInt32BE(this._background,W)});var o=Math.max(s,f,this.bitmap.width,this.bitmap.height);this.resize(o,o,a),this.blit(n,this.bitmap.width/2-n.bitmap.width/2,this.bitmap.height/2-n.bitmap.height/2)}var r=this.bitmap.width,h=this.bitmap.height,c=E.alloc(this.bitmap.data.length);function d(O,D){return function(W,q){return{x:W+O,y:q+D}}}for(var v=d(-(r/2),-(h/2)),_=d(r/2+.5,h/2+.5),b=1;b<=h;b++)for(var y=1;y<=r;y++){var S=v(y,b),R=_(t*S.x-e*S.y,t*S.y+e*S.x),L=r*(b-1)+y-1<<2;if(R.x>=0&&R.x<r&&R.y>=0&&R.y<h){var T=(r*(R.y|0)+R.x|0)<<2,x=this.bitmap.data.readUInt32BE(T);c.writeUInt32BE(x,L)}else c.writeUInt32BE(this._background,L)}if(this.bitmap.data=c,a===!0||typeof a=="string"){var z=r/2-s/2,k=h/2-f/2;this.crop(z,k,s,f)}}var p=function(){return{rotate:function(i,t,e){return(typeof t>"u"||t===null)&&(t=!0),typeof t=="function"&&typeof e>"u"&&(e=t,t=!0),typeof i!="number"?g.throwError.call(this,"deg must be a number",e):typeof t!="boolean"&&typeof t!="string"?g.throwError.call(this,"mode must be a boolean or a string",e):(u.call(this,i,t,e),(0,g.isNodePattern)(e)&&e.call(this,null,this),this)}}};w.default=p,H.exports=w.default}).call(this,M("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{scale:function(l,a,i){if(typeof l!="number")return E.throwError.call(this,"f must be a number",i);if(l<0)return E.throwError.call(this,"f must be a positive number",i);typeof a=="function"&&typeof i>"u"&&(i=a,a=null);var t=this.bitmap.width*l,e=this.bitmap.height*l;return this.resize(t,e,a),(0,E.isNodePattern)(i)&&i.call(this,null,this),this},scaleToFit:function(l,a,i,t){if(typeof l!="number"||typeof a!="number")return E.throwError.call(this,"w and h must be numbers",t);typeof i=="function"&&typeof t>"u"&&(t=i,i=null);var e=l/a>this.bitmap.width/this.bitmap.height?a/this.bitmap.height:l/this.bitmap.width;return this.scale(e,i),(0,E.isNodePattern)(t)&&t.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],226:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{shadow:function(){var l=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(i=a,a={});var t=a,e=t.opacity,s=e===void 0?.7:e,f=t.size,n=f===void 0?1.1:f,o=t.x,r=o===void 0?-25:o,h=t.y,c=h===void 0?25:h,d=t.blur,v=d===void 0?5:d,_=this.clone(),b=this.clone();return b.scan(0,0,b.bitmap.width,b.bitmap.height,function(y,S,R){b.bitmap.data[R]=0,b.bitmap.data[R+1]=0,b.bitmap.data[R+2]=0,b.bitmap.data[R+3]=b.constructor.limit255(b.bitmap.data[R+3]*s),l.bitmap.data[R]=0,l.bitmap.data[R+1]=0,l.bitmap.data[R+2]=0,l.bitmap.data[R+3]=0}),b.resize(b.bitmap.width*n,b.bitmap.height*n).blur(v),this.composite(b,r,c),this.composite(_,0,0),(0,E.isNodePattern)(i)&&i.call(this,null,this),this}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],227:[function(M,H,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E=M("@jimp/utils"),g=function(){return{threshold:function(l,a){var i=this,t=l.max,e=l.replace,s=e===void 0?255:e,f=l.autoGreyscale,n=f===void 0?!0:f;return typeof t!="number"?E.throwError.call(this,"max must be a number",a):typeof s!="number"?E.throwError.call(this,"replace must be a number",a):typeof n!="boolean"?E.throwError.call(this,"autoGreyscale must be a boolean",a):(t=this.constructor.limit255(t),s=this.constructor.limit255(s),n&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(o,r,h){var c=i.bitmap.data[h]<t?i.bitmap.data[h]:s;i.bitmap.data[h]=c,i.bitmap.data[h+1]=c,i.bitmap.data[h+2]=c}),(0,E.isNodePattern)(a)&&a.call(this,null,this),this)}}};w.default=g,H.exports=w.default},{"@jimp/utils":235}],228:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=E(M("@babel/runtime/helpers/toConsumableArray")),u=M("timm"),p=E(M("@jimp/plugin-blit")),l=E(M("@jimp/plugin-blur")),a=E(M("@jimp/plugin-circle")),i=E(M("@jimp/plugin-color")),t=E(M("@jimp/plugin-contain")),e=E(M("@jimp/plugin-cover")),s=E(M("@jimp/plugin-crop")),f=E(M("@jimp/plugin-displace")),n=E(M("@jimp/plugin-dither")),o=E(M("@jimp/plugin-fisheye")),r=E(M("@jimp/plugin-flip")),h=E(M("@jimp/plugin-gaussian")),c=E(M("@jimp/plugin-invert")),d=E(M("@jimp/plugin-mask")),v=E(M("@jimp/plugin-normalize")),_=E(M("@jimp/plugin-print")),b=E(M("@jimp/plugin-resize")),y=E(M("@jimp/plugin-rotate")),S=E(M("@jimp/plugin-scale")),R=E(M("@jimp/plugin-shadow")),L=E(M("@jimp/plugin-threshold")),T=[p.default,l.default,a.default,i.default,t.default,e.default,s.default,f.default,n.default,o.default,r.default,h.default,c.default,d.default,v.default,_.default,b.default,y.default,S.default,R.default,L.default],x=function(k){var O=T.map(function(D){var W=D(k)||{};return!W.class&&!W.constants&&(W={class:W}),W});return u.mergeDeep.apply(void 0,(0,g.default)(O))};w.default=x,H.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=E(M("@babel/runtime/helpers/defineProperty")),u=E(M("bmp-js")),p=M("@jimp/utils"),l="image/bmp",a="image/x-ms-bmp";function i(n){return(0,p.scan)(n,0,0,n.bitmap.width,n.bitmap.height,function(o,r,h){var c=this.bitmap.data[h+0],d=this.bitmap.data[h+1],v=this.bitmap.data[h+2],_=this.bitmap.data[h+3];this.bitmap.data[h+0]=_,this.bitmap.data[h+1]=v,this.bitmap.data[h+2]=d,this.bitmap.data[h+3]=c}).bitmap}function t(n){return(0,p.scan)({bitmap:n},0,0,n.width,n.height,function(o,r,h){var c=this.bitmap.data[h+0],d=this.bitmap.data[h+1],v=this.bitmap.data[h+2],_=this.bitmap.data[h+3];this.bitmap.data[h+0]=_,this.bitmap.data[h+1]=v,this.bitmap.data[h+2]=d,this.bitmap.data[h+3]=n.is_with_alpha?c:255}).bitmap}var e=function(o){return t(u.default.decode(o))},s=function(o){return u.default.encode(i(o)).data},f=function(){var o,r;return{mime:(0,g.default)({},l,["bmp"]),constants:{MIME_BMP:l,MIME_X_MS_BMP:a},decoders:(o={},(0,g.default)(o,l,e),(0,g.default)(o,a,e),o),encoders:(r={},(0,g.default)(r,l,s),(0,g.default)(r,a,s),r)}};w.default=f,H.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var u=g(M("@babel/runtime/helpers/defineProperty")),p=g(M("omggif")),l=M("gifwrap"),a="image/gif",i=function(){return{mime:(0,u.default)({},a,["gif"]),constants:{MIME_GIF:a},decoders:(0,u.default)({},a,function(e){var s=new p.default.GifReader(e),f=E.alloc(s.width*s.height*4);return s.decodeAndBlitFrameRGBA(0,f),{data:f,width:s.width,height:s.height}}),encoders:(0,u.default)({},a,function(e){var s=new l.BitmapImage(e.bitmap);l.GifUtil.quantizeDekker(s,256);var f=new l.GifFrame(s),n=new l.GifCodec;return n.encodeGif([f],{}).then(function(o){return o.buffer})})}};w.default=i,H.exports=w.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=E(M("@babel/runtime/helpers/defineProperty")),u=E(M("jpeg-js")),p=M("@jimp/utils"),l="image/jpeg",a=function(){return{mime:(0,g.default)({},l,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:l},decoders:(0,g.default)({},l,u.default.decode),encoders:(0,g.default)({},l,function(t){return u.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(e,s){return typeof e!="number"?p.throwError.call(this,"n must be a number",s):e<0||e>100?p.throwError.call(this,"n must be a number 0 - 100",s):(this._quality=Math.round(e),(0,p.isNodePattern)(s)&&s.call(this,null,this),this)}}}};w.default=a,H.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=E(M("@babel/runtime/helpers/defineProperty")),u=M("pngjs"),p=M("@jimp/utils"),l="image/png",a=-1,i=0,t=1,e=2,s=3,f=4,n=function(){return{mime:(0,g.default)({},l,["png"]),constants:{MIME_PNG:l,PNG_FILTER_AUTO:a,PNG_FILTER_NONE:i,PNG_FILTER_SUB:t,PNG_FILTER_UP:e,PNG_FILTER_AVERAGE:s,PNG_FILTER_PATH:f},hasAlpha:(0,g.default)({},l,!0),decoders:(0,g.default)({},l,u.PNG.sync.read),encoders:(0,g.default)({},l,function(r){var h=new u.PNG({width:r.bitmap.width,height:r.bitmap.height});return h.data=r.bitmap.data,u.PNG.sync.write(h,{width:r.bitmap.width,height:r.bitmap.height,deflateLevel:r._deflateLevel,deflateStrategy:r._deflateStrategy,filterType:r._filterType,colorType:typeof r._colorType=="number"?r._colorType:r._rgba?6:2,inputHasAlpha:r._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:a,_colorType:null,deflateLevel:function(h,c){return typeof h!="number"?p.throwError.call(this,"l must be a number",c):h<0||h>9?p.throwError.call(this,"l must be a number 0 - 9",c):(this._deflateLevel=Math.round(h),(0,p.isNodePattern)(c)&&c.call(this,null,this),this)},deflateStrategy:function(h,c){return typeof h!="number"?p.throwError.call(this,"s must be a number",c):h<0||h>3?p.throwError.call(this,"s must be a number 0 - 3",c):(this._deflateStrategy=Math.round(h),(0,p.isNodePattern)(c)&&c.call(this,null,this),this)},filterType:function(h,c){return typeof h!="number"?p.throwError.call(this,"n must be a number",c):h<-1||h>4?p.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",c):(this._filterType=Math.round(h),(0,p.isNodePattern)(c)&&c.call(this,null,this),this)},colorType:function(h,c){return typeof h!="number"?p.throwError.call(this,"s must be a number",c):h!==0&&h!==2&&h!==4&&h!==6?p.throwError.call(this,"s must be a number 0, 2, 4, 6.",c):(this._colorType=Math.round(h),(0,p.isNodePattern)(c)&&c.call(this,null,this),this)}}}};w.default=n,H.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(M,H,w){(function(E){var g=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var u=g(M("@babel/runtime/helpers/defineProperty")),p=g(M("utif")),l="image/tiff",a=function(){return{mime:(0,u.default)({},l,["tiff","tif"]),constants:{MIME_TIFF:l},decoders:(0,u.default)({},l,function(t){var e=p.default.decode(t),s=e[0];p.default.decodeImages(t,e);var f=p.default.toRGBA8(s);return{data:E.from(f),width:s.t256[0],height:s.t257[0]}}),encoders:(0,u.default)({},l,function(t){var e=p.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return E.from(e)})}};w.default=a,H.exports=w.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var g=M("timm"),u=E(M("@jimp/jpeg")),p=E(M("@jimp/png")),l=E(M("@jimp/bmp")),a=E(M("@jimp/tiff")),i=E(M("@jimp/gif")),t=function(){return(0,g.mergeDeep)((0,u.default)(),(0,p.default)(),(0,l.default)(),(0,a.default)(),(0,i.default)())};w.default=t,H.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(M,H,w){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.isNodePattern=p,w.throwError=l,w.scan=a,w.scanIterator=i;var g=E(M("@babel/runtime/regenerator")),u=g.default.mark(i);function p(t){if(typeof t>"u")return!1;if(typeof t!="function")throw new TypeError("Callback must be a function");return!0}function l(t,e){if(typeof t=="string"&&(t=new Error(t)),typeof e=="function")return e.call(this,t);throw t}function a(t,e,s,f,n,o){e=Math.round(e),s=Math.round(s),f=Math.round(f),n=Math.round(n);for(var r=s;r<s+n;r++)for(var h=e;h<e+f;h++){var c=t.bitmap.width*r+h<<2;o.call(t,h,r,c)}return t}function i(t,e,s,f,n){var o,r,h;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:e=Math.round(e),s=Math.round(s),f=Math.round(f),n=Math.round(n),o=s;case 5:if(!(o<s+n)){d.next=17;break}r=e;case 7:if(!(r<e+f)){d.next=14;break}return h=t.bitmap.width*o+r<<2,d.next=11,{x:r,y:o,idx:h,image:t};case 11:r++,d.next=7;break;case 14:o++,d.next=5;break;case 17:case"end":return d.stop()}},u)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})})(at)),at.exports}var ot,Mt;function it(){if(Mt)return ot;Mt=1;function Ne(xe,Ie){this.x=xe||0,this.y=Ie||0}return Ne.prototype={copy:function(){return new Ne(this.x,this.y)}},ot=Ne,ot}var st,Rt;function nt(){if(Rt)return st;Rt=1;var Ne=it(),xe={};function Ie(o){return xe[o]||(xe[o]=new RegExp(" "+o+'="((?:\\\\(?=")"|[^"])+)"',"i")),xe[o]}function M(o,r,h){var c=" "+r+'="'+h+'"';return o.indexOf(" "+r+'="')===-1?o=o.replace(/<[a-z]+/i,function(d){return d+c}):o=o.replace(Ie(r),c),o}function H(o){return o.toFixed(3).replace(".000","")}function w(o,r){return o>=r?o%r:o>=0?o:r-1-(-1-o)%r}function E(o,r){return o.x*r.y-o.y*r.x}function g(o,r,h){return o<=h?o<=r&&r<h:o<=r||r<h}function u(o){return o>0?1:o<0?-1:0}function p(o,r){var h=new Array(3),c,d,v;for(h[0]=r.x,h[1]=r.y,h[2]=1,v=0,c=0;c<3;c++)for(d=0;d<3;d++)v+=h[c]*o.at(c,d)*h[d];return v}function l(o,r,h){var c=new Ne;return c.x=r.x+o*(h.x-r.x),c.y=r.y+o*(h.y-r.y),c}function a(o,r){var h=new Ne;return h.y=u(r.x-o.x),h.x=-u(r.y-o.y),h}function i(o,r){var h=a(o,r);return h.y*(r.x-o.x)-h.x*(r.y-o.y)}function t(o,r,h){var c,d,v,_;return c=r.x-o.x,d=r.y-o.y,v=h.x-o.x,_=h.y-o.y,c*_-v*d}function e(o,r,h,c){var d,v,_,b;return d=r.x-o.x,v=r.y-o.y,_=c.x-h.x,b=c.y-h.y,d*b-_*v}function s(o,r,h){var c,d,v,_;return c=r.x-o.x,d=r.y-o.y,v=h.x-o.x,_=h.y-o.y,c*v+d*_}function f(o,r,h,c){var d,v,_,b;return d=r.x-o.x,v=r.y-o.y,_=c.x-h.x,b=c.y-h.y,d*_+v*b}function n(o,r){return Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y))}return st={luminance:function(o,r,h){return Math.round(.2126*o+.7153*r+.0721*h)},between:function(o,r,h){return o>=r&&o<=h},clamp:function(o,r,h){return Math.min(h,Math.max(r,o))},isNumber:function(o){return typeof o=="number"},setHtmlAttr:M,renderCurve:function(o,r){r=r||{x:1,y:1};var h=o.c[(o.n-1)*3+2],c=["M "+H(h.x*r.x)+" "+H(h.y*r.y)];return o.tag.forEach(function(d,v){var _=v*3,b=o.c[_],y=o.c[_+1],S=o.c[_+2];d==="CURVE"?c.push("C "+H(b.x*r.x)+" "+H(b.y*r.y)+", "+H(y.x*r.x)+" "+H(y.y*r.y)+", "+H(S.x*r.x)+" "+H(S.y*r.y)):d==="CORNER"&&c.push("L "+H(y.x*r.x)+" "+H(y.y*r.y)+" "+H(S.x*r.x)+" "+H(S.y*r.y))}),c.join(" ")},bezier:function(r,h,c,d,v){var _=1-r,b=new Ne;return b.x=_*_*_*h.x+3*(_*_*r)*c.x+3*(r*r*_)*d.x+r*r*r*v.x,b.y=_*_*_*h.y+3*(_*_*r)*c.y+3*(r*r*_)*d.y+r*r*r*v.y,b},tangent:function(r,h,c,d,v,_){var b,y,S,R,L,T,x,z,k,O;return b=e(r,h,v,_),y=e(h,c,v,_),S=e(c,d,v,_),R=b-2*y+S,L=-2*b+2*y,T=b,x=L*L-4*R*T,R===0||x<0?-1:(z=Math.sqrt(x),k=(-L+z)/(2*R),O=(-L-z)/(2*R),k>=0&&k<=1?k:O>=0&&O<=1?O:-1)},mod:w,xprod:E,cyclic:g,sign:u,quadform:p,interval:l,dorth_infty:a,ddenom:i,dpara:t,cprod:e,iprod:s,iprod1:f,ddist:n},st}var lt,Tt;function Ct(){if(Tt)return lt;Tt=1;var Ne=nt(),xe=null;try{xe=zt()}catch{}var Ie=Ut(),M=256,H=M-1;function w(u,p){return M*u+p}function E(u,p){if(u=typeof u=="number"?Ne.clamp(Math.round(u),0,H):0,p=typeof p=="number"?Ne.clamp(Math.round(p),0,H):H,u>p)throw new Error('Invalid range "'+u+"..."+p+'"');return[u,p]}function g(u,p){if(this.data=null,this.pixels=0,this._sortedIndexes=null,this._cachedStats={},this._lookupTableH=null,typeof u=="number")this._createArray(u);else if(u instanceof Ie)this._collectValuesBitmap(u);else if(xe&&u instanceof xe)this._collectValuesJimp(u,p);else throw new Error("Unsupported image source")}return g.MODE_LUMINANCE="luminance",g.MODE_R="r",g.MODE_G="g",g.MODE_B="b",g.prototype={_createArray:function(u){var p=u<=Math.pow(2,8)?Uint8Array:u<=Math.pow(2,16)?Uint16Array:Uint32Array;return this.pixels=u,this.data=new p(M)},_collectValuesJimp:function(u,p){var l=u.bitmap.data,a=this._createArray(u.bitmap.width*u.bitmap.height);u.scan(0,0,u.bitmap.width,u.bitmap.height,function(i,t,e){var s=p===g.MODE_R?l[e]:p===g.MODE_G?l[e+1]:p===g.MODE_B?l[e+2]:Ne.luminance(l[e],l[e+1],l[e+2]);a[s]++})},_collectValuesBitmap:function(u){for(var p=this._createArray(u.size),l=u.data.length,a,i=0;i<l;i++)a=u.data[i],p[a]++},_getSortedIndexes:function(u){if(!u&&this._sortedIndexes)return this._sortedIndexes;var p=this.data,l=new Array(M),a=0;for(a;a<M;a++)l[a]=a;return l.sort(function(i,t){return p[i]>p[t]?1:p[i]<p[t]?-1:0}),this._sortedIndexes=l,l},_thresholdingBuildLookupTable:function(){var u=new Float64Array(M*M),p=new Float64Array(M*M),l=new Float64Array(M*M),a=this.pixels,i,t,e,s;for(i=1;i<M;++i)e=w(i,i),s=this.data[i]/a,u[e]=s,p[e]=i*s;for(i=1;i<M-1;++i)s=this.data[i+1]/a,e=w(1,i),u[e+1]=u[e]+s,p[e+1]=p[e]+(i+1)*s;for(i=2;i<M;i++)for(t=i+1;t<M;t++)u[w(i,t)]=u[w(1,t)]-u[w(1,i-1)],p[w(i,t)]=p[w(1,t)]-p[w(1,i-1)];for(i=1;i<M;++i)for(t=i+1;t<M;t++)e=w(i,t),l[e]=u[e]!==0?p[e]*p[e]/u[e]:0;return this._lookupTableH=l},multilevelThresholding:function(u,p,l){if(p=E(p,l),l=p[1],p=p[0],u=Math.min(l-p-2,~~u),u<1)return[];this._lookupTableH||this._thresholdingBuildLookupTable();var a=this._lookupTableH,i=null,t=0;u>4&&console.log("[Warning]: Threshold computation for more than 5 levels may take a long time");function e(s,f,n,o){s=(s||0)+1,f=f||0,n=n||new Array(u),o=o||0;for(var r=o+1,h,c=s;c<l-u+o;c++)h=f+a[w(s,c)],n[r-1]=c,r+1<u+1?e(c,h,n,r):(h+=a[w(c+1,l)],t<h&&(t=h,i=n.slice()))}return e(p||0),i||[]},autoThreshold:function(u,p){var l=this.multilevelThresholding(1,u,p);return l.length?l[0]:null},getDominantColor:function(u,p,l){u=E(u,p),p=u[1],u=u[0],l=l||1;var a=this.data,i=-1,t=-1,e,s,f;if(u===p)return a[u]?u:-1;for(e=u;e<=p;e++){for(f=0,s=~~(l/-2);s<l;s++)f+=Ne.between(e+s,0,H)?a[e+s]:0;var n=f>t,o=t===f&&(i<0||a[e]>a[i]);(n||o)&&(i=e,t=f)}return t<=0?-1:i},getStats:function(u,p,l){if(u=E(u,p),p=u[1],u=u[0],!l&&this._cachedStats[u+"-"+p])return this._cachedStats[u+"-"+p];var a=this.data,i=this._getSortedIndexes(),t=0,e=null,s,f,n,o,r=0,h=0,c=0,d,v,_,b=0,y=0;for(d=u;d<=p;d++)t+=a[d],c+=a[d]*d,b+=a[d]===0?0:1,y<a[d]&&(y=a[d]);for(s=c/t,n=t/(p-u),o=t/b,f=Math.floor(t/2),d=0;d<M;d++)_=i[d],v=a[_],!(_<u||_>p)&&(h+=v,r+=Math.pow(_-s,2)*v,e===null&&h>=f&&(e=_));return this._cachedStats[u+"-"+p]={levels:{mean:s,median:e,stdDev:Math.sqrt(r/t),unique:b},pixelsPerLevel:{mean:n,median:o,peak:y},pixels:t}}},lt=g,lt}var ft,Pt;function Ut(){if(Pt)return ft;Pt=1;var Ne=it(),xe=nt();function Ie(M,H){this._histogram=null,this.width=M,this.height=H,this.size=M*H,this.arrayBuffer=new ArrayBuffer(this.size),this.data=new Uint8Array(this.arrayBuffer)}return ft=Ie,Ct(),Ie.prototype={getValueAt:function(M,H){var w=typeof M=="number"&&typeof H!="number"?M:this.pointToIndex(M,H);return this.data[w]},indexToPoint:function(M){var H=new Ne;return xe.between(M,0,this.size)?(H.y=Math.floor(M/this.width),H.x=M-H.y*this.width):(H.x=-1,H.y=-1),H},pointToIndex:function(M,H){var w=M,E=H;return M instanceof Ne&&(w=M.x,E=M.y),!xe.between(w,0,this.width)||!xe.between(E,0,this.height)?-1:this.width*E+w},copy:function(M){var H=new Ie(this.width,this.height),w=typeof M=="function",E;for(E=0;E<this.size;E++)H.data[E]=w?M(this.data[E],E):this.data[E];return H},histogram:function(){var M=Ct();return this._histogram?this._histogram:(this._histogram=new M(this),this._histogram)}},ft}var ut,Ot;function Wt(){if(Ot)return ut;Ot=1;function Ne(xe){this.n=xe,this.tag=new Array(xe),this.c=new Array(xe*3),this.alphaCurve=0,this.vertex=new Array(xe),this.alpha=new Array(xe),this.alpha0=new Array(xe),this.beta=new Array(xe)}return ut=Ne,ut}var ht,It;function Zt(){if(It)return ht;It=1;function Ne(){this.area=0,this.len=0,this.curve={},this.pt=[],this.minX=1e5,this.minY=1e5,this.maxX=-1,this.maxY=-1}return ht=Ne,ht}var ct,Lt;function Yt(){if(Lt)return ct;Lt=1;function Ne(){this.data=[0,0,0,0,0,0,0,0,0]}return Ne.prototype.at=function(xe,Ie){return this.data[xe*3+Ie]},ct=Ne,ct}var dt,kt;function Vt(){if(kt)return dt;kt=1;function Ne(xe,Ie,M,H,w){this.x=xe,this.y=Ie,this.xy=M,this.x2=H,this.y2=w}return dt=Ne,dt}var pt,Bt;function Xt(){if(Bt)return pt;Bt=1;var Ne=it();function xe(){this.pen=0,this.c=[new Ne,new Ne],this.t=0,this.s=0,this.alpha=0}return pt=xe,pt}var vt,Dt;function Ft(){if(Dt)return vt;Dt=1;var Ne=zt(),xe=Ut(),Ie=Wt(),M=it(),H=Zt(),w=Yt(),E=Vt(),g=Xt(),u=nt();function p(a){this._luminanceData=null,this._pathlist=[],this._imageLoadingIdentifier=null,this._imageLoaded=!1,this._processed=!1,this._params={turnPolicy:p.TURNPOLICY_MINORITY,turdSize:2,alphaMax:1,optCurve:!0,optTolerance:.2,threshold:p.THRESHOLD_AUTO,blackOnWhite:!0,color:p.COLOR_AUTO,background:p.COLOR_TRANSPARENT,width:null,height:null},a&&this.setParameters(a)}p.COLOR_AUTO="auto",p.COLOR_TRANSPARENT="transparent",p.THRESHOLD_AUTO=-1,p.TURNPOLICY_BLACK="black",p.TURNPOLICY_WHITE="white",p.TURNPOLICY_LEFT="left",p.TURNPOLICY_RIGHT="right",p.TURNPOLICY_MINORITY="minority",p.TURNPOLICY_MAJORITY="majority";var l=[p.TURNPOLICY_BLACK,p.TURNPOLICY_WHITE,p.TURNPOLICY_LEFT,p.TURNPOLICY_RIGHT,p.TURNPOLICY_MINORITY,p.TURNPOLICY_MAJORITY];return p.prototype={_bmToPathlist:function(){var a=this,i=this._params.threshold,t=this._params.blackOnWhite,e,s=new M(0,0),f;i===p.THRESHOLD_AUTO&&(i=this._luminanceData.histogram().autoThreshold()||128),e=this._luminanceData.copy(function(c){var d=t?c>i:c<i;return d?0:1});function n(c){for(var d=e.pointToIndex(c);d<e.size&&e.data[d]!==1;)d++;return d<e.size&&e.indexToPoint(d)}function o(c,d){var v,_,b;for(v=2;v<5;v++){for(b=0,_=-v+1;_<=v-1;_++)b+=e.getValueAt(c+_,d+v-1)?1:-1,b+=e.getValueAt(c+v-1,d+_-1)?1:-1,b+=e.getValueAt(c+_-1,d-v)?1:-1,b+=e.getValueAt(c-v,d+_)?1:-1;if(b>0)return 1;if(b<0)return 0}return 0}function r(c){var d=new H,v=c.x,_=c.y,b=0,y=1,S;for(d.sign=e.getValueAt(c.x,c.y)?"+":"-";d.pt.push(new M(v,_)),v>d.maxX&&(d.maxX=v),v<d.minX&&(d.minX=v),_>d.maxY&&(d.maxY=_),_<d.minY&&(d.minY=_),d.len++,v+=b,_+=y,d.area-=v*y,!(v===c.x&&_===c.y);){var R=e.getValueAt(v+(b+y-1)/2,_+(y-b-1)/2),L=e.getValueAt(v+(b-y-1)/2,_+(y+b-1)/2);L&&!R?a._params.turnPolicy==="right"||a._params.turnPolicy==="black"&&d.sign==="+"||a._params.turnPolicy==="white"&&d.sign==="-"||a._params.turnPolicy==="majority"&&o(v,_)||a._params.turnPolicy==="minority"&&!o(v,_)?(S=b,b=-y,y=S):(S=b,b=y,y=-S):L?(S=b,b=-y,y=S):R||(S=b,b=y,y=-S)}return d}function h(c){var d=c.pt[0].y,v=c.len,_,b,y,S,R,L,T;for(R=1;R<v;R++)if(_=c.pt[R].x,b=c.pt[R].y,b!==d){for(S=d<b?d:b,y=c.maxX,L=_;L<y;L++)T=e.pointToIndex(L,S),e.data[T]=e.data[T]?0:1;d=b}}for(this._pathlist=[];s=n(s);)f=r(s),h(f),f.area>a._params.turdSize&&this._pathlist.push(f)},_processPath:function(){var a=this;function i(c){var d,v,_;c.x0=c.pt[0].x,c.y0=c.pt[0].y,c.sums=[];var b=c.sums;for(b.push(new E(0,0,0,0,0)),d=0;d<c.len;d++)v=c.pt[d].x-c.x0,_=c.pt[d].y-c.y0,b.push(new E(b[d].x+v,b[d].y+_,b[d].xy+v*_,b[d].x2+v*v,b[d].y2+_*_))}function t(c){var d=c.len,v=c.pt,_,b=new Array(d),y=new Array(d),S=new Array(4);c.lon=new Array(d);var R=[new M,new M],L=new M,T=new M,x=new M,z,k,O,D,W,q,te,K,F=0;for(k=d-1;k>=0;k--)v[k].x!=v[F].x&&v[k].y!=v[F].y&&(F=k+1),y[k]=F;for(k=d-1;k>=0;k--){for(S[0]=S[1]=S[2]=S[3]=0,_=(3+3*(v[u.mod(k+1,d)].x-v[k].x)+(v[u.mod(k+1,d)].y-v[k].y))/2,S[_]++,R[0].x=0,R[0].y=0,R[1].x=0,R[1].y=0,F=y[k],D=k;;){if(z=0,_=(3+3*u.sign(v[F].x-v[D].x)+u.sign(v[F].y-v[D].y))/2,S[_]++,S[0]&&S[1]&&S[2]&&S[3]){b[k]=D,z=1;break}if(L.x=v[F].x-v[k].x,L.y=v[F].y-v[k].y,u.xprod(R[0],L)<0||u.xprod(R[1],L)>0||(Math.abs(L.x)<=1&&Math.abs(L.y)<=1||(T.x=L.x+(L.y>=0&&(L.y>0||L.x<0)?1:-1),T.y=L.y+(L.x<=0&&(L.x<0||L.y<0)?1:-1),u.xprod(R[0],T)>=0&&(R[0].x=T.x,R[0].y=T.y),T.x=L.x+(L.y<=0&&(L.y<0||L.x<0)?1:-1),T.y=L.y+(L.x>=0&&(L.x>0||L.y<0)?1:-1),u.xprod(R[1],T)<=0&&(R[1].x=T.x,R[1].y=T.y)),D=F,F=y[D],!u.cyclic(F,k,D)))break}z===0&&(x.x=u.sign(v[F].x-v[D].x),x.y=u.sign(v[F].y-v[D].y),L.x=v[D].x-v[k].x,L.y=v[D].y-v[k].y,W=u.xprod(R[0],L),q=u.xprod(R[0],x),te=u.xprod(R[1],L),K=u.xprod(R[1],x),O=1e7,q<0&&(O=Math.floor(W/-q)),K>0&&(O=Math.min(O,Math.floor(-te/K))),b[k]=u.mod(D+O,d))}for(O=b[d-1],c.lon[d-1]=O,k=d-2;k>=0;k--)u.cyclic(k+1,b[k],O)&&(O=b[k]),c.lon[k]=O;for(k=d-1;u.cyclic(u.mod(k+1,d),O,c.lon[k]);k--)c.lon[k]=O}function e(c){function d(q,te,K){var F=q.len,Y=q.pt,j=q.sums,Q,re,se,le,fe,ve,ne,ie,V,ee,$,G,I,P,Z=0;return K>=F&&(K-=F,Z=1),Z===0?(Q=j[K+1].x-j[te].x,re=j[K+1].y-j[te].y,le=j[K+1].x2-j[te].x2,se=j[K+1].xy-j[te].xy,fe=j[K+1].y2-j[te].y2,ve=K+1-te):(Q=j[K+1].x-j[te].x+j[F].x,re=j[K+1].y-j[te].y+j[F].y,le=j[K+1].x2-j[te].x2+j[F].x2,se=j[K+1].xy-j[te].xy+j[F].xy,fe=j[K+1].y2-j[te].y2+j[F].y2,ve=K+1-te+F),$=(Y[te].x+Y[K].x)/2-Y[0].x,G=(Y[te].y+Y[K].y)/2-Y[0].y,P=Y[K].x-Y[te].x,I=-(Y[K].y-Y[te].y),ne=(le-2*Q*$)/ve+$*$,ie=(se-Q*G-re*$)/ve+$*G,V=(fe-2*re*G)/ve+G*G,ee=I*I*ne+2*I*P*ie+P*P*V,Math.sqrt(ee)}var v,_,b,y,S=c.len,R=new Array(S+1),L=new Array(S+1),T=new Array(S),x=new Array(S+1),z=new Array(S+1),k=new Array(S+1),O,D,W;for(v=0;v<S;v++)W=u.mod(c.lon[u.mod(v-1,S)]-1,S),W==v&&(W=u.mod(v+1,S)),W<v?T[v]=S:T[v]=W;for(_=1,v=0;v<S;v++)for(;_<=T[v];)x[_]=v,_++;for(v=0,_=0;v<S;_++)z[_]=v,v=T[v];for(z[_]=S,b=_,v=S,_=b;_>0;_--)k[_]=v,v=x[v];for(k[0]=0,R[0]=0,_=1;_<=b;_++)for(v=k[_];v<=z[_];v++){for(D=-1,y=z[_-1];y>=x[v];y--)O=d(c,y,v)+R[y],(D<0||O<D)&&(L[v]=y,D=O);R[v]=D}for(c.m=b,c.po=new Array(b),v=S,_=b-1;v>0;_--)v=L[v],c.po[_]=v}function s(c){function d(ne,ie,V,ee,$){for(var G=ne.len,I=ne.sums,P,Z,U,C,A,X,ae,pe,_e,Ee,Pe,Re=0;V>=G;)V-=G,Re+=1;for(;ie>=G;)ie-=G,Re-=1;for(;V<0;)V+=G,Re-=1;for(;ie<0;)ie+=G,Re+=1;P=I[V+1].x-I[ie].x+Re*I[G].x,Z=I[V+1].y-I[ie].y+Re*I[G].y,U=I[V+1].x2-I[ie].x2+Re*I[G].x2,C=I[V+1].xy-I[ie].xy+Re*I[G].xy,A=I[V+1].y2-I[ie].y2+Re*I[G].y2,X=V+1-ie+Re*G,ee.x=P/X,ee.y=Z/X,ae=(U-P*P/X)/X,pe=(C-P*Z/X)/X,_e=(A-Z*Z/X)/X,Ee=(ae+_e+Math.sqrt((ae-_e)*(ae-_e)+4*pe*pe))/2,ae-=Ee,_e-=Ee,Math.abs(ae)>=Math.abs(_e)?(Pe=Math.sqrt(ae*ae+pe*pe),Pe!==0&&($.x=-pe/Pe,$.y=ae/Pe)):(Pe=Math.sqrt(_e*_e+pe*pe),Pe!==0&&($.x=-_e/Pe,$.y=pe/Pe)),Pe===0&&($.x=$.y=0)}var v=c.m,_=c.po,b=c.len,y=c.pt,S=c.x0,R=c.y0,L=new Array(v),T=new Array(v),x=new Array(v),z=new Array(3),k,O,D,W,q,te=new M;for(c.curve=new Ie(v),O=0;O<v;O++)D=_[u.mod(O+1,v)],D=u.mod(D-_[O],b)+_[O],L[O]=new M,T[O]=new M,d(c,_[O],D,L[O],T[O]);for(O=0;O<v;O++)if(x[O]=new w,k=T[O].x*T[O].x+T[O].y*T[O].y,k===0)for(D=0;D<3;D++)for(W=0;W<3;W++)x[O].data[D*3+W]=0;else for(z[0]=T[O].y,z[1]=-T[O].x,z[2]=-z[1]*L[O].y-z[0]*L[O].x,q=0;q<3;q++)for(W=0;W<3;W++)x[O].data[q*3+W]=z[q]*z[W]/k;var K,F,Y,j,Q,re,se,le,fe,ve;for(O=0;O<v;O++){for(K=new w,F=new M,te.x=y[_[O]].x-S,te.y=y[_[O]].y-R,D=u.mod(O-1,v),q=0;q<3;q++)for(W=0;W<3;W++)K.data[q*3+W]=x[D].at(q,W)+x[O].at(q,W);for(;;){if(Q=K.at(0,0)*K.at(1,1)-K.at(0,1)*K.at(1,0),Q!==0){F.x=(-K.at(0,2)*K.at(1,1)+K.at(1,2)*K.at(0,1))/Q,F.y=(K.at(0,2)*K.at(1,0)-K.at(1,2)*K.at(0,0))/Q;break}for(K.at(0,0)>K.at(1,1)?(z[0]=-K.at(0,1),z[1]=K.at(0,0)):K.at(1,1)?(z[0]=-K.at(1,1),z[1]=K.at(1,0)):(z[0]=1,z[1]=0),k=z[0]*z[0]+z[1]*z[1],z[2]=-z[1]*te.y-z[0]*te.x,q=0;q<3;q++)for(W=0;W<3;W++)K.data[q*3+W]+=z[q]*z[W]/k}if(Y=Math.abs(F.x-te.x),j=Math.abs(F.y-te.y),Y<=.5&&j<=.5){c.curve.vertex[O]=new M(F.x+S,F.y+R);continue}if(re=u.quadform(K,te),le=te.x,fe=te.y,K.at(0,0)!==0)for(ve=0;ve<2;ve++)F.y=te.y-.5+ve,F.x=-(K.at(0,1)*F.y+K.at(0,2))/K.at(0,0),Y=Math.abs(F.x-te.x),se=u.quadform(K,F),Y<=.5&&se<re&&(re=se,le=F.x,fe=F.y);if(K.at(1,1)!==0)for(ve=0;ve<2;ve++)F.x=te.x-.5+ve,F.y=-(K.at(1,0)*F.x+K.at(1,2))/K.at(1,1),j=Math.abs(F.y-te.y),se=u.quadform(K,F),j<=.5&&se<re&&(re=se,le=F.x,fe=F.y);for(q=0;q<2;q++)for(W=0;W<2;W++)F.x=te.x-.5+q,F.y=te.y-.5+W,se=u.quadform(K,F),se<re&&(re=se,le=F.x,fe=F.y);c.curve.vertex[O]=new M(le+S,fe+R)}}function f(c){var d=c.curve,v=d.n,_=d.vertex,b,y,S;for(b=0,y=v-1;b<y;b++,y--)S=_[b],_[b]=_[y],_[y]=S}function n(c){var d=c.curve.n,v=c.curve,_,b,y,S,R,L,T,x,z;for(_=0;_<d;_++)b=u.mod(_+1,d),y=u.mod(_+2,d),z=u.interval(1/2,v.vertex[y],v.vertex[b]),R=u.ddenom(v.vertex[_],v.vertex[y]),R!==0?(S=u.dpara(v.vertex[_],v.vertex[b],v.vertex[y])/R,S=Math.abs(S),L=S>1?1-1/S:0,L=L/.75):L=4/3,v.alpha0[b]=L,L>=a._params.alphaMax?(v.tag[b]="CORNER",v.c[3*b+1]=v.vertex[b],v.c[3*b+2]=z):(L<.55?L=.55:L>1&&(L=1),T=u.interval(.5+.5*L,v.vertex[_],v.vertex[b]),x=u.interval(.5+.5*L,v.vertex[y],v.vertex[b]),v.tag[b]="CURVE",v.c[3*b+0]=T,v.c[3*b+1]=x,v.c[3*b+2]=z),v.alpha[b]=L,v.beta[b]=.5;v.alphaCurve=1}function o(c){function d(re,se,le,fe,ve,ne,ie){var V=re.curve.n,ee=re.curve,$=ee.vertex,G,I,P,Z,U,C,A,X,ae,pe,_e,Ee,Pe,Re,Ce,Me,Se,Be,Oe,N,ce,de,ye;if(se==le||(G=se,U=u.mod(se+1,V),I=u.mod(G+1,V),Z=ne[I],Z===0))return 1;for(X=u.ddist($[se],$[U]),G=I;G!=le;G=I)if(I=u.mod(G+1,V),P=u.mod(G+2,V),ne[I]!=Z||u.sign(u.cprod($[se],$[U],$[I],$[P]))!=Z||u.iprod1($[se],$[U],$[I],$[P])<X*u.ddist($[I],$[P])*-.999847695156)return 1;if(_e=ee.c[u.mod(se,V)*3+2].copy(),Ee=$[u.mod(se+1,V)].copy(),Pe=$[u.mod(le,V)].copy(),Re=ee.c[u.mod(le,V)*3+2].copy(),C=ie[le]-ie[se],C-=u.dpara($[0],ee.c[se*3+2],ee.c[le*3+2])/2,se>=le&&(C+=ie[V]),Be=u.dpara(_e,Ee,Pe),Oe=u.dpara(_e,Ee,Re),N=u.dpara(_e,Pe,Re),ce=Be+N-Oe,Oe==Be||(ye=N/(N-ce),de=Oe/(Oe-Be),Me=Oe*ye/2,Me===0))return 1;for(Se=C/Me,A=2-Math.sqrt(4-Se/.3),fe.c[0]=u.interval(ye*A,_e,Ee),fe.c[1]=u.interval(de*A,Re,Pe),fe.alpha=A,fe.t=ye,fe.s=de,Ee=fe.c[0].copy(),Pe=fe.c[1].copy(),fe.pen=0,G=u.mod(se+1,V);G!=le;G=I){if(I=u.mod(G+1,V),ye=u.tangent(_e,Ee,Pe,Re,$[G],$[I]),ye<-.5||(Ce=u.bezier(ye,_e,Ee,Pe,Re),X=u.ddist($[G],$[I]),X===0)||(ae=u.dpara($[G],$[I],Ce)/X,Math.abs(ae)>ve)||u.iprod($[G],$[I],Ce)<0||u.iprod($[I],$[G],Ce)<0)return 1;fe.pen+=ae*ae}for(G=se;G!=le;G=I){if(I=u.mod(G+1,V),ye=u.tangent(_e,Ee,Pe,Re,ee.c[G*3+2],ee.c[I*3+2]),ye<-.5||(Ce=u.bezier(ye,_e,Ee,Pe,Re),X=u.ddist(ee.c[G*3+2],ee.c[I*3+2]),X===0)||(ae=u.dpara(ee.c[G*3+2],ee.c[I*3+2],Ce)/X,pe=u.dpara(ee.c[G*3+2],ee.c[I*3+2],$[I])/X,pe*=.75*ee.alpha[I],pe<0&&(ae=-ae,pe=-pe),ae<pe-ve))return 1;ae<pe&&(fe.pen+=(ae-pe)*(ae-pe))}return 0}var v=c.curve,_=v.n,b=v.vertex,y=new Array(_+1),S=new Array(_+1),R=new Array(_+1),L=new Array(_+1),T,x,z,k,O=new g,D,W,q,te,K,F,Y,j=new Array(_),Q=new Array(_+1);for(x=0;x<_;x++)v.tag[x]=="CURVE"?j[x]=u.sign(u.dpara(b[u.mod(x-1,_)],b[x],b[u.mod(x+1,_)])):j[x]=0;for(q=0,Q[0]=0,D=v.vertex[0],x=0;x<_;x++)W=u.mod(x+1,_),v.tag[W]=="CURVE"&&(te=v.alpha[W],q+=.3*te*(4-te)*u.dpara(v.c[x*3+2],b[W],v.c[W*3+2])/2,q+=u.dpara(D,v.c[x*3+2],v.c[W*3+2])/2),Q[x+1]=q;for(y[0]=-1,S[0]=0,R[0]=0,z=1;z<=_;z++)for(y[z]=z-1,S[z]=S[z-1],R[z]=R[z-1]+1,x=z-2;x>=0&&(k=d(c,x,u.mod(z,_),O,a._params.optTolerance,j,Q),!k);x--)(R[z]>R[x]+1||R[z]==R[x]+1&&S[z]>S[x]+O.pen)&&(y[z]=x,S[z]=S[x]+O.pen,R[z]=R[x]+1,L[z]=O,O=new g);for(T=R[_],K=new Ie(T),F=new Array(T),Y=new Array(T),z=_,x=T-1;x>=0;x--)y[z]==z-1?(K.tag[x]=v.tag[u.mod(z,_)],K.c[x*3+0]=v.c[u.mod(z,_)*3+0],K.c[x*3+1]=v.c[u.mod(z,_)*3+1],K.c[x*3+2]=v.c[u.mod(z,_)*3+2],K.vertex[x]=v.vertex[u.mod(z,_)],K.alpha[x]=v.alpha[u.mod(z,_)],K.alpha0[x]=v.alpha0[u.mod(z,_)],K.beta[x]=v.beta[u.mod(z,_)],F[x]=Y[x]=1):(K.tag[x]="CURVE",K.c[x*3+0]=L[z].c[0],K.c[x*3+1]=L[z].c[1],K.c[x*3+2]=v.c[u.mod(z,_)*3+2],K.vertex[x]=u.interval(L[z].s,v.c[u.mod(z,_)*3+2],b[u.mod(z,_)]),K.alpha[x]=L[z].alpha,K.alpha0[x]=L[z].alpha,F[x]=L[z].s,Y[x]=L[z].t),z=y[z];for(x=0;x<T;x++)W=u.mod(x+1,T),K.beta[x]=F[x]/(F[x]+Y[W]);K.alphaCurve=1,c.curve=K}for(var r=0;r<this._pathlist.length;r++){var h=this._pathlist[r];i(h),t(h),e(h),s(h),h.sign==="-"&&f(h),n(h),a._params.optCurve&&o(h)}},_validateParameters:function(a){if(a&&a.turnPolicy&&l.indexOf(a.turnPolicy)===-1){var i="'"+l.join("', '")+"'";throw new Error("Bad turnPolicy value. Allowed values are: "+i)}if(a&&a.threshold!=null&&a.threshold!==p.THRESHOLD_AUTO&&(typeof a.threshold!="number"||!u.between(a.threshold,0,255)))throw new Error("Bad threshold value. Expected to be an integer in range 0..255");if(a&&a.optCurve!=null&&typeof a.optCurve!="boolean")throw new Error("'optCurve' must be Boolean")},_processLoadedImage:function(a){var i=new xe(a.bitmap.width,a.bitmap.height),t=a.bitmap.data;a.scan(0,0,a.bitmap.width,a.bitmap.height,function(e,s,f){var n=t[f+3]/255,o=255+(t[f+0]-255)*n,r=255+(t[f+1]-255)*n,h=255+(t[f+2]-255)*n;i.data[f/4]=u.luminance(o,r,h)}),this._luminanceData=i,this._imageLoaded=!0},loadImage:function(a,i){var t=this,e={};this._imageLoadingIdentifier=e,this._imageLoaded=!1,a instanceof Ne?(this._imageLoadingIdentifier=null,this._imageLoaded=!0,t._processLoadedImage(a),i.call(t,null)):Ne.read(a,function(s,f){var n=t._imageLoadingIdentifier!==e;if(n){var o=s||new Error("Another image was loaded instead");return i.call(t,o)}t._imageLoadingIdentifier=null,t._processLoadedImage(f),i.call(t,null)})},setParameters:function(a){var i,t;this._validateParameters(a);for(i in this._params)this._params.hasOwnProperty(i)&&a.hasOwnProperty(i)&&(t=this._params[i],this._params[i]=a[i],t!==this._params[i]&&["color","background"].indexOf(i)===-1&&(this._processed=!1))},getPathTag:function(a,i){if(a=arguments.length===0?this._params.color:a,a===p.COLOR_AUTO&&(a=this._params.blackOnWhite?"black":"white"),!this._imageLoaded)throw new Error("Image should be loaded first");this._processed||(this._bmToPathlist(),this._processPath(),this._processed=!0);var t='<path d="';return t+=this._pathlist.map(function(e){return u.renderCurve(e.curve,i)}).join(" "),t+='" stroke="none" fill="'+a+'" fill-rule="evenodd"/>',t},getSymbol:function(a){return'<symbol viewBox="0 0 '+this._luminanceData.width+" "+this._luminanceData.height+'" id="'+a+'">'+this.getPathTag("")+"</symbol>"},getSVG:function(){var a=this._params.width||this._luminanceData.width,i=this._params.height||this._luminanceData.height,t={x:this._params.width?this._params.width/this._luminanceData.width:1,y:this._params.height?this._params.height/this._luminanceData.height:1};return'<svg xmlns="http://www.w3.org/2000/svg" width="'+a+'" height="'+i+'" viewBox="0 0 '+a+" "+i+`" version="1.1">
`+(this._params.background!==p.COLOR_TRANSPARENT?'	<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
`:"")+"	"+this.getPathTag(this._params.color,t)+`
</svg>`}},vt=p,vt}var mt,Nt;function Qt(){if(Nt)return mt;Nt=1;var Ne=Ft(),xe=nt();function Ie(H){this._potrace=new Ne,this._calculatedThreshold=null,this._params={threshold:Ne.THRESHOLD_AUTO,blackOnWhite:!0,steps:Ie.STEPS_AUTO,background:Ne.COLOR_TRANSPARENT,fillStrategy:Ie.FILL_DOMINANT,rangeDistribution:Ie.RANGES_AUTO},H&&this.setParameters(H)}for(var M in Ne)Object.prototype.hasOwnProperty.call(Ne,M)&&M===M.toUpperCase()&&(Ie[M]=Ne[M]);return Ie.STEPS_AUTO=-1,Ie.FILL_SPREAD="spread",Ie.FILL_DOMINANT="dominant",Ie.FILL_MEDIAN="median",Ie.FILL_MEAN="mean",Ie.RANGES_AUTO="auto",Ie.RANGES_EQUAL="equal",Ie.prototype={_addExtraColorStop:function(H){var w=this._params.blackOnWhite,E=H[H.length-1],g=w?0:E.value,u=w?E.value:255;if(u-g>25&&E.colorIntensity!==1){var p=this._getImageHistogram(),l=p.getStats(g,u).levels,a=l.mean+l.stdDev<=25?l.mean+l.stdDev:l.mean-l.stdDev<=25?l.mean-l.stdDev:25,i=w?p.getStats(0,a):p.getStats(a,255),t=i.levels.mean;H.push({value:Math.abs((w?0:255)-a),colorIntensity:isNaN(t)?0:(w?255-t:t)/255})}return H},_calcColorIntensity:function(H){var w=this._params.blackOnWhite,E=this._params.fillStrategy,g=E!==Ie.FILL_SPREAD?this._getImageHistogram():null,u=Math.abs(this._paramThreshold()-(w?0:255));return H.map(function(p,l){var a=l+1===H.length?w?-1:256:H[l+1],i=Math.round(w?a+1:p),t=Math.round(w?p:a-1),e=l/(H.length-1),s=t-i,f=g.getStats(i,t),n=-1;if(f.pixels===0)return{value:p,colorIntensity:0};switch(E){case Ie.FILL_SPREAD:n=(w?i:t)+(w?1:-1)*s*Math.max(.5,u/255)*e;break;case Ie.FILL_DOMINANT:n=g.getDominantColor(i,t,xe.clamp(s,1,5));break;case Ie.FILL_MEAN:n=f.levels.mean;break;case Ie.FILL_MEDIAN:n=f.levels.median;break}return l!==0&&(n=w?xe.clamp(n,i,t-Math.round(s*.1)):xe.clamp(n,i+Math.round(s*.1),t)),{value:p,colorIntensity:n===-1?0:(w?255-n:n)/255}})},_getImageHistogram:function(){return this._potrace._luminanceData.histogram()},_getRanges:function(){var H=this._paramSteps();if(!Array.isArray(H))return this._params.rangeDistribution===Ie.RANGES_AUTO?this._getRangesAuto():this._getRangesEquallyDistributed();var w=[],E=this._paramThreshold(),g=this._params.blackOnWhite;return H.forEach(function(u){w.indexOf(u)===-1&&xe.between(u,0,255)&&w.push(u)}),w.length||w.push(E),w=w.sort(function(u,p){return u<p===g?1:-1}),g&&w[0]<E?w.unshift(E):!g&&w[w.length-1]<E&&w.push(E),this._calcColorIntensity(w)},_getRangesAuto:function(){var H=this._getImageHistogram(),w=this._paramSteps(!0),E;if(this._params.threshold===Ne.THRESHOLD_AUTO)E=H.multilevelThresholding(w);else{var g=this._paramThreshold();E=this._params.blackOnWhite?H.multilevelThresholding(w-1,0,g):H.multilevelThresholding(w-1,g,255),this._params.blackOnWhite?E.push(g):E.unshift(g)}return this._params.blackOnWhite&&(E=E.reverse()),this._calcColorIntensity(E)},_getRangesEquallyDistributed:function(){for(var H=this._params.blackOnWhite,w=H?this._paramThreshold():255-this._paramThreshold(),E=this._paramSteps(),g=w/E,u=[],p=E-1,l;p>=0;)l=Math.min(w,(p+1)*g),l=H?l:255-l,p--,u.push(l);return this._calcColorIntensity(u)},_paramSteps:function(H){var w=this._params.steps;if(Array.isArray(w))return H?w.length:w;if(w===Ie.STEPS_AUTO&&this._params.threshold===Ne.THRESHOLD_AUTO)return 4;var E=this._params.blackOnWhite,g=E?this._paramThreshold():255-this._paramThreshold();return w===Ie.STEPS_AUTO?g>200?4:3:Math.min(g,Math.max(2,w))},_paramThreshold:function(){if(this._calculatedThreshold!==null)return this._calculatedThreshold;if(this._params.threshold!==Ne.THRESHOLD_AUTO)return this._calculatedThreshold=this._params.threshold,this._calculatedThreshold;var H=this._getImageHistogram().multilevelThresholding(2);return this._calculatedThreshold=this._params.blackOnWhite?H[1]:H[0],this._calculatedThreshold=this._calculatedThreshold||128,this._calculatedThreshold},_pathTags:function(H){var w=this._getRanges(),E=this._potrace,g=this._params.blackOnWhite;w.length>=10&&(w=this._addExtraColorStop(w)),E.setParameters({blackOnWhite:g});var u=0;return w.map(function(p){var l=p.colorIntensity;if(l===0)return"";var a=!u||l===1?l:(u-l)/(u-1);a=xe.clamp(parseFloat(a.toFixed(3)),0,1),u=u+(1-u)*a,E.setParameters({threshold:p.value});var i=H?E.getPathTag(""):E.getPathTag();i=xe.setHtmlAttr(i,"fill-opacity",a.toFixed(3));var t=a===0||i.indexOf(' d=""')!==-1;return t?"":i})},loadImage:function(H,w){var E=this;this._potrace.loadImage(H,function(g){E._calculatedThreshold=null,w.call(E,g)})},setParameters:function(H){if(H){if(this._potrace.setParameters(H),H.steps&&!Array.isArray(H.steps)&&(!xe.isNumber(H.steps)||!xe.between(H.steps,1,255)))throw new Error("Bad 'steps' value");for(var w in this._params)this._params.hasOwnProperty(w)&&H.hasOwnProperty(w)&&(this._params[w]=H[w]);this._calculatedThreshold=null}},getSymbol:function(H){var w=this._potrace._luminanceData.width,E=this._potrace._luminanceData.height,g=this._pathTags(!0);return'<symbol viewBox="0 0 '+w+" "+E+'" id="'+H+'">'+g.join("")+"</symbol>"},getSVG:function(){var H=this._potrace._luminanceData.width,w=this._potrace._luminanceData.height,E=this._pathTags(!1),g='<svg xmlns="http://www.w3.org/2000/svg" width="'+H+'" height="'+w+'" viewBox="0 0 '+H+" "+w+`" version="1.1">
	`+(this._params.background!==Ne.COLOR_TRANSPARENT?'<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
	`:"")+E.join(`
	`)+`
</svg>`;return g.replace(/\n(?:\t*\n)+(\t*)/g,`
$1`)}},mt=Ie,mt}var _t,xt;function Kt(){if(xt)return _t;xt=1;var Ne=Ft(),xe=Qt();function Ie(H,w,E){arguments.length===2&&(E=w,w={});var g=new Ne(w);g.loadImage(H,function(u){if(u)return E(u);E(null,g.getSVG(),g)})}function M(H,w,E){arguments.length===2&&(E=w,w={});var g=new xe(w);g.loadImage(H,function(u){if(u)return E(u);E(null,g.getSVG(),g)})}return _t={trace:Ie,posterize:M,Potrace:Ne,Posterizer:xe},_t}var Jt=Kt();const qt=Gt(Jt),$t=Ne=>new Promise((xe,Ie)=>{try{const M={color:"#000000",background:"transparent",threshold:128};qt.trace(Ne,M,(H,w)=>{H?Ie(H):xe(w)})}catch(M){Ie(M)}}),sr=()=>{const[Ne,xe]=tt.useState(null),[Ie,M]=tt.useState(!1),[H,w]=tt.useState(null),E=tt.useCallback((i,t)=>{if(w(null),t.length>0){w("Please upload a valid image file (JPEG, PNG, etc.)");return}const e=i[0],s=new FileReader;s.onload=()=>{xe(s.result)},s.readAsDataURL(e)},[]),{getRootProps:g,getInputProps:u,isDragActive:p,isDragReject:l}=Ht({onDrop:E,accept:{"image/*":[".jpeg",".jpg",".png",".webp",".gif",".bmp"]},maxFiles:1}),a=async()=>{if(Ne){M(!0),w(null);try{const i=await $t(Ne),t=new Blob([i],{type:"image/svg+xml"});jt.saveAs(t,"converted-image.svg")}catch(i){w("Failed to convert image to SVG. Please try another image."),console.error("Conversion error:",i)}finally{M(!1)}}};return Ze.jsx(Ze.Fragment,{children:Ze.jsxs("div",{className:"converter-container container",children:[Ze.jsx("h1",{className:"content-title",children:"Image to SVG Converter"}),Ze.jsx("div",{className:"drop-zone-wrapper",children:Ze.jsxs("div",{...g({className:`dropzone ${p?"dropzone-active":""} ${l?"dropzone-reject":""}`}),children:[Ze.jsx("input",{...u()}),Ze.jsx("div",{className:"drop-icon",children:Ze.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-box-arrow-down",viewBox:"0 0 16 16",children:[Ze.jsx("path",{fillRule:"evenodd",d:"M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"}),Ze.jsx("path",{fillRule:"evenodd",d:"M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"})]})}),p?Ze.jsx("p",{children:"Drop the image here..."}):Ze.jsx("p",{children:"Drag & drop an image here, or click to select"}),l&&Ze.jsx("p",{children:"Unsupported file type"})]})}),Ne&&Ze.jsxs(Ze.Fragment,{children:[Ze.jsx("div",{className:"preview-container",children:Ze.jsx("img",{src:Ne,alt:"Preview",className:"preview-image"})}),Ze.jsx("button",{onClick:a,disabled:Ie,className:"convert-button",children:Ie?"Converting...":"Download SVG"})]}),H&&Ze.jsx("p",{className:"error-message",children:H})]})})};export{sr as default};
