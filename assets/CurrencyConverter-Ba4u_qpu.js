import{r as l,j as e}from"./index-CVcNbIs1.js";import{a as L}from"./index-ngrFHoWO.js";import{T as j}from"./ThemeableSelect-BAkb02Mq.js";import"./slicedToArray-DOD8vD1W.js";import"./defineProperty-DWm6lKFB.js";import"./toConsumableArray-CFt2I6r5.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./memoize-one.esm-BHZvq9gn.js";import"./globalStore-ByoUXurI.js";const T=()=>{const[m,n]=l.useState(""),[d,v]=l.useState(),[r,g]=l.useState("NPR"),[x,c]=l.useState("INR"),[b,N]=l.useState(!0),[u,h]=l.useState(!1),[i,f]=l.useState(!1),[w,R]=l.useState(!1),[p,k]=l.useState([]);l.useEffect(()=>{L.get("https://www.nrb.org.np/api/forex/v1/app-rate").then(t=>{var a;f(t.data),R((a=t.data[0])==null?void 0:a.published_on),k(()=>[{value:"NPR",label:"Nepalese Rupee (NPR)"},...t.data.map(s=>({value:s==null?void 0:s.iso3,label:`${s==null?void 0:s.name} (${s==null?void 0:s.iso3})`}))]),N(!1)})},[]);const C=t=>{if(t.preventDefault(),h(!0),!d){h(!1);return}if(r===x){n(`${d} ${r} is equal to ${d} ${x}`),h(!1);return}var a=i==null?void 0:i.find(o=>(o==null?void 0:o.iso3)==r),s=i==null?void 0:i.find(o=>(o==null?void 0:o.iso3)==x);a=a?a.buy/a.unit:1,s=s?s.buy/s.unit:1,n(`${d} ${r} is equal to ${(d*a/s).toFixed(4)} ${x}`),h(!1)},$=()=>{const t=x;c(r),g(t),n("")};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"container",children:[e.jsx("h1",{className:"content-title",children:"Currency Converter"}),e.jsx("div",{className:"currency-converter-inputs",children:b?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"skeleton-container currency-converter-inputs",style:{width:"100%",height:"auto",margin:0,padding:0,display:"block",borderRadius:"4px"},children:[e.jsx("div",{className:"skeleton-line section-title",style:{width:"400px",height:"20px",marginBottom:"8px",borderRadius:"4px"}}),e.jsx("hr",{style:{marginBottom:"15px"}}),e.jsx("div",{className:"skeleton-container table-container",style:{width:"100%",height:"auto",margin:0,padding:0,display:"block",borderRadius:"4px"},children:e.jsxs("div",{className:"skeleton-table table table-hover",style:{width:"100%"},children:[e.jsxs("div",{className:"skeleton-table-row",style:{display:"flex",marginBottom:"4px"},children:[e.jsx("div",{style:{flex:1,height:"20px",marginRight:"8px",borderRadius:"2px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:10,height:"20px",marginRight:"8px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:2,height:"20px",marginRight:"8px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:2,height:"20px",marginRight:"8px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:2,height:"20px",marginRight:"8px",borderRadius:"4px"}})]}),[...Array(24)].map((t,a)=>e.jsxs("div",{className:"skeleton-table-row",style:{display:"flex",marginBottom:"2px"},children:[e.jsx("div",{className:"skeleton-table-cell",style:{flex:1,height:"20px",marginRight:"8px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:10,height:"20px",marginRight:"8px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:2,height:"20px",marginRight:"8px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:2,height:"20px",marginRight:"8px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-table-cell",style:{flex:2,height:"20px",marginRight:"8px",borderRadius:"4px"}})]},`table-row-${a}`))]})}),e.jsx("div",{className:"skeleton-line section-title",style:{width:"200px",height:"20px",marginBottom:"8px",borderRadius:"4px"}}),e.jsx("hr",{style:{marginBottom:"15px"}}),e.jsxs("div",{className:"skeleton-container currency-converter-select-group",style:{width:"100%",height:"auto",margin:0,padding:0,display:"flex",gap:"20px",borderRadius:"4px",alignItems:"center"},children:[e.jsx("div",{className:"skeleton-input currency-select",style:{width:"100%",maxWidth:"200px",height:"20px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-input currency-select",style:{width:"100%",height:"20px",borderRadius:"4px"}}),e.jsx("div",{className:"skeleton-input currency-select",style:{width:"100%",height:"20px",borderRadius:"4px"}})]}),e.jsx("div",{className:"skeleton-container currency-converter-button",style:{width:"100%",height:"auto",margin:0,padding:0,display:"flex",borderRadius:"4px"},children:e.jsx("div",{className:"skeleton-button btn btn-primary shadow",style:{width:"100px",height:"40px",borderRadius:"4px"}})})]})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("em",{children:["Last Updated: ",w]})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col"}),e.jsx("th",{scope:"col",className:"text-left",children:"Currency"}),e.jsx("th",{scope:"col",className:"text-right",children:"Unit"}),e.jsx("th",{scope:"col",className:"text-right",children:"Buying"}),e.jsx("th",{scope:"col",className:"text-right",children:"Selling"})]})}),e.jsx("tbody",{children:i==null?void 0:i.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("img",{className:"country-logo",src:`https://flagcdn.com/56x42/${t==null?void 0:t.iso3.slice(0,-1).toLowerCase()}.png`})}),e.jsx("td",{className:"text-left",children:`${t==null?void 0:t.name} (${t==null?void 0:t.iso3})`}),e.jsx("td",{className:"text-right",children:t==null?void 0:t.unit}),e.jsx("td",{className:"text-right",children:t==null?void 0:t.buy}),e.jsx("td",{className:"text-right",children:t==null?void 0:t.sell})]},"currency-table-"+(t==null?void 0:t.iso3)))})]})}),e.jsx("h4",{className:"section-title",children:"Currency conversion"}),e.jsxs("div",{className:"currency-converter-select-group",children:[e.jsx("input",{type:"number",className:"form-control",value:d,onChange:t=>{v(t.target.value),n("")},placeholder:"Amount"}),e.jsx(j,{value:p.filter(t=>t.value===r),onChange:t=>{g(t.value),n("")},className:"currency-select",options:p,formatOptionLabel:t=>e.jsxs("div",{className:"country-option",children:[e.jsx("img",{src:`https://flagcdn.com/56x42/${t.value.slice(0,-1).toLowerCase()}.png`,alt:"country-image"}),e.jsx("span",{children:t.label})]})}),e.jsxs("span",{className:"toggle-currency",onClick:$,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-left-right",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5m14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5"})}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-down-up",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5"})})]}),e.jsx(j,{value:p.filter(t=>t.value===x),onChange:t=>{c(t.value),n("")},className:"currency-select",options:p,formatOptionLabel:t=>e.jsxs("div",{className:"country-option",children:[e.jsx("img",{src:`https://flagcdn.com/56x42/${t.value.slice(0,-1).toLowerCase()}.png`,alt:"country-image"}),e.jsx("span",{children:t.label})]})})]}),e.jsx("div",{className:"currency-converter-button",children:e.jsx("button",{className:"btn btn-primary shadow",type:"submit",onClick:C,children:"Convert"})})]})}),u?e.jsx(e.Fragment,{children:e.jsx("div",{id:"loading",className:"text-center",children:e.jsx("div",{className:"spinner-border",style:{color:"teal"},role:"status"})})}):e.jsx(e.Fragment,{children:m&&e.jsx("div",{id:"result",className:"date-converter-output-date",children:e.jsx("h2",{className:"text-center ff-text",children:m})})})]})})};export{T as default};
