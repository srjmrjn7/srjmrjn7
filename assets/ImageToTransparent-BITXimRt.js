import{r as t,j as e}from"./index-CVcNbIs1.js";import{u as w}from"./index-VHgGGu6K.js";import{a as f}from"./index-ngrFHoWO.js";import{z as b}from"./index-2roNfZMn.js";import"./index-C8zOzmke.js";import"./index-Chjiymov.js";import"./tslib.es6-DL2BruWv.js";function z(){const[o,n]=t.useState(null),[c,i]=t.useState(!1),[d,p]=t.useState(null),m=t.useCallback(async a=>{const r=a[0];if(r){const s=new FileReader;s.onloadend=()=>{p(s.result)},s.readAsDataURL(r)}i(!0);const l=new FormData;l.append("image",r);try{const s=await f.post("https://api.prosysvps.com/api/remove-background",l,{responseType:"blob"}),v=window.URL.createObjectURL(new Blob([s.data]));n(v)}catch{b.error("An error occurred while processing the image.",{position:"top-right"})}finally{i(!1)}},[]),{getRootProps:h,getInputProps:g,isDragActive:u}=w({onDrop:m,accept:{"image/*":[]},multiple:!1}),x=()=>{const a=document.createElement("a");a.href=o,a.setAttribute("download","background_removed.png"),document.body.appendChild(a),a.click(),a.remove()},j=()=>{n(null)};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"container",children:[e.jsx("h1",{className:"content-title",children:"Image to Transparent"}),e.jsxs("div",{className:"drop-zone-wrapper",children:[e.jsxs("div",{...h(),className:"dropzone",children:[e.jsx("input",{...g()}),e.jsx("div",{className:"drop-icon",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-box-arrow-down",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"}),e.jsx("path",{fillRule:"evenodd",d:"M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"})]})}),u?e.jsx("p",{children:"Almost there! Drop the file here to upload..."}):e.jsx("p",{children:"Drag & Drop an image here, or click to select one"})]}),o&&e.jsxs("div",{className:"preview-container",children:[e.jsx("img",{src:o||d,alt:"Image to transparent",className:"preview-img"}),e.jsx("button",{className:"close-btn",onClick:j,children:"Ã—"})]}),e.jsx("div",{className:"flex justify-content-center",children:c?e.jsx("p",{children:"Processing..."}):e.jsx(e.Fragment,{children:o&&e.jsx("button",{onClick:x,className:"action-btn",children:"Download Transparent Image"})})})]})]})})}export{z as default};
