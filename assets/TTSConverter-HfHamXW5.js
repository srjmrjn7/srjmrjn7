import{r as o,j as e}from"./index-CVcNbIs1.js";import{S as i}from"./index-BhgwhRmT.js";import"./slicedToArray-DOD8vD1W.js";import"./defineProperty-DWm6lKFB.js";import"./toConsumableArray-CFt2I6r5.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./index-BrMkgVcA.js";import"./extends-CF3RwP-h.js";const L=()=>{const[c,b]=o.useState(""),[r,x]=o.useState(null),[d,S]=o.useState([]),[h,n]=o.useState(!1),[w,l]=o.useState(null),[u,v]=o.useState(1),[g,f]=o.useState(1),[m,j]=o.useState(1);o.useEffect(()=>{const s=()=>{const t=window.speechSynthesis.getVoices();S(t),t.length>0&&!r&&x(t[0])};return s(),window.speechSynthesis.onvoiceschanged=s,()=>{window.speechSynthesis.onvoiceschanged=null}},[r]);const y=s=>{if(s.preventDefault(),!c.trim()){l("Please enter some text");return}if(!r){l("No voice available");return}n(!0),l(null);try{const t=new SpeechSynthesisUtterance(c);t.voice=r,t.pitch=u,t.rate=g,t.volume=m,t.onend=()=>n(!1),t.onerror=a=>{l("Error during speech synthesis"),console.error(a),n(!1)},window.speechSynthesis.speak(t)}catch(t){l("Speech synthesis not supported"),console.error(t),n(!1)}},C=()=>{window.speechSynthesis.cancel(),n(!1)},p=s=>{const{value:t,dragging:a,index:N,...k}=s;return e.jsx(i.Handle,{value:t,...k,children:e.jsx("div",{className:`slider-handle ${a?"dragging":""}`,children:t})})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"tts-container container",children:[e.jsx("h1",{className:"content-title",children:"Text to Speech"}),e.jsxs("form",{onSubmit:y,className:"tts-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"text-input",children:"Enter your text:"}),e.jsx("textarea",{id:"text-input",value:c,onChange:s=>b(s.target.value),placeholder:"Type something to convert to speech...",rows:"5"})]}),d.length>0&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"voice-select",children:"Select voice:"}),e.jsx("select",{id:"voice-select",value:r?r.voiceURI:"",onChange:s=>{const t=d.find(a=>a.voiceURI===s.target.value);x(t)},children:d.map(s=>e.jsxs("option",{value:s.voiceURI,children:[`${s.name} (${s.lang})`,s.default?" â€” DEFAULT":""]},s.voiceURI))})]}),e.jsxs("div",{className:"form-group slider-group",children:[e.jsxs("label",{children:["Pitch: ",u.toFixed(1)]}),e.jsx(i,{min:.5,max:2,step:.1,value:u,onChange:v,handle:p,trackStyle:{backgroundColor:"#3498db",height:6},railStyle:{backgroundColor:"#ddd",height:6},handleStyle:{borderColor:"#3498db",height:20,width:20,marginTop:-7,backgroundColor:"#fff"}})]}),e.jsxs("div",{className:"form-group slider-group",children:[e.jsxs("label",{children:["Speed: ",g.toFixed(1)]}),e.jsx(i,{min:.5,max:2,step:.1,value:g,onChange:f,handle:p,trackStyle:{backgroundColor:"#3498db",height:6},railStyle:{backgroundColor:"#ddd",height:6},handleStyle:{borderColor:"#3498db",height:20,width:20,marginTop:-7,backgroundColor:"#fff"}})]}),e.jsxs("div",{className:"form-group slider-group",children:[e.jsxs("label",{children:["Volume: ",m.toFixed(1)]}),e.jsx(i,{min:0,max:1,step:.1,value:m,onChange:j,handle:p,trackStyle:{backgroundColor:"#3498db",height:6},railStyle:{backgroundColor:"#ddd",height:6},handleStyle:{borderColor:"#3498db",height:20,width:20,marginTop:-7,backgroundColor:"#fff"}})]}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{type:"submit",className:"btn mr-2",disabled:h,children:h?"Speaking...":"Speak"}),e.jsx("button",{type:"button",onClick:C,disabled:!h,className:"stop-button btn",children:"Stop"})]})]})]})})};export{L as default};
