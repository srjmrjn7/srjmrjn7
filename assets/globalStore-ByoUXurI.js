import{R as r}from"./index-CVcNbIs1.js";const u=e=>{let t;const n=new Set,o=(d,w)=>{const c=typeof d=="function"?d(t):d;if(!Object.is(c,t)){const S=t;t=w??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(m=>m(t,S))}},i=()=>t,a={setState:o,getState:i,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d))},h=t=e(o,i,a);return a},f=(e=>e?u(e):u),b=e=>e;function k(e,t=b){const n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n}const l=e=>{const t=f(e),n=o=>k(t,o);return Object.assign(n,t),n},y=(e=>e?l(e):l),W=y(e=>{const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=typeof window<"u"&&localStorage.getItem("theme")||n;return{windowWidth:typeof window<"u"?window.innerWidth:0,windowHeight:typeof window<"u"?window.innerHeight:0,setWindowSize:(i,s)=>e({windowWidth:i,windowHeight:s}),theme:o,toggleTheme:()=>e(i=>{const s=i.theme==="light"?"dark":"light";return localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark"),{theme:s}})}}),g=W;typeof window<"u"&&(g.getState().setWindowSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",()=>{g.getState().setWindowSize(window.innerWidth,window.innerHeight)}));export{W as u};
